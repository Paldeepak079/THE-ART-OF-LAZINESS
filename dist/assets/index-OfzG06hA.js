(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var i2={exports:{}},Cc={},o2={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al=Symbol.for("react.element"),k4=Symbol.for("react.portal"),x4=Symbol.for("react.fragment"),E4=Symbol.for("react.strict_mode"),C4=Symbol.for("react.profiler"),A4=Symbol.for("react.provider"),N4=Symbol.for("react.context"),O4=Symbol.for("react.forward_ref"),I4=Symbol.for("react.suspense"),M4=Symbol.for("react.memo"),R4=Symbol.for("react.lazy"),um=Symbol.iterator;function D4(t){return t===null||typeof t!="object"?null:(t=um&&t[um]||t["@@iterator"],typeof t=="function"?t:null)}var a2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l2=Object.assign,u2={};function Co(t,e,n){this.props=t,this.context=e,this.refs=u2,this.updater=n||a2}Co.prototype.isReactComponent={};Co.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Co.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function c2(){}c2.prototype=Co.prototype;function Uf(t,e,n){this.props=t,this.context=e,this.refs=u2,this.updater=n||a2}var jf=Uf.prototype=new c2;jf.constructor=Uf;l2(jf,Co.prototype);jf.isPureReactComponent=!0;var cm=Array.isArray,h2=Object.prototype.hasOwnProperty,Bf={current:null},d2={key:!0,ref:!0,__self:!0,__source:!0};function f2(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)h2.call(e,r)&&!d2.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:al,type:t,key:i,ref:o,props:s,_owner:Bf.current}}function b4(t,e){return{$$typeof:al,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $f(t){return typeof t=="object"&&t!==null&&t.$$typeof===al}function P4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hm=/\/+/g;function Eh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?P4(""+t.key):e.toString(36)}function eu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case al:case k4:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Eh(o,0):r,cm(s)?(n="",t!=null&&(n=t.replace(hm,"$&/")+"/"),eu(s,e,n,"",function(u){return u})):s!=null&&($f(s)&&(s=b4(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",cm(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Eh(i,a);o+=eu(i,e,n,l,s)}else if(l=D4(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Eh(i,a++),o+=eu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nl(t,e,n){if(t==null)return t;var r=[],s=0;return eu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function F4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},tu={transition:null},L4={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:tu,ReactCurrentOwner:Bf};function p2(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Nl,forEach:function(t,e,n){Nl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nl(t,function(){e++}),e},toArray:function(t){return Nl(t,function(e){return e})||[]},only:function(t){if(!$f(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=Co;ee.Fragment=x4;ee.Profiler=C4;ee.PureComponent=Uf;ee.StrictMode=E4;ee.Suspense=I4;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L4;ee.act=p2;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=l2({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Bf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)h2.call(e,l)&&!d2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:al,type:t.type,key:s,ref:i,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:N4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:A4,_context:t},t.Consumer=t};ee.createElement=f2;ee.createFactory=function(t){var e=f2.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:O4,render:t}};ee.isValidElement=$f;ee.lazy=function(t){return{$$typeof:R4,_payload:{_status:-1,_result:t},_init:F4}};ee.memo=function(t,e){return{$$typeof:M4,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=tu.transition;tu.transition={};try{t()}finally{tu.transition=e}};ee.unstable_act=p2;ee.useCallback=function(t,e){return Vt.current.useCallback(t,e)};ee.useContext=function(t){return Vt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return Vt.current.useEffect(t,e)};ee.useId=function(){return Vt.current.useId()};ee.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return Vt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};ee.useRef=function(t){return Vt.current.useRef(t)};ee.useState=function(t){return Vt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return Vt.current.useTransition()};ee.version="18.3.1";o2.exports=ee;var ce=o2.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V4=ce,U4=Symbol.for("react.element"),j4=Symbol.for("react.fragment"),B4=Object.prototype.hasOwnProperty,$4=V4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z4={key:!0,ref:!0,__self:!0,__source:!0};function m2(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)B4.call(e,r)&&!z4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:U4,type:t,key:i,ref:o,props:s,_owner:$4.current}}Cc.Fragment=j4;Cc.jsx=m2;Cc.jsxs=m2;i2.exports=Cc;var j=i2.exports,g2={exports:{}},fn={},_2={exports:{}},y2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,M){var D=O.length;O.push(M);e:for(;0<D;){var L=D-1>>>1,Y=O[L];if(0<s(Y,M))O[L]=M,O[D]=Y,D=L;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var M=O[0],D=O.pop();if(D!==M){O[0]=D;e:for(var L=0,Y=O.length,dt=Y>>>1;L<dt;){var Ge=2*(L+1)-1,J=O[Ge],oe=Ge+1,et=O[oe];if(0>s(J,D))oe<Y&&0>s(et,J)?(O[L]=et,O[oe]=D,L=oe):(O[L]=J,O[Ge]=D,L=Ge);else if(oe<Y&&0>s(et,D))O[L]=et,O[oe]=D,L=oe;else break e}}return M}function s(O,M){var D=O.sortIndex-M.sortIndex;return D!==0?D:O.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,m=!1,p=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=O)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function k(O){if(_=!1,y(O),!p)if(n(l)!==null)p=!0,B(v);else{var M=n(u);M!==null&&$(k,M.startTime-O)}}function v(O,M){p=!1,_&&(_=!1,f(T),T=-1),m=!0;var D=d;try{for(y(M),h=n(l);h!==null&&(!(h.expirationTime>M)||O&&!N());){var L=h.callback;if(typeof L=="function"){h.callback=null,d=h.priorityLevel;var Y=L(h.expirationTime<=M);M=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(l)&&r(l),y(M)}else r(l);h=n(l)}if(h!==null)var dt=!0;else{var Ge=n(u);Ge!==null&&$(k,Ge.startTime-M),dt=!1}return dt}finally{h=null,d=D,m=!1}}var S=!1,x=null,T=-1,C=5,E=-1;function N(){return!(t.unstable_now()-E<C)}function A(){if(x!==null){var O=t.unstable_now();E=O;var M=!0;try{M=x(!0,O)}finally{M?b():(S=!1,x=null)}}else S=!1}var b;if(typeof g=="function")b=function(){g(A)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,X=P.port2;P.port1.onmessage=A,b=function(){X.postMessage(null)}}else b=function(){w(A,0)};function B(O){x=O,S||(S=!0,b())}function $(O,M){T=w(function(){O(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,B(v))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var D=d;d=M;try{return O()}finally{d=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,M){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var D=d;d=O;try{return M()}finally{d=D}},t.unstable_scheduleCallback=function(O,M,D){var L=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?L+D:L):D=L,O){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=D+Y,O={id:c++,callback:M,priorityLevel:O,startTime:D,expirationTime:Y,sortIndex:-1},D>L?(O.sortIndex=D,e(u,O),n(l)===null&&O===n(u)&&(_?(f(T),T=-1):_=!0,$(k,D-L))):(O.sortIndex=Y,e(l,O),p||m||(p=!0,B(v))),O},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(O){var M=d;return function(){var D=d;d=M;try{return O.apply(this,arguments)}finally{d=D}}}})(y2);_2.exports=y2;var W4=_2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G4=ce,hn=W4;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v2=new Set,xa={};function _i(t,e){io(t,e),io(t+"Capture",e)}function io(t,e){for(xa[t]=e,t=0;t<e.length;t++)v2.add(e[t])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=Object.prototype.hasOwnProperty,q4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dm={},fm={};function H4(t){return gd.call(fm,t)?!0:gd.call(dm,t)?!1:q4.test(t)?fm[t]=!0:(dm[t]=!0,!1)}function X4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y4(t,e,n,r){if(e===null||typeof e>"u"||X4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var zf=/[\-:]([a-z])/g;function Wf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zf,Wf);vt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zf,Wf);vt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zf,Wf);vt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gf(t,e,n,r){var s=vt.hasOwnProperty(e)?vt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y4(e,n,s,r)&&(n=null),r||s===null?H4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=G4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),qf=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),w2=Symbol.for("react.provider"),T2=Symbol.for("react.context"),Hf=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),vd=Symbol.for("react.suspense_list"),Xf=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),S2=Symbol.for("react.offscreen"),pm=Symbol.iterator;function Go(t){return t===null||typeof t!="object"?null:(t=pm&&t[pm]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Ch;function ia(t){if(Ch===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ch=e&&e[1]||""}return`
`+Ch+t}var Ah=!1;function Nh(t,e){if(!t||Ah)return"";Ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ah=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ia(t):""}function Q4(t){switch(t.tag){case 5:return ia(t.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return t=Nh(t.type,!1),t;case 11:return t=Nh(t.type.render,!1),t;case 1:return t=Nh(t.type,!0),t;default:return""}}function wd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ri:return"Fragment";case Mi:return"Portal";case _d:return"Profiler";case qf:return"StrictMode";case yd:return"Suspense";case vd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T2:return(t.displayName||"Context")+".Consumer";case w2:return(t._context.displayName||"Context")+".Provider";case Hf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xf:return e=t.displayName||null,e!==null?e:wd(t.type)||"Memo";case Kr:e=t._payload,t=t._init;try{return wd(t(e))}catch{}}return null}function K4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wd(e);case 8:return e===qf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function k2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z4(t){var e=k2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Il(t){t._valueTracker||(t._valueTracker=Z4(t))}function x2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=k2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Td(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function E2(t,e){e=e.checked,e!=null&&Gf(t,"checked",e,!1)}function Sd(t,e){E2(t,e);var n=vs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kd(t,e.type,n):e.hasOwnProperty("defaultValue")&&kd(t,e.type,vs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kd(t,e,n){(e!=="number"||Tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oa=Array.isArray;function Yi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function xd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _m(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(oa(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vs(n)}}function C2(t,e){var n=vs(e.value),r=vs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ym(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ed(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ml,N2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ml=Ml||document.createElement("div"),Ml.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ea(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J4=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(t){J4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ha[e]=ha[t]})});function O2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ha.hasOwnProperty(t)&&ha[t]?(""+e).trim():e+"px"}function I2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=O2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ew=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cd(t,e){if(e){if(ew[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Ad(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=null;function Yf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Od=null,Qi=null,Ki=null;function vm(t){if(t=cl(t)){if(typeof Od!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Mc(e),Od(t.stateNode,t.type,e))}}function M2(t){Qi?Ki?Ki.push(t):Ki=[t]:Qi=t}function R2(){if(Qi){var t=Qi,e=Ki;if(Ki=Qi=null,vm(t),e)for(t=0;t<e.length;t++)vm(e[t])}}function D2(t,e){return t(e)}function b2(){}var Oh=!1;function P2(t,e,n){if(Oh)return t(e,n);Oh=!0;try{return D2(t,e,n)}finally{Oh=!1,(Qi!==null||Ki!==null)&&(b2(),R2())}}function Ca(t,e){var n=t.stateNode;if(n===null)return null;var r=Mc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Id=!1;if(Rr)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){Id=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{Id=!1}function tw(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var da=!1,Su=null,ku=!1,Md=null,nw={onError:function(t){da=!0,Su=t}};function rw(t,e,n,r,s,i,o,a,l){da=!1,Su=null,tw.apply(nw,arguments)}function sw(t,e,n,r,s,i,o,a,l){if(rw.apply(this,arguments),da){if(da){var u=Su;da=!1,Su=null}else throw Error(I(198));ku||(ku=!0,Md=u)}}function yi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function F2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wm(t){if(yi(t)!==t)throw Error(I(188))}function iw(t){var e=t.alternate;if(!e){if(e=yi(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wm(s),t;if(i===r)return wm(s),e;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function L2(t){return t=iw(t),t!==null?V2(t):null}function V2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V2(t);if(e!==null)return e;t=t.sibling}return null}var U2=hn.unstable_scheduleCallback,Tm=hn.unstable_cancelCallback,ow=hn.unstable_shouldYield,aw=hn.unstable_requestPaint,Ye=hn.unstable_now,lw=hn.unstable_getCurrentPriorityLevel,Qf=hn.unstable_ImmediatePriority,j2=hn.unstable_UserBlockingPriority,xu=hn.unstable_NormalPriority,uw=hn.unstable_LowPriority,B2=hn.unstable_IdlePriority,Ac=null,ur=null;function cw(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Ac,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:fw,hw=Math.log,dw=Math.LN2;function fw(t){return t>>>=0,t===0?32:31-(hw(t)/dw|0)|0}var Rl=64,Dl=4194304;function aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=aa(a):(i&=o,i!==0&&(r=aa(i)))}else o=n&~s,o!==0?r=aa(o):i!==0&&(r=aa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),s=1<<n,r|=t[n],e&=~s;return r}function pw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-zn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=pw(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Rd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $2(){var t=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),t}function Ih(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ll(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function gw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-zn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Kf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var fe=0;function z2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var W2,Zf,G2,q2,H2,Dd=!1,bl=[],os=null,as=null,ls=null,Aa=new Map,Na=new Map,es=[],_w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sm(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(e.pointerId)}}function Ho(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=cl(e),e!==null&&Zf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yw(t,e,n,r,s){switch(e){case"focusin":return os=Ho(os,t,e,n,r,s),!0;case"dragenter":return as=Ho(as,t,e,n,r,s),!0;case"mouseover":return ls=Ho(ls,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Aa.set(i,Ho(Aa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Na.set(i,Ho(Na.get(i)||null,t,e,n,r,s)),!0}return!1}function X2(t){var e=Gs(t.target);if(e!==null){var n=yi(e);if(n!==null){if(e=n.tag,e===13){if(e=F2(n),e!==null){t.blockedOn=e,H2(t.priority,function(){G2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nd=r,n.target.dispatchEvent(r),Nd=null}else return e=cl(n),e!==null&&Zf(e),t.blockedOn=n,!1;e.shift()}return!0}function km(t,e,n){nu(t)&&n.delete(e)}function vw(){Dd=!1,os!==null&&nu(os)&&(os=null),as!==null&&nu(as)&&(as=null),ls!==null&&nu(ls)&&(ls=null),Aa.forEach(km),Na.forEach(km)}function Xo(t,e){t.blockedOn===e&&(t.blockedOn=null,Dd||(Dd=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,vw)))}function Oa(t){function e(s){return Xo(s,t)}if(0<bl.length){Xo(bl[0],t);for(var n=1;n<bl.length;n++){var r=bl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&Xo(os,t),as!==null&&Xo(as,t),ls!==null&&Xo(ls,t),Aa.forEach(e),Na.forEach(e),n=0;n<es.length;n++)r=es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<es.length&&(n=es[0],n.blockedOn===null);)X2(n),n.blockedOn===null&&es.shift()}var Zi=Br.ReactCurrentBatchConfig,Cu=!0;function ww(t,e,n,r){var s=fe,i=Zi.transition;Zi.transition=null;try{fe=1,Jf(t,e,n,r)}finally{fe=s,Zi.transition=i}}function Tw(t,e,n,r){var s=fe,i=Zi.transition;Zi.transition=null;try{fe=4,Jf(t,e,n,r)}finally{fe=s,Zi.transition=i}}function Jf(t,e,n,r){if(Cu){var s=bd(t,e,n,r);if(s===null)jh(t,e,r,Au,n),Sm(t,r);else if(yw(s,t,e,n,r))r.stopPropagation();else if(Sm(t,r),e&4&&-1<_w.indexOf(t)){for(;s!==null;){var i=cl(s);if(i!==null&&W2(i),i=bd(t,e,n,r),i===null&&jh(t,e,r,Au,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else jh(t,e,r,null,n)}}var Au=null;function bd(t,e,n,r){if(Au=null,t=Yf(r),t=Gs(t),t!==null)if(e=yi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=F2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Au=t,null}function Y2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lw()){case Qf:return 1;case j2:return 4;case xu:case uw:return 16;case B2:return 536870912;default:return 16}default:return 16}}var ss=null,ep=null,ru=null;function Q2(){if(ru)return ru;var t,e=ep,n=e.length,r,s="value"in ss?ss.value:ss.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ru=s.slice(t,1<r?1-r:void 0)}function su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pl(){return!0}function xm(){return!1}function pn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pl:xm,this.isPropagationStopped=xm,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),e}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tp=pn(Ao),ul=Ve({},Ao,{view:0,detail:0}),Sw=pn(ul),Mh,Rh,Yo,Nc=Ve({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:np,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yo&&(Yo&&t.type==="mousemove"?(Mh=t.screenX-Yo.screenX,Rh=t.screenY-Yo.screenY):Rh=Mh=0,Yo=t),Mh)},movementY:function(t){return"movementY"in t?t.movementY:Rh}}),Em=pn(Nc),kw=Ve({},Nc,{dataTransfer:0}),xw=pn(kw),Ew=Ve({},ul,{relatedTarget:0}),Dh=pn(Ew),Cw=Ve({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),Aw=pn(Cw),Nw=Ve({},Ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ow=pn(Nw),Iw=Ve({},Ao,{data:0}),Cm=pn(Iw),Mw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dw[t])?!!e[t]:!1}function np(){return bw}var Pw=Ve({},ul,{key:function(t){if(t.key){var e=Mw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:np,charCode:function(t){return t.type==="keypress"?su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fw=pn(Pw),Lw=Ve({},Nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Am=pn(Lw),Vw=Ve({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:np}),Uw=pn(Vw),jw=Ve({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bw=pn(jw),$w=Ve({},Nc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zw=pn($w),Ww=[9,13,27,32],rp=Rr&&"CompositionEvent"in window,fa=null;Rr&&"documentMode"in document&&(fa=document.documentMode);var Gw=Rr&&"TextEvent"in window&&!fa,K2=Rr&&(!rp||fa&&8<fa&&11>=fa),Nm=" ",Om=!1;function Z2(t,e){switch(t){case"keyup":return Ww.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Di=!1;function qw(t,e){switch(t){case"compositionend":return J2(e);case"keypress":return e.which!==32?null:(Om=!0,Nm);case"textInput":return t=e.data,t===Nm&&Om?null:t;default:return null}}function Hw(t,e){if(Di)return t==="compositionend"||!rp&&Z2(t,e)?(t=Q2(),ru=ep=ss=null,Di=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return K2&&e.locale!=="ko"?null:e.data;default:return null}}var Xw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xw[t.type]:e==="textarea"}function e_(t,e,n,r){M2(r),e=Nu(e,"onChange"),0<e.length&&(n=new tp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pa=null,Ia=null;function Yw(t){h_(t,0)}function Oc(t){var e=Fi(t);if(x2(e))return t}function Qw(t,e){if(t==="change")return e}var t_=!1;if(Rr){var bh;if(Rr){var Ph="oninput"in document;if(!Ph){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),Ph=typeof Mm.oninput=="function"}bh=Ph}else bh=!1;t_=bh&&(!document.documentMode||9<document.documentMode)}function Rm(){pa&&(pa.detachEvent("onpropertychange",n_),Ia=pa=null)}function n_(t){if(t.propertyName==="value"&&Oc(Ia)){var e=[];e_(e,Ia,t,Yf(t)),P2(Yw,e)}}function Kw(t,e,n){t==="focusin"?(Rm(),pa=e,Ia=n,pa.attachEvent("onpropertychange",n_)):t==="focusout"&&Rm()}function Zw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oc(Ia)}function Jw(t,e){if(t==="click")return Oc(e)}function eT(t,e){if(t==="input"||t==="change")return Oc(e)}function tT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gn=typeof Object.is=="function"?Object.is:tT;function Ma(t,e){if(Gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gd.call(e,s)||!Gn(t[s],e[s]))return!1}return!0}function Dm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bm(t,e){var n=Dm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dm(n)}}function r_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function s_(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tu(t.document)}return e}function sp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nT(t){var e=s_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&r_(n.ownerDocument.documentElement,n)){if(r!==null&&sp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=bm(n,i);var o=bm(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rT=Rr&&"documentMode"in document&&11>=document.documentMode,bi=null,Pd=null,ma=null,Fd=!1;function Pm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fd||bi==null||bi!==Tu(r)||(r=bi,"selectionStart"in r&&sp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ma&&Ma(ma,r)||(ma=r,r=Nu(Pd,"onSelect"),0<r.length&&(e=new tp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bi)))}function Fl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pi={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},Fh={},i_={};Rr&&(i_=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function Ic(t){if(Fh[t])return Fh[t];if(!Pi[t])return t;var e=Pi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in i_)return Fh[t]=e[n];return t}var o_=Ic("animationend"),a_=Ic("animationiteration"),l_=Ic("animationstart"),u_=Ic("transitionend"),c_=new Map,Fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(t,e){c_.set(t,e),_i(e,[t])}for(var Lh=0;Lh<Fm.length;Lh++){var Vh=Fm[Lh],sT=Vh.toLowerCase(),iT=Vh[0].toUpperCase()+Vh.slice(1);Is(sT,"on"+iT)}Is(o_,"onAnimationEnd");Is(a_,"onAnimationIteration");Is(l_,"onAnimationStart");Is("dblclick","onDoubleClick");Is("focusin","onFocus");Is("focusout","onBlur");Is(u_,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function Lm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sw(r,e,void 0,t),t.currentTarget=null}function h_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Lm(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Lm(s,a,u),i=l}}}if(ku)throw t=Md,ku=!1,Md=null,t}function ke(t,e){var n=e[Bd];n===void 0&&(n=e[Bd]=new Set);var r=t+"__bubble";n.has(r)||(d_(e,t,2,!1),n.add(r))}function Uh(t,e,n){var r=0;e&&(r|=4),d_(n,t,r,e)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Ra(t){if(!t[Ll]){t[Ll]=!0,v2.forEach(function(n){n!=="selectionchange"&&(oT.has(n)||Uh(n,!1,t),Uh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ll]||(e[Ll]=!0,Uh("selectionchange",!1,e))}}function d_(t,e,n,r){switch(Y2(e)){case 1:var s=ww;break;case 4:s=Tw;break;default:s=Jf}n=s.bind(null,e,n,t),s=void 0,!Id||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function jh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gs(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}P2(function(){var u=i,c=Yf(n),h=[];e:{var d=c_.get(t);if(d!==void 0){var m=tp,p=t;switch(t){case"keypress":if(su(n)===0)break e;case"keydown":case"keyup":m=Fw;break;case"focusin":p="focus",m=Dh;break;case"focusout":p="blur",m=Dh;break;case"beforeblur":case"afterblur":m=Dh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Uw;break;case o_:case a_:case l_:m=Aw;break;case u_:m=Bw;break;case"scroll":m=Sw;break;case"wheel":m=zw;break;case"copy":case"cut":case"paste":m=Ow;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Am}var _=(e&4)!==0,w=!_&&t==="scroll",f=_?d!==null?d+"Capture":null:d;_=[];for(var g=u,y;g!==null;){y=g;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,f!==null&&(k=Ca(g,f),k!=null&&_.push(Da(g,k,y)))),w)break;g=g.return}0<_.length&&(d=new m(d,p,null,n,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==Nd&&(p=n.relatedTarget||n.fromElement)&&(Gs(p)||p[Dr]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Gs(p):null,p!==null&&(w=yi(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(_=Em,k="onMouseLeave",f="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Am,k="onPointerLeave",f="onPointerEnter",g="pointer"),w=m==null?d:Fi(m),y=p==null?d:Fi(p),d=new _(k,g+"leave",m,n,c),d.target=w,d.relatedTarget=y,k=null,Gs(c)===u&&(_=new _(f,g+"enter",p,n,c),_.target=y,_.relatedTarget=w,k=_),w=k,m&&p)t:{for(_=m,f=p,g=0,y=_;y;y=Ei(y))g++;for(y=0,k=f;k;k=Ei(k))y++;for(;0<g-y;)_=Ei(_),g--;for(;0<y-g;)f=Ei(f),y--;for(;g--;){if(_===f||f!==null&&_===f.alternate)break t;_=Ei(_),f=Ei(f)}_=null}else _=null;m!==null&&Vm(h,d,m,_,!1),p!==null&&w!==null&&Vm(h,w,p,_,!0)}}e:{if(d=u?Fi(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var v=Qw;else if(Im(d))if(t_)v=eT;else{v=Zw;var S=Kw}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(v=Jw);if(v&&(v=v(t,u))){e_(h,v,n,c);break e}S&&S(t,d,u),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&kd(d,"number",d.value)}switch(S=u?Fi(u):window,t){case"focusin":(Im(S)||S.contentEditable==="true")&&(bi=S,Pd=u,ma=null);break;case"focusout":ma=Pd=bi=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,Pm(h,n,c);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":Pm(h,n,c)}var x;if(rp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Di?Z2(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(K2&&n.locale!=="ko"&&(Di||T!=="onCompositionStart"?T==="onCompositionEnd"&&Di&&(x=Q2()):(ss=c,ep="value"in ss?ss.value:ss.textContent,Di=!0)),S=Nu(u,T),0<S.length&&(T=new Cm(T,t,null,n,c),h.push({event:T,listeners:S}),x?T.data=x:(x=J2(n),x!==null&&(T.data=x)))),(x=Gw?qw(t,n):Hw(t,n))&&(u=Nu(u,"onBeforeInput"),0<u.length&&(c=new Cm("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=x))}h_(h,e)})}function Da(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ca(t,n),i!=null&&r.unshift(Da(t,i,s)),i=Ca(t,e),i!=null&&r.push(Da(t,i,s))),t=t.return}return r}function Ei(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vm(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ca(n,i),l!=null&&o.unshift(Da(n,l,a))):s||(l=Ca(n,i),l!=null&&o.push(Da(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aT=/\r\n?/g,lT=/\u0000|\uFFFD/g;function Um(t){return(typeof t=="string"?t:""+t).replace(aT,`
`).replace(lT,"")}function Vl(t,e,n){if(e=Um(e),Um(t)!==e&&n)throw Error(I(425))}function Ou(){}var Ld=null,Vd=null;function Ud(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jd=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(t){return jm.resolve(null).then(t).catch(hT)}:jd;function hT(t){setTimeout(function(){throw t})}function Bh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Oa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oa(e)}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var No=Math.random().toString(36).slice(2),lr="__reactFiber$"+No,ba="__reactProps$"+No,Dr="__reactContainer$"+No,Bd="__reactEvents$"+No,dT="__reactListeners$"+No,fT="__reactHandles$"+No;function Gs(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bm(t);t!==null;){if(n=t[lr])return n;t=Bm(t)}return e}t=n,n=t.parentNode}return null}function cl(t){return t=t[lr]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Mc(t){return t[ba]||null}var $d=[],Li=-1;function Ms(t){return{current:t}}function xe(t){0>Li||(t.current=$d[Li],$d[Li]=null,Li--)}function we(t,e){Li++,$d[Li]=t.current,t.current=e}var ws={},At=Ms(ws),Xt=Ms(!1),si=ws;function oo(t,e){var n=t.type.contextTypes;if(!n)return ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Yt(t){return t=t.childContextTypes,t!=null}function Iu(){xe(Xt),xe(At)}function $m(t,e,n){if(At.current!==ws)throw Error(I(168));we(At,e),we(Xt,n)}function f_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(I(108,K4(t)||"Unknown",s));return Ve({},n,r)}function Mu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ws,si=At.current,we(At,t),we(Xt,Xt.current),!0}function zm(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=f_(t,e,si),r.__reactInternalMemoizedMergedChildContext=t,xe(Xt),xe(At),we(At,t)):xe(Xt),we(Xt,n)}var kr=null,Rc=!1,$h=!1;function p_(t){kr===null?kr=[t]:kr.push(t)}function pT(t){Rc=!0,p_(t)}function Rs(){if(!$h&&kr!==null){$h=!0;var t=0,e=fe;try{var n=kr;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kr=null,Rc=!1}catch(s){throw kr!==null&&(kr=kr.slice(t+1)),U2(Qf,Rs),s}finally{fe=e,$h=!1}}return null}var Vi=[],Ui=0,Ru=null,Du=0,Sn=[],kn=0,ii=null,Cr=1,Ar="";function Bs(t,e){Vi[Ui++]=Du,Vi[Ui++]=Ru,Ru=t,Du=e}function m_(t,e,n){Sn[kn++]=Cr,Sn[kn++]=Ar,Sn[kn++]=ii,ii=t;var r=Cr;t=Ar;var s=32-zn(r)-1;r&=~(1<<s),n+=1;var i=32-zn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Cr=1<<32-zn(e)+s|n<<s|r,Ar=i+t}else Cr=1<<i|n<<s|r,Ar=t}function ip(t){t.return!==null&&(Bs(t,1),m_(t,1,0))}function op(t){for(;t===Ru;)Ru=Vi[--Ui],Vi[Ui]=null,Du=Vi[--Ui],Vi[Ui]=null;for(;t===ii;)ii=Sn[--kn],Sn[kn]=null,Ar=Sn[--kn],Sn[kn]=null,Cr=Sn[--kn],Sn[kn]=null}var ln=null,on=null,Ie=!1,Vn=null;function g_(t,e){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,on=us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ii!==null?{id:Cr,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,on=null,!0):!1;default:return!1}}function zd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wd(t){if(Ie){var e=on;if(e){var n=e;if(!Wm(t,e)){if(zd(t))throw Error(I(418));e=us(n.nextSibling);var r=ln;e&&Wm(t,e)?g_(r,n):(t.flags=t.flags&-4097|2,Ie=!1,ln=t)}}else{if(zd(t))throw Error(I(418));t.flags=t.flags&-4097|2,Ie=!1,ln=t}}}function Gm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function Ul(t){if(t!==ln)return!1;if(!Ie)return Gm(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ud(t.type,t.memoizedProps)),e&&(e=on)){if(zd(t))throw __(),Error(I(418));for(;e;)g_(t,e),e=us(e.nextSibling)}if(Gm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){on=us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}on=null}}else on=ln?us(t.stateNode.nextSibling):null;return!0}function __(){for(var t=on;t;)t=us(t.nextSibling)}function ao(){on=ln=null,Ie=!1}function ap(t){Vn===null?Vn=[t]:Vn.push(t)}var mT=Br.ReactCurrentBatchConfig;function Qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function jl(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qm(t){var e=t._init;return e(t._payload)}function y_(t){function e(f,g){if(t){var y=f.deletions;y===null?(f.deletions=[g],f.flags|=16):y.push(g)}}function n(f,g){if(!t)return null;for(;g!==null;)e(f,g),g=g.sibling;return null}function r(f,g){for(f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function s(f,g){return f=fs(f,g),f.index=0,f.sibling=null,f}function i(f,g,y){return f.index=y,t?(y=f.alternate,y!==null?(y=y.index,y<g?(f.flags|=2,g):y):(f.flags|=2,g)):(f.flags|=1048576,g)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,g,y,k){return g===null||g.tag!==6?(g=Yh(y,f.mode,k),g.return=f,g):(g=s(g,y),g.return=f,g)}function l(f,g,y,k){var v=y.type;return v===Ri?c(f,g,y.props.children,k,y.key):g!==null&&(g.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Kr&&qm(v)===g.type)?(k=s(g,y.props),k.ref=Qo(f,g,y),k.return=f,k):(k=hu(y.type,y.key,y.props,null,f.mode,k),k.ref=Qo(f,g,y),k.return=f,k)}function u(f,g,y,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Qh(y,f.mode,k),g.return=f,g):(g=s(g,y.children||[]),g.return=f,g)}function c(f,g,y,k,v){return g===null||g.tag!==7?(g=Js(y,f.mode,k,v),g.return=f,g):(g=s(g,y),g.return=f,g)}function h(f,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Yh(""+g,f.mode,y),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ol:return y=hu(g.type,g.key,g.props,null,f.mode,y),y.ref=Qo(f,null,g),y.return=f,y;case Mi:return g=Qh(g,f.mode,y),g.return=f,g;case Kr:var k=g._init;return h(f,k(g._payload),y)}if(oa(g)||Go(g))return g=Js(g,f.mode,y,null),g.return=f,g;jl(f,g)}return null}function d(f,g,y,k){var v=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return v!==null?null:a(f,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ol:return y.key===v?l(f,g,y,k):null;case Mi:return y.key===v?u(f,g,y,k):null;case Kr:return v=y._init,d(f,g,v(y._payload),k)}if(oa(y)||Go(y))return v!==null?null:c(f,g,y,k,null);jl(f,y)}return null}function m(f,g,y,k,v){if(typeof k=="string"&&k!==""||typeof k=="number")return f=f.get(y)||null,a(g,f,""+k,v);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ol:return f=f.get(k.key===null?y:k.key)||null,l(g,f,k,v);case Mi:return f=f.get(k.key===null?y:k.key)||null,u(g,f,k,v);case Kr:var S=k._init;return m(f,g,y,S(k._payload),v)}if(oa(k)||Go(k))return f=f.get(y)||null,c(g,f,k,v,null);jl(g,k)}return null}function p(f,g,y,k){for(var v=null,S=null,x=g,T=g=0,C=null;x!==null&&T<y.length;T++){x.index>T?(C=x,x=null):C=x.sibling;var E=d(f,x,y[T],k);if(E===null){x===null&&(x=C);break}t&&x&&E.alternate===null&&e(f,x),g=i(E,g,T),S===null?v=E:S.sibling=E,S=E,x=C}if(T===y.length)return n(f,x),Ie&&Bs(f,T),v;if(x===null){for(;T<y.length;T++)x=h(f,y[T],k),x!==null&&(g=i(x,g,T),S===null?v=x:S.sibling=x,S=x);return Ie&&Bs(f,T),v}for(x=r(f,x);T<y.length;T++)C=m(x,f,T,y[T],k),C!==null&&(t&&C.alternate!==null&&x.delete(C.key===null?T:C.key),g=i(C,g,T),S===null?v=C:S.sibling=C,S=C);return t&&x.forEach(function(N){return e(f,N)}),Ie&&Bs(f,T),v}function _(f,g,y,k){var v=Go(y);if(typeof v!="function")throw Error(I(150));if(y=v.call(y),y==null)throw Error(I(151));for(var S=v=null,x=g,T=g=0,C=null,E=y.next();x!==null&&!E.done;T++,E=y.next()){x.index>T?(C=x,x=null):C=x.sibling;var N=d(f,x,E.value,k);if(N===null){x===null&&(x=C);break}t&&x&&N.alternate===null&&e(f,x),g=i(N,g,T),S===null?v=N:S.sibling=N,S=N,x=C}if(E.done)return n(f,x),Ie&&Bs(f,T),v;if(x===null){for(;!E.done;T++,E=y.next())E=h(f,E.value,k),E!==null&&(g=i(E,g,T),S===null?v=E:S.sibling=E,S=E);return Ie&&Bs(f,T),v}for(x=r(f,x);!E.done;T++,E=y.next())E=m(x,f,T,E.value,k),E!==null&&(t&&E.alternate!==null&&x.delete(E.key===null?T:E.key),g=i(E,g,T),S===null?v=E:S.sibling=E,S=E);return t&&x.forEach(function(A){return e(f,A)}),Ie&&Bs(f,T),v}function w(f,g,y,k){if(typeof y=="object"&&y!==null&&y.type===Ri&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ol:e:{for(var v=y.key,S=g;S!==null;){if(S.key===v){if(v=y.type,v===Ri){if(S.tag===7){n(f,S.sibling),g=s(S,y.props.children),g.return=f,f=g;break e}}else if(S.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Kr&&qm(v)===S.type){n(f,S.sibling),g=s(S,y.props),g.ref=Qo(f,S,y),g.return=f,f=g;break e}n(f,S);break}else e(f,S);S=S.sibling}y.type===Ri?(g=Js(y.props.children,f.mode,k,y.key),g.return=f,f=g):(k=hu(y.type,y.key,y.props,null,f.mode,k),k.ref=Qo(f,g,y),k.return=f,f=k)}return o(f);case Mi:e:{for(S=y.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(f,g.sibling),g=s(g,y.children||[]),g.return=f,f=g;break e}else{n(f,g);break}else e(f,g);g=g.sibling}g=Qh(y,f.mode,k),g.return=f,f=g}return o(f);case Kr:return S=y._init,w(f,g,S(y._payload),k)}if(oa(y))return p(f,g,y,k);if(Go(y))return _(f,g,y,k);jl(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(f,g.sibling),g=s(g,y),g.return=f,f=g):(n(f,g),g=Yh(y,f.mode,k),g.return=f,f=g),o(f)):n(f,g)}return w}var lo=y_(!0),v_=y_(!1),bu=Ms(null),Pu=null,ji=null,lp=null;function up(){lp=ji=Pu=null}function cp(t){var e=bu.current;xe(bu),t._currentValue=e}function Gd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ji(t,e){Pu=t,lp=ji=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(lp!==t)if(t={context:t,memoizedValue:e,next:null},ji===null){if(Pu===null)throw Error(I(308));ji=t,Pu.dependencies={lanes:0,firstContext:t}}else ji=ji.next=t;return e}var qs=null;function hp(t){qs===null?qs=[t]:qs.push(t)}function w_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hp(e)):(n.next=s.next,s.next=n),e.interleaved=n,br(t,r)}function br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zr=!1;function dp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,br(t,n)}return s=r.interleaved,s===null?(e.next=e,hp(r)):(e.next=s.next,s.next=e),r.interleaved=e,br(t,n)}function iu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kf(t,n)}}function Hm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fu(t,e,n,r){var s=t.updateQueue;Zr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,m=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,_=a;switch(d=e,m=n,_.tag){case 1:if(p=_.payload,typeof p=="function"){h=p.call(m,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,d=typeof p=="function"?p.call(m,h,d):p,d==null)break e;h=Ve({},h,d);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ai|=o,t.lanes=o,t.memoizedState=h}}function Xm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var hl={},cr=Ms(hl),Pa=Ms(hl),Fa=Ms(hl);function Hs(t){if(t===hl)throw Error(I(174));return t}function fp(t,e){switch(we(Fa,e),we(Pa,t),we(cr,hl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ed(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ed(e,t)}xe(cr),we(cr,e)}function uo(){xe(cr),xe(Pa),xe(Fa)}function S_(t){Hs(Fa.current);var e=Hs(cr.current),n=Ed(e,t.type);e!==n&&(we(Pa,t),we(cr,n))}function pp(t){Pa.current===t&&(xe(cr),xe(Pa))}var be=Ms(0);function Lu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zh=[];function mp(){for(var t=0;t<zh.length;t++)zh[t]._workInProgressVersionPrimary=null;zh.length=0}var ou=Br.ReactCurrentDispatcher,Wh=Br.ReactCurrentBatchConfig,oi=0,Fe=null,at=null,pt=null,Vu=!1,ga=!1,La=0,gT=0;function Tt(){throw Error(I(321))}function gp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gn(t[n],e[n]))return!1;return!0}function _p(t,e,n,r,s,i){if(oi=i,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ou.current=t===null||t.memoizedState===null?wT:TT,t=n(r,s),ga){i=0;do{if(ga=!1,La=0,25<=i)throw Error(I(301));i+=1,pt=at=null,e.updateQueue=null,ou.current=ST,t=n(r,s)}while(ga)}if(ou.current=Uu,e=at!==null&&at.next!==null,oi=0,pt=at=Fe=null,Vu=!1,e)throw Error(I(300));return t}function yp(){var t=La!==0;return La=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Fe.memoizedState=pt=t:pt=pt.next=t,pt}function Mn(){if(at===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=pt===null?Fe.memoizedState:pt.next;if(e!==null)pt=e,at=t;else{if(t===null)throw Error(I(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},pt===null?Fe.memoizedState=pt=t:pt=pt.next=t}return pt}function Va(t,e){return typeof e=="function"?e(t):e}function Gh(t){var e=Mn(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=at,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((oi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Fe.lanes|=c,ai|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Gn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Fe.lanes|=i,ai|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qh(t){var e=Mn(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Gn(i,e.memoizedState)||(Ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function k_(){}function x_(t,e){var n=Fe,r=Mn(),s=e(),i=!Gn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,vp(A_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Ua(9,C_.bind(null,n,r,s,e),void 0,null),mt===null)throw Error(I(349));oi&30||E_(n,e,s)}return s}function E_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function C_(t,e,n,r){e.value=n,e.getSnapshot=r,N_(e)&&O_(t)}function A_(t,e,n){return n(function(){N_(e)&&O_(t)})}function N_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gn(t,n)}catch{return!0}}function O_(t){var e=br(t,1);e!==null&&Wn(e,t,1,-1)}function Ym(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:t},e.queue=t,t=t.dispatch=vT.bind(null,Fe,t),[e.memoizedState,t]}function Ua(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I_(){return Mn().memoizedState}function au(t,e,n,r){var s=or();Fe.flags|=t,s.memoizedState=Ua(1|e,n,void 0,r===void 0?null:r)}function Dc(t,e,n,r){var s=Mn();r=r===void 0?null:r;var i=void 0;if(at!==null){var o=at.memoizedState;if(i=o.destroy,r!==null&&gp(r,o.deps)){s.memoizedState=Ua(e,n,i,r);return}}Fe.flags|=t,s.memoizedState=Ua(1|e,n,i,r)}function Qm(t,e){return au(8390656,8,t,e)}function vp(t,e){return Dc(2048,8,t,e)}function M_(t,e){return Dc(4,2,t,e)}function R_(t,e){return Dc(4,4,t,e)}function D_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function b_(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4,4,D_.bind(null,e,t),n)}function wp(){}function P_(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function F_(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function L_(t,e,n){return oi&21?(Gn(n,e)||(n=$2(),Fe.lanes|=n,ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function _T(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=Wh.transition;Wh.transition={};try{t(!1),e()}finally{fe=n,Wh.transition=r}}function V_(){return Mn().memoizedState}function yT(t,e,n){var r=ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U_(t))j_(e,n);else if(n=w_(t,e,n,r),n!==null){var s=bt();Wn(n,t,r,s),B_(n,e,r)}}function vT(t,e,n){var r=ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U_(t))j_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Gn(a,o)){var l=e.interleaved;l===null?(s.next=s,hp(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=w_(t,e,s,r),n!==null&&(s=bt(),Wn(n,t,r,s),B_(n,e,r))}}function U_(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function j_(t,e){ga=Vu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function B_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kf(t,n)}}var Uu={readContext:In,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},wT={readContext:In,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:Qm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,au(4194308,4,D_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return au(4194308,4,t,e)},useInsertionEffect:function(t,e){return au(4,2,t,e)},useMemo:function(t,e){var n=or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yT.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:Ym,useDebugValue:wp,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=Ym(!1),e=t[0];return t=_T.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,s=or();if(Ie){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),mt===null)throw Error(I(349));oi&30||E_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Qm(A_.bind(null,r,i,t),[t]),r.flags|=2048,Ua(9,C_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=or(),e=mt.identifierPrefix;if(Ie){var n=Ar,r=Cr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=La++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TT={readContext:In,useCallback:P_,useContext:In,useEffect:vp,useImperativeHandle:b_,useInsertionEffect:M_,useLayoutEffect:R_,useMemo:F_,useReducer:Gh,useRef:I_,useState:function(){return Gh(Va)},useDebugValue:wp,useDeferredValue:function(t){var e=Mn();return L_(e,at.memoizedState,t)},useTransition:function(){var t=Gh(Va)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:k_,useSyncExternalStore:x_,useId:V_,unstable_isNewReconciler:!1},ST={readContext:In,useCallback:P_,useContext:In,useEffect:vp,useImperativeHandle:b_,useInsertionEffect:M_,useLayoutEffect:R_,useMemo:F_,useReducer:qh,useRef:I_,useState:function(){return qh(Va)},useDebugValue:wp,useDeferredValue:function(t){var e=Mn();return at===null?e.memoizedState=t:L_(e,at.memoizedState,t)},useTransition:function(){var t=qh(Va)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:k_,useSyncExternalStore:x_,useId:V_,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bc={isMounted:function(t){return(t=t._reactInternals)?yi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bt(),s=ds(t),i=Nr(r,s);i.payload=e,n!=null&&(i.callback=n),e=cs(t,i,s),e!==null&&(Wn(e,t,s,r),iu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bt(),s=ds(t),i=Nr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=cs(t,i,s),e!==null&&(Wn(e,t,s,r),iu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),r=ds(t),s=Nr(n,r);s.tag=2,e!=null&&(s.callback=e),e=cs(t,s,r),e!==null&&(Wn(e,t,r,n),iu(e,t,r))}};function Km(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ma(n,r)||!Ma(s,i):!0}function $_(t,e,n){var r=!1,s=ws,i=e.contextType;return typeof i=="object"&&i!==null?i=In(i):(s=Yt(e)?si:At.current,r=e.contextTypes,i=(r=r!=null)?oo(t,s):ws),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Zm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bc.enqueueReplaceState(e,e.state,null)}function Hd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},dp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=In(i):(i=Yt(e)?si:At.current,s.context=oo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(qd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bc.enqueueReplaceState(s,s.state,null),Fu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function co(t,e){try{var n="",r=e;do n+=Q4(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Hh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kT=typeof WeakMap=="function"?WeakMap:Map;function z_(t,e,n){n=Nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bu||(Bu=!0,sf=r),Xd(t,e)},n}function W_(t,e,n){n=Nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xd(t,e),typeof r!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Jm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=LT.bind(null,t,e,n),e.then(t,t))}function e0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nr(-1,1),e.tag=2,cs(n,e,1))),n.lanes|=1),t)}var xT=Br.ReactCurrentOwner,Ht=!1;function It(t,e,n,r){e.child=t===null?v_(e,null,n,r):lo(e,t.child,n,r)}function n0(t,e,n,r,s){n=n.render;var i=e.ref;return Ji(e,s),r=_p(t,e,n,r,i,s),n=yp(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pr(t,e,s)):(Ie&&n&&ip(e),e.flags|=1,It(t,e,r,s),e.child)}function r0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Np(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,G_(t,e,i,r,s)):(t=hu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ma,n(o,r)&&t.ref===e.ref)return Pr(t,e,s)}return e.flags|=1,t=fs(i,r),t.ref=e.ref,t.return=e,e.child=t}function G_(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ma(i,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Pr(t,e,s)}return Yd(t,e,n,r,s)}function q_(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we($i,sn),sn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we($i,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,we($i,sn),sn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,we($i,sn),sn|=r;return It(t,e,s,n),e.child}function H_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yd(t,e,n,r,s){var i=Yt(n)?si:At.current;return i=oo(e,i),Ji(e,s),n=_p(t,e,n,r,i,s),r=yp(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pr(t,e,s)):(Ie&&r&&ip(e),e.flags|=1,It(t,e,n,s),e.child)}function s0(t,e,n,r,s){if(Yt(n)){var i=!0;Mu(e)}else i=!1;if(Ji(e,s),e.stateNode===null)lu(t,e),$_(e,n,r),Hd(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=Yt(n)?si:At.current,u=oo(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Zm(e,o,r,u),Zr=!1;var d=e.memoizedState;o.state=d,Fu(e,r,o,s),l=e.memoizedState,a!==r||d!==l||Xt.current||Zr?(typeof c=="function"&&(qd(e,n,c,r),l=e.memoizedState),(a=Zr||Km(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,T_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Yt(n)?si:At.current,l=oo(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Zm(e,o,r,l),Zr=!1,d=e.memoizedState,o.state=d,Fu(e,r,o,s);var p=e.memoizedState;a!==h||d!==p||Xt.current||Zr?(typeof m=="function"&&(qd(e,n,m,r),p=e.memoizedState),(u=Zr||Km(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Qd(t,e,n,r,i,s)}function Qd(t,e,n,r,s,i){H_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&zm(e,n,!1),Pr(t,e,i);r=e.stateNode,xT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lo(e,t.child,null,i),e.child=lo(e,null,a,i)):It(t,e,a,i),e.memoizedState=r.state,s&&zm(e,n,!0),e.child}function X_(t){var e=t.stateNode;e.pendingContext?$m(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$m(t,e.context,!1),fp(t,e.containerInfo)}function i0(t,e,n,r,s){return ao(),ap(s),e.flags|=256,It(t,e,n,r),e.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function Zd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y_(t,e,n){var r=e.pendingProps,s=be.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),we(be,s&1),t===null)return Wd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Lc(o,r,0,null),t=Js(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Zd(n),e.memoizedState=Kd,t):Tp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ET(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=fs(a,i):(i=Js(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Zd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Kd,r}return i=t.child,t=i.sibling,r=fs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tp(t,e){return e=Lc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bl(t,e,n,r){return r!==null&&ap(r),lo(e,t.child,null,n),t=Tp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ET(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Hh(Error(I(422))),Bl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Lc({mode:"visible",children:r.children},s,0,null),i=Js(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&lo(e,t.child,null,o),e.child.memoizedState=Zd(o),e.memoizedState=Kd,i);if(!(e.mode&1))return Bl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(I(419)),r=Hh(i,r,void 0),Bl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=mt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,br(t,s),Wn(r,t,s,-1))}return Ap(),r=Hh(Error(I(421))),Bl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=VT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,on=us(s.nextSibling),ln=e,Ie=!0,Vn=null,t!==null&&(Sn[kn++]=Cr,Sn[kn++]=Ar,Sn[kn++]=ii,Cr=t.id,Ar=t.overflow,ii=e),e=Tp(e,r.children),e.flags|=4096,e)}function o0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gd(t.return,e,n)}function Xh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Q_(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(It(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o0(t,n,e);else if(t.tag===19)o0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(be,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Lu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Xh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Lu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Xh(e,!0,n,null,i);break;case"together":Xh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=fs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CT(t,e,n){switch(e.tag){case 3:X_(e),ao();break;case 5:S_(e);break;case 1:Yt(e.type)&&Mu(e);break;case 4:fp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;we(bu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?Y_(t,e,n):(we(be,be.current&1),t=Pr(t,e,n),t!==null?t.sibling:null);we(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Q_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,q_(t,e,n)}return Pr(t,e,n)}var K_,Jd,Z_,J_;K_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jd=function(){};Z_=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Hs(cr.current);var i=null;switch(n){case"input":s=Td(t,s),r=Td(t,r),i=[];break;case"select":s=Ve({},s,{value:void 0}),r=Ve({},r,{value:void 0}),i=[];break;case"textarea":s=xd(t,s),r=xd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ou)}Cd(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};J_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ko(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AT(t,e,n){var r=e.pendingProps;switch(op(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return Yt(e.type)&&Iu(),St(e),null;case 3:return r=e.stateNode,uo(),xe(Xt),xe(At),mp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ul(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(lf(Vn),Vn=null))),Jd(t,e),St(e),null;case 5:pp(e);var s=Hs(Fa.current);if(n=e.type,t!==null&&e.stateNode!=null)Z_(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return St(e),null}if(t=Hs(cr.current),Ul(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[lr]=e,r[ba]=i,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<la.length;s++)ke(la[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":mm(r,i),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ke("invalid",r);break;case"textarea":_m(r,i),ke("invalid",r)}Cd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Vl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Vl(r.textContent,a,t),s=["children",""+a]):xa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":Il(r),gm(r,i,!0);break;case"textarea":Il(r),ym(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ou)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lr]=e,t[ba]=r,K_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ad(n,r),n){case"dialog":ke("cancel",t),ke("close",t),s=r;break;case"iframe":case"object":case"embed":ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<la.length;s++)ke(la[s],t);s=r;break;case"source":ke("error",t),s=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),s=r;break;case"details":ke("toggle",t),s=r;break;case"input":mm(t,r),s=Td(t,r),ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ve({},r,{value:void 0}),ke("invalid",t);break;case"textarea":_m(t,r),s=xd(t,r),ke("invalid",t);break;default:s=r}Cd(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?I2(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N2(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ea(t,l):typeof l=="number"&&Ea(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ke("scroll",t):l!=null&&Gf(t,i,l,o))}switch(n){case"input":Il(t),gm(t,r,!1);break;case"textarea":Il(t),ym(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Yi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Yi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ou)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)J_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=Hs(Fa.current),Hs(cr.current),Ul(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(i=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:Vl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return St(e),null;case 13:if(xe(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&on!==null&&e.mode&1&&!(e.flags&128))__(),ao(),e.flags|=98560,i=!1;else if(i=Ul(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(I(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[lr]=e}else ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),i=!1}else Vn!==null&&(lf(Vn),Vn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?ut===0&&(ut=3):Ap())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return uo(),Jd(t,e),t===null&&Ra(e.stateNode.containerInfo),St(e),null;case 10:return cp(e.type._context),St(e),null;case 17:return Yt(e.type)&&Iu(),St(e),null;case 19:if(xe(be),i=e.memoizedState,i===null)return St(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ko(i,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lu(t),o!==null){for(e.flags|=128,Ko(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(be,be.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ye()>ho&&(e.flags|=128,r=!0,Ko(i,!1),e.lanes=4194304)}else{if(!r)if(t=Lu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ko(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ie)return St(e),null}else 2*Ye()-i.renderingStartTime>ho&&n!==1073741824&&(e.flags|=128,r=!0,Ko(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ye(),e.sibling=null,n=be.current,we(be,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return Cp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function NT(t,e){switch(op(e),e.tag){case 1:return Yt(e.type)&&Iu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uo(),xe(Xt),xe(At),mp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pp(e),null;case 13:if(xe(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(be),null;case 4:return uo(),null;case 10:return cp(e.type._context),null;case 22:case 23:return Cp(),null;case 24:return null;default:return null}}var $l=!1,Et=!1,OT=typeof WeakSet=="function"?WeakSet:Set,V=null;function Bi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function ef(t,e,n){try{n()}catch(r){Be(t,e,r)}}var a0=!1;function IT(t,e){if(Ld=Cu,t=s_(),sp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===t)break t;if(d===n&&++u===s&&(a=o),d===i&&++c===r&&(l=o),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vd={focusedElem:t,selectionRange:n},Cu=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,w=p.memoizedState,f=e.stateNode,g=f.getSnapshotBeforeUpdate(e.elementType===e.type?_:Fn(e.type,_),w);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(k){Be(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return p=a0,a0=!1,p}function _a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ef(e,n,i)}s=s.next}while(s!==r)}}function Pc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ey(t){var e=t.alternate;e!==null&&(t.alternate=null,ey(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[ba],delete e[Bd],delete e[dT],delete e[fT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ty(t){return t.tag===5||t.tag===3||t.tag===4}function l0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ou));else if(r!==4&&(t=t.child,t!==null))for(nf(t,e,n),t=t.sibling;t!==null;)nf(t,e,n),t=t.sibling}function rf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rf(t,e,n),t=t.sibling;t!==null;)rf(t,e,n),t=t.sibling}var _t=null,Ln=!1;function Xr(t,e,n){for(n=n.child;n!==null;)ny(t,e,n),n=n.sibling}function ny(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Ac,n)}catch{}switch(n.tag){case 5:Et||Bi(n,e);case 6:var r=_t,s=Ln;_t=null,Xr(t,e,n),_t=r,Ln=s,_t!==null&&(Ln?(t=_t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(Ln?(t=_t,n=n.stateNode,t.nodeType===8?Bh(t.parentNode,n):t.nodeType===1&&Bh(t,n),Oa(t)):Bh(_t,n.stateNode));break;case 4:r=_t,s=Ln,_t=n.stateNode.containerInfo,Ln=!0,Xr(t,e,n),_t=r,Ln=s;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ef(n,e,o),s=s.next}while(s!==r)}Xr(t,e,n);break;case 1:if(!Et&&(Bi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,e,a)}Xr(t,e,n);break;case 21:Xr(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,Xr(t,e,n),Et=r):Xr(t,e,n);break;default:Xr(t,e,n)}}function u0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OT),e.forEach(function(r){var s=UT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,Ln=!1;break e;case 3:_t=a.stateNode.containerInfo,Ln=!0;break e;case 4:_t=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(_t===null)throw Error(I(160));ny(i,o,s),_t=null,Ln=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Be(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ry(e,t),e=e.sibling}function ry(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),nr(t),r&4){try{_a(3,t,t.return),Pc(3,t)}catch(_){Be(t,t.return,_)}try{_a(5,t,t.return)}catch(_){Be(t,t.return,_)}}break;case 1:Pn(e,t),nr(t),r&512&&n!==null&&Bi(n,n.return);break;case 5:if(Pn(e,t),nr(t),r&512&&n!==null&&Bi(n,n.return),t.flags&32){var s=t.stateNode;try{Ea(s,"")}catch(_){Be(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&E2(s,i),Ad(a,o);var u=Ad(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?I2(s,h):c==="dangerouslySetInnerHTML"?N2(s,h):c==="children"?Ea(s,h):Gf(s,c,h,u)}switch(a){case"input":Sd(s,i);break;case"textarea":C2(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Yi(s,!!i.multiple,m,!1):d!==!!i.multiple&&(i.defaultValue!=null?Yi(s,!!i.multiple,i.defaultValue,!0):Yi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ba]=i}catch(_){Be(t,t.return,_)}}break;case 6:if(Pn(e,t),nr(t),r&4){if(t.stateNode===null)throw Error(I(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Be(t,t.return,_)}}break;case 3:if(Pn(e,t),nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oa(e.containerInfo)}catch(_){Be(t,t.return,_)}break;case 4:Pn(e,t),nr(t);break;case 13:Pn(e,t),nr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xp=Ye())),r&4&&u0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(u=Et)||c,Pn(e,t),Et=u):Pn(e,t),nr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(V=t,c=t.child;c!==null;){for(h=V=c;V!==null;){switch(d=V,m=d.child,d.tag){case 0:case 11:case 14:case 15:_a(4,d,d.return);break;case 1:Bi(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(_){Be(r,n,_)}}break;case 5:Bi(d,d.return);break;case 22:if(d.memoizedState!==null){h0(h);continue}}m!==null?(m.return=d,V=m):h0(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=O2("display",o))}catch(_){Be(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Be(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pn(e,t),nr(t),r&4&&u0(t);break;case 21:break;default:Pn(e,t),nr(t)}}function nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ty(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ea(s,""),r.flags&=-33);var i=l0(t);rf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=l0(t);nf(t,a,o);break;default:throw Error(I(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MT(t,e,n){V=t,sy(t)}function sy(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var s=V,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$l;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Et;a=$l;var u=Et;if($l=o,(Et=l)&&!u)for(V=s;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?d0(s):l!==null?(l.return=o,V=l):d0(s);for(;i!==null;)V=i,sy(i),i=i.sibling;V=s,$l=a,Et=u}c0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,V=i):c0(t)}}function c0(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Pc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Xm(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Oa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Et||e.flags&512&&tf(e)}catch(d){Be(e,e.return,d)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function h0(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function d0(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pc(4,e)}catch(l){Be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Be(e,s,l)}}var i=e.return;try{tf(e)}catch(l){Be(e,i,l)}break;case 5:var o=e.return;try{tf(e)}catch(l){Be(e,o,l)}}}catch(l){Be(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var RT=Math.ceil,ju=Br.ReactCurrentDispatcher,Sp=Br.ReactCurrentOwner,An=Br.ReactCurrentBatchConfig,se=0,mt=null,tt=null,yt=0,sn=0,$i=Ms(0),ut=0,ja=null,ai=0,Fc=0,kp=0,ya=null,Gt=null,xp=0,ho=1/0,Tr=null,Bu=!1,sf=null,hs=null,zl=!1,is=null,$u=0,va=0,of=null,uu=-1,cu=0;function bt(){return se&6?Ye():uu!==-1?uu:uu=Ye()}function ds(t){return t.mode&1?se&2&&yt!==0?yt&-yt:mT.transition!==null?(cu===0&&(cu=$2()),cu):(t=fe,t!==0||(t=window.event,t=t===void 0?16:Y2(t.type)),t):1}function Wn(t,e,n,r){if(50<va)throw va=0,of=null,Error(I(185));ll(t,n,r),(!(se&2)||t!==mt)&&(t===mt&&(!(se&2)&&(Fc|=n),ut===4&&ts(t,yt)),Qt(t,r),n===1&&se===0&&!(e.mode&1)&&(ho=Ye()+500,Rc&&Rs()))}function Qt(t,e){var n=t.callbackNode;mw(t,e);var r=Eu(t,t===mt?yt:0);if(r===0)n!==null&&Tm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Tm(n),e===1)t.tag===0?pT(f0.bind(null,t)):p_(f0.bind(null,t)),cT(function(){!(se&6)&&Rs()}),n=null;else{switch(z2(r)){case 1:n=Qf;break;case 4:n=j2;break;case 16:n=xu;break;case 536870912:n=B2;break;default:n=xu}n=dy(n,iy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iy(t,e){if(uu=-1,cu=0,se&6)throw Error(I(327));var n=t.callbackNode;if(eo()&&t.callbackNode!==n)return null;var r=Eu(t,t===mt?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zu(t,r);else{e=r;var s=se;se|=2;var i=ay();(mt!==t||yt!==e)&&(Tr=null,ho=Ye()+500,Zs(t,e));do try{PT();break}catch(a){oy(t,a)}while(!0);up(),ju.current=i,se=s,tt!==null?e=0:(mt=null,yt=0,e=ut)}if(e!==0){if(e===2&&(s=Rd(t),s!==0&&(r=s,e=af(t,s))),e===1)throw n=ja,Zs(t,0),ts(t,r),Qt(t,Ye()),n;if(e===6)ts(t,r);else{if(s=t.current.alternate,!(r&30)&&!DT(s)&&(e=zu(t,r),e===2&&(i=Rd(t),i!==0&&(r=i,e=af(t,i))),e===1))throw n=ja,Zs(t,0),ts(t,r),Qt(t,Ye()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:$s(t,Gt,Tr);break;case 3:if(ts(t,r),(r&130023424)===r&&(e=xp+500-Ye(),10<e)){if(Eu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){bt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=jd($s.bind(null,t,Gt,Tr),e);break}$s(t,Gt,Tr);break;case 4:if(ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-zn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RT(r/1960))-r,10<r){t.timeoutHandle=jd($s.bind(null,t,Gt,Tr),r);break}$s(t,Gt,Tr);break;case 5:$s(t,Gt,Tr);break;default:throw Error(I(329))}}}return Qt(t,Ye()),t.callbackNode===n?iy.bind(null,t):null}function af(t,e){var n=ya;return t.current.memoizedState.isDehydrated&&(Zs(t,e).flags|=256),t=zu(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&lf(e)),t}function lf(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function DT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Gn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ts(t,e){for(e&=~kp,e&=~Fc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function f0(t){if(se&6)throw Error(I(327));eo();var e=Eu(t,0);if(!(e&1))return Qt(t,Ye()),null;var n=zu(t,e);if(t.tag!==0&&n===2){var r=Rd(t);r!==0&&(e=r,n=af(t,r))}if(n===1)throw n=ja,Zs(t,0),ts(t,e),Qt(t,Ye()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,Gt,Tr),Qt(t,Ye()),null}function Ep(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(ho=Ye()+500,Rc&&Rs())}}function li(t){is!==null&&is.tag===0&&!(se&6)&&eo();var e=se;se|=1;var n=An.transition,r=fe;try{if(An.transition=null,fe=1,t)return t()}finally{fe=r,An.transition=n,se=e,!(se&6)&&Rs()}}function Cp(){sn=$i.current,xe($i)}function Zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uT(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Iu();break;case 3:uo(),xe(Xt),xe(At),mp();break;case 5:pp(r);break;case 4:uo();break;case 13:xe(be);break;case 19:xe(be);break;case 10:cp(r.type._context);break;case 22:case 23:Cp()}n=n.return}if(mt=t,tt=t=fs(t.current,null),yt=sn=e,ut=0,ja=null,kp=Fc=ai=0,Gt=ya=null,qs!==null){for(e=0;e<qs.length;e++)if(n=qs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}qs=null}return t}function oy(t,e){do{var n=tt;try{if(up(),ou.current=Uu,Vu){for(var r=Fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vu=!1}if(oi=0,pt=at=Fe=null,ga=!1,La=0,Sp.current=null,n===null||n.return===null){ut=1,ja=e,tt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=e0(o);if(m!==null){m.flags&=-257,t0(m,o,a,i,e),m.mode&1&&Jm(i,u,e),e=m,l=u;var p=e.updateQueue;if(p===null){var _=new Set;_.add(l),e.updateQueue=_}else p.add(l);break e}else{if(!(e&1)){Jm(i,u,e),Ap();break e}l=Error(I(426))}}else if(Ie&&a.mode&1){var w=e0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),t0(w,o,a,i,e),ap(co(l,a));break e}}i=l=co(l,a),ut!==4&&(ut=2),ya===null?ya=[i]:ya.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=z_(i,l,e);Hm(i,f);break e;case 1:a=l;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(hs===null||!hs.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=W_(i,a,e);Hm(i,k);break e}}i=i.return}while(i!==null)}uy(n)}catch(v){e=v,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function ay(){var t=ju.current;return ju.current=Uu,t===null?Uu:t}function Ap(){(ut===0||ut===3||ut===2)&&(ut=4),mt===null||!(ai&268435455)&&!(Fc&268435455)||ts(mt,yt)}function zu(t,e){var n=se;se|=2;var r=ay();(mt!==t||yt!==e)&&(Tr=null,Zs(t,e));do try{bT();break}catch(s){oy(t,s)}while(!0);if(up(),se=n,ju.current=r,tt!==null)throw Error(I(261));return mt=null,yt=0,ut}function bT(){for(;tt!==null;)ly(tt)}function PT(){for(;tt!==null&&!ow();)ly(tt)}function ly(t){var e=hy(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?uy(t):tt=e,Sp.current=null}function uy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NT(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,tt=null;return}}else if(n=AT(n,e,sn),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);ut===0&&(ut=5)}function $s(t,e,n){var r=fe,s=An.transition;try{An.transition=null,fe=1,FT(t,e,n,r)}finally{An.transition=s,fe=r}return null}function FT(t,e,n,r){do eo();while(is!==null);if(se&6)throw Error(I(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(gw(t,i),t===mt&&(tt=mt=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zl||(zl=!0,dy(xu,function(){return eo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=An.transition,An.transition=null;var o=fe;fe=1;var a=se;se|=4,Sp.current=null,IT(t,n),ry(n,t),nT(Vd),Cu=!!Ld,Vd=Ld=null,t.current=n,MT(n),aw(),se=a,fe=o,An.transition=i}else t.current=n;if(zl&&(zl=!1,is=t,$u=s),i=t.pendingLanes,i===0&&(hs=null),cw(n.stateNode),Qt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bu)throw Bu=!1,t=sf,sf=null,t;return $u&1&&t.tag!==0&&eo(),i=t.pendingLanes,i&1?t===of?va++:(va=0,of=t):va=0,Rs(),null}function eo(){if(is!==null){var t=z2($u),e=An.transition,n=fe;try{if(An.transition=null,fe=16>t?16:t,is===null)var r=!1;else{if(t=is,is=null,$u=0,se&6)throw Error(I(331));var s=se;for(se|=4,V=t.current;V!==null;){var i=V,o=i.child;if(V.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(V=u;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:_a(8,c,i)}var h=c.child;if(h!==null)h.return=c,V=h;else for(;V!==null;){c=V;var d=c.sibling,m=c.return;if(ey(c),c===u){V=null;break}if(d!==null){d.return=m,V=d;break}V=m}}}var p=i.alternate;if(p!==null){var _=p.child;if(_!==null){p.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}V=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,V=o;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_a(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,V=f;break e}V=i.return}}var g=t.current;for(V=g;V!==null;){o=V;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,V=y;else e:for(o=g;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pc(9,a)}}catch(v){Be(a,a.return,v)}if(a===o){V=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,V=k;break e}V=a.return}}if(se=s,Rs(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Ac,t)}catch{}r=!0}return r}finally{fe=n,An.transition=e}}return!1}function p0(t,e,n){e=co(n,e),e=z_(t,e,1),t=cs(t,e,1),e=bt(),t!==null&&(ll(t,1,e),Qt(t,e))}function Be(t,e,n){if(t.tag===3)p0(t,t,n);else for(;e!==null;){if(e.tag===3){p0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hs===null||!hs.has(r))){t=co(n,t),t=W_(e,t,1),e=cs(e,t,1),t=bt(),e!==null&&(ll(e,1,t),Qt(e,t));break}}e=e.return}}function LT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(yt&n)===n&&(ut===4||ut===3&&(yt&130023424)===yt&&500>Ye()-xp?Zs(t,0):kp|=n),Qt(t,e)}function cy(t,e){e===0&&(t.mode&1?(e=Dl,Dl<<=1,!(Dl&130023424)&&(Dl=4194304)):e=1);var n=bt();t=br(t,e),t!==null&&(ll(t,e,n),Qt(t,n))}function VT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cy(t,n)}function UT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),cy(t,n)}var hy;hy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,CT(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Ie&&e.flags&1048576&&m_(e,Du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lu(t,e),t=e.pendingProps;var s=oo(e,At.current);Ji(e,n),s=_p(null,e,r,t,s,n);var i=yp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(i=!0,Mu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dp(e),s.updater=bc,e.stateNode=s,s._reactInternals=e,Hd(e,r,t,n),e=Qd(null,e,r,!0,i,n)):(e.tag=0,Ie&&i&&ip(e),It(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=BT(r),t=Fn(r,t),s){case 0:e=Yd(null,e,r,t,n);break e;case 1:e=s0(null,e,r,t,n);break e;case 11:e=n0(null,e,r,t,n);break e;case 14:e=r0(null,e,r,Fn(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),Yd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),s0(t,e,r,s,n);case 3:e:{if(X_(e),t===null)throw Error(I(387));r=e.pendingProps,i=e.memoizedState,s=i.element,T_(t,e),Fu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=co(Error(I(423)),e),e=i0(t,e,r,n,s);break e}else if(r!==s){s=co(Error(I(424)),e),e=i0(t,e,r,n,s);break e}else for(on=us(e.stateNode.containerInfo.firstChild),ln=e,Ie=!0,Vn=null,n=v_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),r===s){e=Pr(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return S_(e),t===null&&Wd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ud(r,s)?o=null:i!==null&&Ud(r,i)&&(e.flags|=32),H_(t,e),It(t,e,o,n),e.child;case 6:return t===null&&Wd(e),null;case 13:return Y_(t,e,n);case 4:return fp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lo(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),n0(t,e,r,s,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,we(bu,r._currentValue),r._currentValue=o,i!==null)if(Gn(i.value,o)){if(i.children===s.children&&!Xt.current){e=Pr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Nr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Gd(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gd(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}It(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ji(e,n),s=In(s),r=r(s),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,s=Fn(r,e.pendingProps),s=Fn(r.type,s),r0(t,e,r,s,n);case 15:return G_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),lu(t,e),e.tag=1,Yt(r)?(t=!0,Mu(e)):t=!1,Ji(e,n),$_(e,r,s),Hd(e,r,s,n),Qd(null,e,r,!0,t,n);case 19:return Q_(t,e,n);case 22:return q_(t,e,n)}throw Error(I(156,e.tag))};function dy(t,e){return U2(t,e)}function jT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,r){return new jT(t,e,n,r)}function Np(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BT(t){if(typeof t=="function")return Np(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hf)return 11;if(t===Xf)return 14}return 2}function fs(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Np(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ri:return Js(n.children,s,i,e);case qf:o=8,s|=8;break;case _d:return t=En(12,n,e,s|2),t.elementType=_d,t.lanes=i,t;case yd:return t=En(13,n,e,s),t.elementType=yd,t.lanes=i,t;case vd:return t=En(19,n,e,s),t.elementType=vd,t.lanes=i,t;case S2:return Lc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w2:o=10;break e;case T2:o=9;break e;case Hf:o=11;break e;case Xf:o=14;break e;case Kr:o=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=En(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Js(t,e,n,r){return t=En(7,t,r,e),t.lanes=n,t}function Lc(t,e,n,r){return t=En(22,t,r,e),t.elementType=S2,t.lanes=n,t.stateNode={isHidden:!1},t}function Yh(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function Qh(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $T(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ih(0),this.expirationTimes=Ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ih(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Op(t,e,n,r,s,i,o,a,l){return t=new $T(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=En(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dp(i),t}function zT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fy(t){if(!t)return ws;t=t._reactInternals;e:{if(yi(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(Yt(n))return f_(t,n,e)}return e}function py(t,e,n,r,s,i,o,a,l){return t=Op(n,r,!0,t,s,i,o,a,l),t.context=fy(null),n=t.current,r=bt(),s=ds(n),i=Nr(r,s),i.callback=e??null,cs(n,i,s),t.current.lanes=s,ll(t,s,r),Qt(t,r),t}function Vc(t,e,n,r){var s=e.current,i=bt(),o=ds(s);return n=fy(n),e.context===null?e.context=n:e.pendingContext=n,e=Nr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cs(s,e,o),t!==null&&(Wn(t,s,o,i),iu(t,s,o)),o}function Wu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ip(t,e){m0(t,e),(t=t.alternate)&&m0(t,e)}function WT(){return null}var my=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mp(t){this._internalRoot=t}Uc.prototype.render=Mp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Vc(t,e,null,null)};Uc.prototype.unmount=Mp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){Vc(null,t,null,null)}),e[Dr]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var e=q2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<es.length&&e!==0&&e<es[n].priority;n++);es.splice(n,0,t),n===0&&X2(t)}};function Rp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g0(){}function GT(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Wu(o);i.call(u)}}var o=py(e,r,t,0,null,!1,!1,"",g0);return t._reactRootContainer=o,t[Dr]=o.current,Ra(t.nodeType===8?t.parentNode:t),li(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Wu(l);a.call(u)}}var l=Op(t,0,!1,null,null,!1,!1,"",g0);return t._reactRootContainer=l,t[Dr]=l.current,Ra(t.nodeType===8?t.parentNode:t),li(function(){Vc(e,l,n,r)}),l}function Bc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Wu(o);a.call(l)}}Vc(e,o,t,s)}else o=GT(n,e,t,s,r);return Wu(o)}W2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=aa(e.pendingLanes);n!==0&&(Kf(e,n|1),Qt(e,Ye()),!(se&6)&&(ho=Ye()+500,Rs()))}break;case 13:li(function(){var r=br(t,1);if(r!==null){var s=bt();Wn(r,t,1,s)}}),Ip(t,1)}};Zf=function(t){if(t.tag===13){var e=br(t,134217728);if(e!==null){var n=bt();Wn(e,t,134217728,n)}Ip(t,134217728)}};G2=function(t){if(t.tag===13){var e=ds(t),n=br(t,e);if(n!==null){var r=bt();Wn(n,t,e,r)}Ip(t,e)}};q2=function(){return fe};H2=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};Od=function(t,e,n){switch(e){case"input":if(Sd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Mc(r);if(!s)throw Error(I(90));x2(r),Sd(r,s)}}}break;case"textarea":C2(t,n);break;case"select":e=n.value,e!=null&&Yi(t,!!n.multiple,e,!1)}};D2=Ep;b2=li;var qT={usingClientEntryPoint:!1,Events:[cl,Fi,Mc,M2,R2,Ep]},Zo={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HT={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=L2(t),t===null?null:t.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||WT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Ac=Wl.inject(HT),ur=Wl}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qT;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rp(e))throw Error(I(200));return zT(t,e,null,n)};fn.createRoot=function(t,e){if(!Rp(t))throw Error(I(299));var n=!1,r="",s=my;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Op(t,1,!1,null,null,n,!1,r,s),t[Dr]=e.current,Ra(t.nodeType===8?t.parentNode:t),new Mp(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=L2(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return li(t)};fn.hydrate=function(t,e,n){if(!jc(e))throw Error(I(200));return Bc(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!Rp(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=my;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=py(e,null,t,1,n??null,s,!1,i,o),t[Dr]=e.current,Ra(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Uc(e)};fn.render=function(t,e,n){if(!jc(e))throw Error(I(200));return Bc(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!jc(t))throw Error(I(40));return t._reactRootContainer?(li(function(){Bc(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};fn.unstable_batchedUpdates=Ep;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jc(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Bc(t,e,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function gy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gy)}catch(t){console.error(t)}}gy(),g2.exports=fn;var XT=g2.exports,_y,_0=XT;_y=_0.createRoot,_0.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$r=(t,e)=>{const n=ce.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>ce.createElement("svg",{ref:c,...YT,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${QT(t)}`,a].join(" "),...u},[...e.map(([h,d])=>ce.createElement(h,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=$r("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=$r("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=$r("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=$r("HandMetal",[["path",{d:"M18 12.5V10a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4",key:"7eki13"}],["path",{d:"M14 11V9a2 2 0 1 0-4 0v2",key:"94qvcw"}],["path",{d:"M10 10.5V5a2 2 0 1 0-4 0v9",key:"m1ah89"}],["path",{d:"m7 15-1.76-1.76a2 2 0 0 0-2.83 2.82l3.6 3.6C7.5 21.14 9.2 22 12 22h2a8 8 0 0 0 8-8V7a2 2 0 1 0-4 0v5",key:"t1skq1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=$r("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=$r("MoveHorizontal",[["polyline",{points:"18 8 22 12 18 16",key:"1hqrds"}],["polyline",{points:"6 8 2 12 6 16",key:"f0ernq"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=$r("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=$r("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=$r("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);class Dp extends Error{constructor(e,n){super(e),this.cause=n,this.name="AppError"}}class Kh extends Dp{constructor(e,n){super(`Camera Error: ${e}`,n),this.name="CameraError"}}class y0 extends Dp{constructor(e,n){super(`Gesture Error: ${e}`,n),this.name="GestureError"}}class oS extends Dp{constructor(e,n){super(`Audio Error: ${e}`,n),this.name="AudioError"}}const aS={video:{facingMode:"user",width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}},audio:!1};class zi{constructor(){this.stream=null}static getInstance(){return zi.instance||(zi.instance=new zi),zi.instance}async initialize(){var e;try{if(!((e=navigator.mediaDevices)!=null&&e.getUserMedia))throw new Kh("Camera access not supported");if(await this.stopStream(),this.stream=await navigator.mediaDevices.getUserMedia(aS),!this.stream.getVideoTracks().length)throw new Kh("No video track available");return this.stream}catch(n){const r=n instanceof Error?n.message:"Failed to access camera";throw new Kh(r)}}async stopStream(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null)}getStream(){return this.stream}}const v0=zi.getInstance(),lS=()=>{const[t,e]=ce.useState(null),[n,r]=ce.useState(null),[s,i]=ce.useState(!1);return ce.useEffect(()=>{let o=!0;return(async()=>{if(!s){i(!0),r(null);try{const l=await v0.initialize();o&&e(l)}catch(l){o&&r(l)}finally{o&&i(!1)}}})(),()=>{o=!1,v0.stopStream()}},[]),{stream:t,error:n,isInitializing:s}},yy=({error:t,onRetry:e,retrying:n=!1,className:r=""})=>j.jsxs("div",{className:`bg-red-500/10 border border-red-500/20 rounded-lg p-4 text-red-400 ${r}`,children:[j.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[j.jsx(KT,{className:"w-4 h-4"}),j.jsx("h3",{className:"font-medium text-sm",children:"Error Detected"})]}),j.jsx("p",{className:"text-xs opacity-90 mb-3",children:t.message}),e&&j.jsxs("button",{onClick:e,disabled:n,className:`flex items-center gap-2 bg-red-500/20 hover:bg-red-500/30 disabled:opacity-50 
                   disabled:cursor-not-allowed text-red-400 px-3 py-1.5 rounded text-xs transition-colors`,children:[j.jsx(iS,{className:`w-3 h-3 ${n?"animate-spin":""}`}),n?"Retrying...":"Try Again"]})]}),uS=({videoRef:t})=>{const{stream:e,error:n,isInitializing:r}=lS();return ce.useEffect(()=>{e&&t.current&&(t.current.srcObject=e,t.current.play().catch(console.error))},[e,t]),n?j.jsx("div",{className:"w-full max-w-lg mx-auto",children:j.jsx(yy,{error:n})}):j.jsxs("div",{className:"relative w-full max-w-lg mx-auto",children:[j.jsx("video",{ref:t,className:"w-full h-full rounded-lg mirror",autoPlay:!0,playsInline:!0,muted:!0}),!e&&j.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/50 rounded-lg backdrop-blur-sm",children:j.jsxs("div",{className:"text-center text-white",children:[j.jsx(JT,{className:"w-12 h-12 mx-auto mb-2 animate-pulse"}),j.jsx("p",{className:"text-sm",children:r?"Accessing camera...":"Camera not connected"})]})})]})},cS=({fingers:t})=>j.jsxs("div",{className:"space-y-2",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(tS,{className:"w-4 h-4"}),j.jsx("span",{className:"font-medium",children:"Finger States"})]}),j.jsx("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(t).map(([e,n])=>j.jsxs("div",{className:"flex flex-col items-center",children:[j.jsx("div",{className:`w-4 h-8 rounded-full transition-colors ${n?"bg-green-500":"bg-red-500"}`,title:`${e}: ${n?"Extended":"Closed"}`}),j.jsx("span",{className:"text-xs mt-1 capitalize",children:e})]},e))})]}),hS=({position:t})=>{const e=n=>(n*100).toFixed(1)+"%";return j.jsxs("div",{className:"space-y-2",children:[j.jsx("div",{className:"font-medium mb-2",children:"Hand Position"}),j.jsxs("div",{className:"space-y-2",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(nS,{className:"w-4 h-4"}),j.jsx("div",{className:"flex-1 h-2 bg-gray-700 rounded-full overflow-hidden",children:j.jsx("div",{className:"h-full bg-blue-500 transition-all duration-200",style:{width:`${t.x*100}%`}})}),j.jsx("span",{className:"text-xs w-16 text-right",children:e(t.x)})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(rS,{className:"w-4 h-4"}),j.jsx("div",{className:"flex-1 h-2 bg-gray-700 rounded-full overflow-hidden",children:j.jsx("div",{className:"h-full bg-purple-500 transition-all duration-200",style:{width:`${t.y*100}%`}})}),j.jsx("span",{className:"text-xs w-16 text-right",children:e(t.y)})]})]})]})},dS=({gesture:t,error:e})=>!t&&!e?null:j.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 backdrop-blur-sm p-4 rounded-lg text-white min-w-[240px]",children:[j.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-2 border-b border-white/20",children:[j.jsx(ZT,{className:"w-4 h-4"}),j.jsx("h3",{className:"text-lg font-semibold",children:"Gesture Debug"})]}),e&&j.jsx(yy,{error:e,className:"mb-4"}),t&&j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"space-y-2",children:[j.jsxs("div",{className:"flex justify-between items-center",children:[j.jsx("span",{children:"Hand Raised:"}),j.jsx("span",{className:t.isRaised?"text-green-400":"text-red-400",children:t.isRaised?"Yes":"No"})]}),j.jsxs("div",{className:"flex justify-between items-center",children:[j.jsx("span",{children:"Hand Closed:"}),j.jsx("span",{className:t.isClosed?"text-yellow-400":"text-blue-400",children:t.isClosed?"Yes":"No"})]})]}),j.jsx(hS,{position:t.position}),j.jsx(cS,{fingers:t.fingers})]})]}),fS=()=>j.jsxs("header",{className:"p-6 text-center",children:[j.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[j.jsx(eS,{className:"w-8 h-8"}),j.jsx("h1",{className:"text-3xl font-bold",children:"The Art of Laziness"}),j.jsx(sS,{className:"w-8 h-8"})]}),j.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Control music with hand gestures. Raise your hand to start, move it up/down for volume, close it to pause, and play individual notes with your fingers."})]});var ui=typeof self<"u"?self:{};function vy(t,e){t=t.split(".");var n,r=ui;for((t[0]in r)||r.execScript===void 0||r.execScript("var "+t[0]);t.length&&(n=t.shift());)t.length||e===void 0?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=e}function js(){throw Error("Invalid UTF8")}function w0(t,e){return e=String.fromCharCode.apply(null,e),t==null?e:t+e}let Gl,Zh;const pS=typeof TextDecoder<"u";let mS;const gS=typeof TextEncoder<"u";function wy(t){if(gS)t=(mS||(mS=new TextEncoder)).encode(t);else{let n=0;const r=new Uint8Array(3*t.length);for(let s=0;s<t.length;s++){var e=t.charCodeAt(s);if(e<128)r[n++]=e;else{if(e<2048)r[n++]=e>>6|192;else{if(e>=55296&&e<=57343){if(e<=56319&&s<t.length){const i=t.charCodeAt(++s);if(i>=56320&&i<=57343){e=1024*(e-55296)+i-56320+65536,r[n++]=e>>18|240,r[n++]=e>>12&63|128,r[n++]=e>>6&63|128,r[n++]=63&e|128;continue}s--}e=65533}r[n++]=e>>12|224,r[n++]=e>>6&63|128}r[n++]=63&e|128}}t=n===r.length?r:r.subarray(0,n)}return t}var bp,Gu;e:{for(var T0=["CLOSURE_FLAGS"],Jh=ui,ed=0;ed<T0.length;ed++)if((Jh=Jh[T0[ed]])==null){Gu=null;break e}Gu=Jh}var Ba,S0=Gu&&Gu[610401301];bp=S0!=null&&S0;const k0=ui.navigator;function uf(t){return!!bp&&!!Ba&&Ba.brands.some(({brand:e})=>e&&e.indexOf(t)!=-1)}function xn(t){var e;return(e=ui.navigator)&&(e=e.userAgent)||(e=""),e.indexOf(t)!=-1}function ns(){return!!bp&&!!Ba&&Ba.brands.length>0}function td(){return ns()?uf("Chromium"):(xn("Chrome")||xn("CriOS"))&&!(!ns()&&xn("Edge"))||xn("Silk")}function Pp(t){return Pp[" "](t),t}Ba=k0&&k0.userAgentData||null,Pp[" "]=function(){};var _S=!ns()&&(xn("Trident")||xn("MSIE"));!xn("Android")||td(),td(),xn("Safari")&&(td()||!ns()&&xn("Coast")||!ns()&&xn("Opera")||!ns()&&xn("Edge")||(ns()?uf("Microsoft Edge"):xn("Edg/"))||ns()&&uf("Opera"));var Ty={},ua=null;function yS(t){const e=t.length;let n=3*e/4;n%3?n=Math.floor(n):"=.".indexOf(t[e-1])!=-1&&(n="=.".indexOf(t[e-2])!=-1?n-2:n-1);const r=new Uint8Array(n);let s=0;return function(i,o){function a(u){for(;l<i.length;){const c=i.charAt(l++),h=ua[c];if(h!=null)return h;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c)}return u}Sy();let l=0;for(;;){const u=a(-1),c=a(0),h=a(64),d=a(64);if(d===64&&u===-1)break;o(u<<2|c>>4),h!=64&&(o(c<<4&240|h>>2),d!=64&&o(h<<6&192|d))}}(t,function(i){r[s++]=i}),s!==n?r.subarray(0,s):r}function Sy(){if(!ua){ua={};var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"];for(let n=0;n<5;n++){const r=t.concat(e[n].split(""));Ty[n]=r;for(let s=0;s<r.length;s++){const i=r[s];ua[i]===void 0&&(ua[i]=s)}}}}var ky=typeof Uint8Array<"u",xy=!_S&&typeof btoa=="function";function x0(t){if(!xy){var e;e===void 0&&(e=0),Sy(),e=Ty[e];var n=Array(Math.floor(t.length/3)),r=e[64]||"";let l=0,u=0;for(;l<t.length-2;l+=3){var s=t[l],i=t[l+1],o=t[l+2],a=e[s>>2];s=e[(3&s)<<4|i>>4],i=e[(15&i)<<2|o>>6],o=e[63&o],n[u++]=a+s+i+o}switch(a=0,o=r,t.length-l){case 2:o=e[(15&(a=t[l+1]))<<2]||r;case 1:t=t[l],n[u]=e[t>>2]+e[(3&t)<<4|a>>4]+o+r}return n.join("")}for(e="",n=0,r=t.length-10240;n<r;)e+=String.fromCharCode.apply(null,t.subarray(n,n+=10240));return e+=String.fromCharCode.apply(null,n?t.subarray(n):t),btoa(e)}const E0=/[-_.]/g,vS={"-":"+",_:"/",".":"="};function wS(t){return vS[t]||""}function Ey(t){if(!xy)return yS(t);E0.test(t)&&(t=t.replace(E0,wS)),t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function dl(t){return ky&&t!=null&&t instanceof Uint8Array}var fo={};function ci(){return TS||(TS=new Or(null,fo))}function Fp(t){Cy(fo);var e=t.g;return(e=e==null||dl(e)?e:typeof e=="string"?Ey(e):null)==null?e:t.g=e}var Or=class{h(){return new Uint8Array(Fp(this)||0)}constructor(t,e){if(Cy(e),this.g=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}};let TS,SS;function Cy(t){if(t!==fo)throw Error("illegal external caller")}function Ay(t,e){t.__closure__error__context__984382||(t.__closure__error__context__984382={}),t.__closure__error__context__984382.severity=e}function Ny(){const t=Error();Ay(t,"incident"),function(e){ui.setTimeout(()=>{throw e},0)}(t)}function cf(t){return Ay(t=Error(t),"warning"),t}function Lp(){return typeof BigInt=="function"}function un(t){return Array.prototype.slice.call(t)}var Oo=typeof Symbol=="function"&&typeof Symbol()=="symbol";function $c(t){return typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():t}var fl=$c(),C0=$c("0di"),nd=$c("2ex"),Jo=$c("1oa"),zc=Oo?(t,e)=>{t[fl]|=e}:(t,e)=>{t.G!==void 0?t.G|=e:Object.defineProperties(t,{G:{value:e,configurable:!0,writable:!0,enumerable:!1}})},hf=Oo?(t,e)=>{t[fl]&=~e}:(t,e)=>{t.G!==void 0&&(t.G&=~e)},Ke=Oo?t=>0|t[fl]:t=>0|t.G,_e=Oo?t=>t[fl]:t=>t.G,nt=Oo?(t,e)=>{t[fl]=e}:(t,e)=>{t.G!==void 0?t.G=e:Object.defineProperties(t,{G:{value:e,configurable:!0,writable:!0,enumerable:!1}})};function Io(t){return zc(t,34),t}function kS(t,e){nt(e,-30975&(0|t))}function df(t,e){nt(e,-30941&(34|t))}var Vp,pl={},Oy={};function A0(t){return!(!t||typeof t!="object"||t.Ia!==Oy)}function Up(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}function jp(t,e){if(t!=null){if(typeof t=="string")t=t?new Or(t,fo):ci();else if(t.constructor!==Or)if(dl(t))t=t.length?new Or(new Uint8Array(t),fo):ci();else{if(!e)throw Error();t=void 0}}return t}function qu(t){return!(!Array.isArray(t)||t.length)&&!!(1&Ke(t))}const N0=[];function Ds(t){if(2&t)throw Error()}nt(N0,55),Vp=Object.freeze(N0);class Hu{constructor(e,n,r){this.l=0,this.g=e,this.h=n,this.m=r}next(){if(this.l<this.g.length){const e=this.g[this.l++];return{done:!1,value:this.h?this.h.call(this.m,e):e}}return{done:!0,value:void 0}}[Symbol.iterator](){return new Hu(this.g,this.h,this.m)}}let ps;function Iy(t,e){(e=ps?e[ps]:void 0)&&(t[ps]=un(e))}var xS=Object.freeze({});function Wc(t){return t.Pa=!0,t}var ES=Wc(t=>typeof t=="number"),O0=Wc(t=>typeof t=="string"),CS=Wc(t=>typeof t=="boolean"),Gc=typeof ui.BigInt=="function"&&typeof ui.BigInt(0)=="bigint",ff=Wc(t=>Gc?t>=NS&&t<=IS:t[0]==="-"?I0(t,AS):I0(t,OS));const AS=Number.MIN_SAFE_INTEGER.toString(),NS=Gc?BigInt(Number.MIN_SAFE_INTEGER):void 0,OS=Number.MAX_SAFE_INTEGER.toString(),IS=Gc?BigInt(Number.MAX_SAFE_INTEGER):void 0;function I0(t,e){if(t.length>e.length)return!1;if(t.length<e.length||t===e)return!0;for(let n=0;n<t.length;n++){const r=t[n],s=e[n];if(r>s)return!1;if(r<s)return!0}}const MS=typeof Uint8Array.prototype.slice=="function";let My,ye=0,$e=0;function M0(t){const e=t>>>0;ye=e,$e=(t-e)/4294967296>>>0}function po(t){if(t<0){M0(-t);const[e,n]=Wp(ye,$e);ye=e>>>0,$e=n>>>0}else M0(t)}function Bp(t){const e=My||(My=new DataView(new ArrayBuffer(8)));e.setFloat32(0,+t,!0),$e=0,ye=e.getUint32(0,!0)}function $p(t,e){const n=4294967296*e+(t>>>0);return Number.isSafeInteger(n)?n:$a(t,e)}function zp(t,e){const n=2147483648&e;return n&&(e=~e>>>0,(t=1+~t>>>0)==0&&(e=e+1>>>0)),typeof(t=$p(t,e))=="number"?n?-t:t:n?"-"+t:t}function $a(t,e){if(t>>>=0,(e>>>=0)<=2097151)var n=""+(4294967296*e+t);else Lp()?n=""+(BigInt(e)<<BigInt(32)|BigInt(t)):(t=(16777215&t)+6777216*(n=16777215&(t>>>24|e<<8))+6710656*(e=e>>16&65535),n+=8147497*e,e*=2,t>=1e7&&(n+=t/1e7>>>0,t%=1e7),n>=1e7&&(e+=n/1e7>>>0,n%=1e7),n=e+R0(n)+R0(t));return n}function R0(t){return t=String(t),"0000000".slice(t.length)+t}function qc(t){if(t.length<16)po(Number(t));else if(Lp())t=BigInt(t),ye=Number(t&BigInt(4294967295))>>>0,$e=Number(t>>BigInt(32)&BigInt(4294967295));else{const e=+(t[0]==="-");$e=ye=0;const n=t.length;for(let r=e,s=(n-e)%6+e;s<=n;r=s,s+=6){const i=Number(t.slice(r,s));$e*=1e6,ye=1e6*ye+i,ye>=4294967296&&($e+=Math.trunc(ye/4294967296),$e>>>=0,ye>>>=0)}if(e){const[r,s]=Wp(ye,$e);ye=r,$e=s}}}function Wp(t,e){return e=~e,t?t=1+~t:e+=1,[t,e]}function bs(t){return t==null||typeof t=="number"?t:t==="NaN"||t==="Infinity"||t==="-Infinity"?Number(t):void 0}function Ry(t){return t==null||typeof t=="boolean"?t:typeof t=="number"?!!t:void 0}const RS=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function Hc(t){const e=typeof t;switch(e){case"bigint":return!0;case"number":return Number.isFinite(t)}return e==="string"&&RS.test(t)}function Mo(t){if(t==null)return t;if(typeof t=="string"){if(!t)return;t=+t}return typeof t=="number"&&Number.isFinite(t)?0|t:void 0}function Dy(t){if(t==null)return t;if(typeof t=="string"){if(!t)return;t=+t}return typeof t=="number"&&Number.isFinite(t)?t>>>0:void 0}function D0(t){return t[0]!=="-"&&(t.length<20||t.length===20&&Number(t.substring(0,6))<184467)}function Gp(t){return t=Math.trunc(t),Number.isSafeInteger(t)||(po(t),t=zp(ye,$e)),t}function qp(t){var e=Math.trunc(Number(t));if(Number.isSafeInteger(e))return String(e);if((e=t.indexOf("."))!==-1&&(t=t.substring(0,e)),!(t[0]==="-"?t.length<20||t.length===20&&Number(t.substring(0,7))>-922337:t.length<19||t.length===19&&Number(t.substring(0,6))<922337))if(qc(t),t=ye,2147483648&(e=$e))if(Lp())t=""+(BigInt(0|e)<<BigInt(32)|BigInt(t>>>0));else{const[n,r]=Wp(t,e);t="-"+$a(n,r)}else t=$a(t,e);return t}function Xu(t){return t==null?t:typeof t=="bigint"?(ff(t)?t=Number(t):(t=BigInt.asIntN(64,t),t=ff(t)?Number(t):String(t)),t):Hc(t)?typeof t=="number"?Gp(t):qp(t):void 0}function DS(t){if(t==null)return t;var e=typeof t;if(e==="bigint")return String(BigInt.asUintN(64,t));if(Hc(t)){if(e==="string")return e=Math.trunc(Number(t)),Number.isSafeInteger(e)&&e>=0?t=String(e):((e=t.indexOf("."))!==-1&&(t=t.substring(0,e)),D0(t)||(qc(t),t=$a(ye,$e))),t;if(e==="number")return(t=Math.trunc(t))>=0&&Number.isSafeInteger(t)?t:function(n){if(n<0){po(n);var r=$a(ye,$e);return n=Number(r),Number.isSafeInteger(n)?n:r}return D0(r=String(n))?r:(po(n),$p(ye,$e))}(t)}}function by(t){if(typeof t!="string")throw Error();return t}function Ro(t){if(t!=null&&typeof t!="string")throw Error();return t}function ms(t){return t==null||typeof t=="string"?t:void 0}function Hp(t,e,n,r){if(t!=null&&typeof t=="object"&&t.X===pl)return t;if(!Array.isArray(t))return n?2&r?(t=e[C0])?e=t:(Io((t=new e).u),e=e[C0]=t):e=new e:e=void 0,e;let s=n=Ke(t);return s===0&&(s|=32&r),s|=2&r,s!==n&&nt(t,s),new e(t)}function bS(t,e,n){if(e)e:{if(!Hc(e=t))throw cf("int64");switch(typeof e){case"string":e=qp(e);break e;case"bigint":if(t=e=BigInt.asIntN(64,e),O0(t)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(t))throw Error(String(t))}else if(ES(t)&&!Number.isSafeInteger(t))throw Error(String(t));e=Gc?BigInt(e):CS(e)?e?"1":"0":O0(e)?e.trim()||"0":String(e);break e;default:e=Gp(e)}}else e=Xu(t);return typeof(n=(t=e)==null?n?0:void 0:t)=="string"&&(e=+n,Number.isSafeInteger(e))?e:n}function Py(t){var e;return ea===void 0&&(ea=typeof Proxy=="function"?b0(Proxy):null),(e=!ea)||(ta===void 0&&(ta=typeof WeakMap=="function"?b0(WeakMap):null),e=!ta),e?t:(e=Ct==null?void 0:Ct.get(t))?e:Math.random()>.01?t:(function(n){if(rd===void 0){const r=new ea([],{});rd=Array.prototype.concat.call([],r).length===1}rd&&typeof Symbol=="function"&&Symbol.isConcatSpreadable&&(n[Symbol.isConcatSpreadable]=!0)}(t),function(n,r){(Ct||(Ct=new ta)).set(n,r),(du||(du=new ta)).set(r,n)}(t,e=new ea(t,{set:(n,r,s)=>(Ny(),n[r]=s,!0)})),e)}let Ct,du,ea,ta,rd,Yu,Fy,PS;function b0(t){try{return t.toString().indexOf("[native code]")!==-1?t:null}catch{return null}}function gs(t,e,n){return t=Ly(t,e[0],e[1],n?1:2),e!==Fy&&n&&zc(t,16384),t}function Ly(t,e,n,r){if(r=r??0,t==null&&(t=Yu),Yu=void 0,t==null){var s=96;n?(t=[n],s|=512):t=[],e&&(s=-33521665&s|(1023&e)<<15)}else{if(!Array.isArray(t))throw Error("narr");if(2048&(s=Ke(t)))throw Error("farr");if(64&s)return t;if(r===1||r===2||(s|=64),n&&(s|=512,n!==t[0]))throw Error("mid");e:{if(r=(n=t).length){const i=r-1;if(Up(n[i])){if((e=i-(+!!(512&(s|=256))-1))>=1024)throw Error("pvtlmt");s=-33521665&s|(1023&e)<<15;break e}}if(e){if((e=Math.max(e,r-(+!!(512&s)-1)))>1024)throw Error("spvt");s=-33521665&s|(1023&e)<<15}}}return nt(t,s),t}const FS={};let LS=function(){try{return Pp(new class extends Map{constructor(){super()}}),!1}catch{return!0}}();class sd{constructor(){this.g=new Map}get(e){return this.g.get(e)}set(e,n){return this.g.set(e,n),this.size=this.g.size,this}delete(e){return e=this.g.delete(e),this.size=this.g.size,e}clear(){this.g.clear(),this.size=this.g.size}has(e){return this.g.has(e)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(e,n){return this.g.forEach(e,n)}[Symbol.iterator](){return this.entries()}}const VS=LS?(Object.setPrototypeOf(sd.prototype,Map.prototype),Object.defineProperties(sd.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),sd):class extends Map{constructor(){super()}};function P0(t){return t}function id(t){if(2&t.M)throw Error("Cannot mutate an immutable Map")}var Rn=class extends VS{constructor(t,e,n=P0,r=P0){super();let s=Ke(t);s|=64,nt(t,s),this.M=s,this.T=e,this.S=n,this.Z=this.T?US:r;for(let i=0;i<t.length;i++){const o=t[i],a=n(o[0],!1,!0);let l=o[1];e?l===void 0&&(l=null):l=r(o[1],!1,!0,void 0,void 0,s),super.set(a,l)}}oa(t=F0){if(this.size!==0)return this.Y(t)}Y(t=F0){const e=[],n=super.entries();for(var r;!(r=n.next()).done;)(r=r.value)[0]=t(r[0]),r[1]=t(r[1]),e.push(r);return e}clear(){id(this),super.clear()}delete(t){return id(this),super.delete(this.S(t,!0,!1))}entries(){var t=this.na();return new Hu(t,jS,this)}keys(){return this.Ha()}values(){var t=this.na();return new Hu(t,Rn.prototype.get,this)}forEach(t,e){super.forEach((n,r)=>{t.call(e,this.get(r),r,this)})}set(t,e){return id(this),(t=this.S(t,!0,!1))==null?this:e==null?(super.delete(t),this):super.set(t,this.Z(e,!0,!0,this.T,!1,this.M))}Na(t){const e=this.S(t[0],!1,!0);t=t[1],t=this.T?t===void 0?null:t:this.Z(t,!1,!0,void 0,!1,this.M),super.set(e,t)}has(t){return super.has(this.S(t,!1,!1))}get(t){t=this.S(t,!1,!1);const e=super.get(t);if(e!==void 0){var n=this.T;return n?((n=this.Z(e,!1,!0,n,this.sa,this.M))!==e&&super.set(t,n),n):e}}na(){return Array.from(super.keys())}Ha(){return super.keys()}[Symbol.iterator](){return this.entries()}};function US(t,e,n,r,s,i){return t=Hp(t,r,n,i),s&&(t=Yc(t)),t}function F0(t){return t}function jS(t){return[t,this.get(t)]}let BS;function L0(){return BS||(BS=new Rn(Io([]),void 0,void 0,void 0,FS))}function Xp(t,e,n,r,s){if(t!=null){if(Array.isArray(t))t=qu(t)?void 0:s&&2&Ke(t)?t:Xc(t,e,n,r!==void 0,s);else if(Up(t)){const i={};for(let o in t)i[o]=Xp(t[o],e,n,r,s);t=i}else t=e(t,r);return t}}function Xc(t,e,n,r,s){const i=r||n?Ke(t):0;r=r?!!(32&i):void 0;const o=un(t);for(let a=0;a<o.length;a++)o[a]=Xp(o[a],e,n,r,s);return n&&(Iy(o,t),n(i,o)),o}function $S(t){return Xp(t,Yp,void 0,void 0,!1)}function Yp(t){return t.X===pl?t.toJSON():t instanceof Rn?t.oa($S):function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"bigint":return ff(e)?Number(e):String(e);case"boolean":return e?1:0;case"object":if(e)if(Array.isArray(e)){if(qu(e))return}else{if(dl(e))return x0(e);if(e instanceof Or){const n=e.g;return n==null?"":typeof n=="string"?n:e.g=x0(n)}if(e instanceof Rn)return e.oa()}}return e}(t)}function pf(t,e,n=df){if(t!=null){if(ky&&t instanceof Uint8Array)return e?t:new Uint8Array(t);if(Array.isArray(t)){var r=Ke(t);return 2&r?t:(e&&(e=r===0||!!(32&r)&&!(64&r||!(16&r))),e?(nt(t,-12293&(34|r)),t):Xc(t,pf,4&r?df:n,!0,!0))}return t.X===pl?(n=t.u,t=2&(r=_e(n))?t:Qp(t,n,r,!0)):t instanceof Rn&&!(2&t.M)&&(n=Io(t.Y(pf)),t=new Rn(n,t.T,t.S,t.Z)),t}}function Qp(t,e,n,r){return t=t.constructor,Yu=e=Vy(e,n,r),e=new t(e),Yu=void 0,e}function Vy(t,e,n){const r=n||2&e?df:kS,s=!!(32&e);return t=function(i,o,a){const l=un(i);var u=l.length;const c=256&o?l[u-1]:void 0;for(u+=c?-1:0,o=512&o?1:0;o<u;o++)l[o]=a(l[o]);if(c){o=l[o]={};for(const h in c)o[h]=a(c[h])}return Iy(l,i),l}(t,e,i=>pf(i,s,r)),zc(t,32|(n?2:0)),t}function Yc(t){const e=t.u,n=_e(e);return 2&n?Qp(t,e,n,!1):t}function Ts(t,e){return zr(t=t.u,_e(t),e)}function V0(t,e,n,r){if(!((e=r+(+!!(512&e)-1))<0||e>=t.length||e>=n))return t[e]}function zr(t,e,n,r){if(n===-1)return null;const s=e>>15&1023||536870912;if(!(n>=s)){var i=t.length;return r&&256&e&&(r=t[i-1][n])!=null?(V0(t,e,s,n)&&nd!=null&&((e=(t=SS??(SS={}))[nd]||0)>=4||(t[nd]=e+1,Ny())),r):V0(t,e,s,n)}return 256&e?t[t.length-1][n]:void 0}function ve(t,e,n){const r=t.u;let s=_e(r);return Ds(s),Le(r,s,e,n),t}function Le(t,e,n,r){const s=e>>15&1023||536870912;if(n>=s){let i,o=e;if(256&e)i=t[t.length-1];else{if(r==null)return o;i=t[s+(+!!(512&e)-1)]={},o|=256}return i[n]=r,n<s&&(t[n+(+!!(512&e)-1)]=void 0),o!==e&&nt(t,o),o}return t[n+(+!!(512&e)-1)]=r,256&e&&n in(t=t[t.length-1])&&delete t[n],e}function fu(t,e){t=t.u;let n=_e(t);const r=zr(t,n,e),s=bs(r);return s!=null&&s!==r&&Le(t,n,e,s),s}function Uy(t){t=t.u;let e=_e(t);const n=zr(t,e,1),r=jp(n,!0);return r!=null&&r!==n&&Le(t,e,1,r),r}function Xs(){return xS===void 0?2:4}function Ys(t,e,n,r,s){const i=t.u,o=2&(t=_e(i))?1:r;s=!!s,r=Kp(i,t,e);var a=Ke(r);if(!(4&a)){4&a&&(r=un(r),a=Ir(a,t),t=Le(i,t,e,r));let u=0,c=0;for(;u<r.length;u++){const h=n(r[u]);h!=null&&(r[c++]=h)}c<u&&(r.length=c),a=-4097&(20|(a=Zp(a,t))),nt(r,a&=-8193),2&a&&Object.freeze(r)}let l;return o===1||o===4&&32&a?jn(a)||(s=a,(a|=2)!==s&&nt(r,a),Object.freeze(r)):(n=o===5&&(!!(32&a)||jn(a)||!!(Ct!=null&&Ct.get(r))),(o===2||n)&&jn(a)&&(r=un(r),a=_s(a=Ir(a,t),t,s),nt(r,a),t=Le(i,t,e,r)),jn(a)||(e=a,(a=_s(a,t,s))!==e&&nt(r,a)),n?l=Py(r):o!==2||s||(Ct==null||Ct.delete(r))),l||r}function Kp(t,e,n,r){return t=zr(t,e,n,r),Array.isArray(t)?t:Vp}function Zp(t,e){return t===0&&(t=Ir(t,e)),1|t}function jn(t){return!!(2&t)&&!!(4&t)||!!(2048&t)}function jy(t){t=un(t);for(let e=0;e<t.length;e++){const n=t[e]=un(t[e]);Array.isArray(n[1])&&(n[1]=Io(n[1]))}return t}function mf(t,e,n,r){t=t.u;let s=_e(t);Ds(s),Le(t,s,e,(r==="0"?Number(n)===0:n===r)?void 0:n)}function Do(t,e,n,r,s){Ds(e);var i=!(!(64&e)&&16384&e);const o=(s=Kp(t,e,n,s))!==Vp;if(i||!o){let a=i=o?Ke(s):0;(!o||2&a||jn(a)||4&a&&!(32&a))&&(s=un(s),a=Ir(a,e),e=Le(t,e,n,s)),a=-13&Zp(a,e),a=_s(r?-17&a:16|a,e,!0),a!==i&&nt(s,a)}return s}function od(t,e){var n=Ov;return e1(Jp(t=t.u),t,_e(t),n)===e?e:-1}function Jp(t){if(Oo)return t[Jo]??(t[Jo]=new Map);if(Jo in t)return t[Jo];const e=new Map;return Object.defineProperty(t,Jo,{value:e}),e}function By(t,e,n,r){const s=Jp(t),i=e1(s,t,e,n);return i!==r&&(i&&(e=Le(t,e,i)),s.set(n,r)),e}function e1(t,e,n,r){let s=t.get(r);if(s!=null)return s;s=0;for(let i=0;i<r.length;i++){const o=r[i];zr(e,n,o)!=null&&(s!==0&&(n=Le(e,n,s)),s=o)}return t.set(r,s),s}function t1(t,e,n,r){let s,i=_e(t);if((r=zr(t,i,n,r))!=null&&r.X===pl)return(e=Yc(r))!==r&&Le(t,i,n,e),e.u;if(Array.isArray(r)){const o=Ke(r);s=2&o?gs(Vy(r,o,!1),e,!0):64&o?r:gs(s,e,!0)}else s=gs(void 0,e,!0);return s!==r&&Le(t,i,n,s),s}function $y(t,e,n,r){t=t.u;let s=_e(t);return(e=Hp(r=zr(t,s,n,r),e,!1,s))!==r&&e!=null&&Le(t,s,n,e),e}function ie(t,e,n,r=!1){if((e=$y(t,e,n,r))==null)return e;if(t=t.u,!(2&(r=_e(t)))){const s=Yc(e);s!==e&&Le(t,r,n,e=s)}return e}function zy(t,e,n,r,s,i,o){t=t.u;var a=!!(2&e);s=a?1:s,i=!!i,o&&(o=!a),a=Kp(t,e,r);var l=Ke(a),u=!!(4&l);if(!u){var c=a,h=e;const m=!!(2&(l=Zp(l,e)));m&&(h|=2);let p=!m,_=!0,w=0,f=0;for(;w<c.length;w++){const g=Hp(c[w],n,!1,h);if(g instanceof n){if(!m){const y=!!(2&Ke(g.u));p&&(p=!y),_&&(_=y)}c[f++]=g}}f<w&&(c.length=f),l|=4,l=_?16|l:-17&l,nt(c,l=p?8|l:-9&l),m&&Object.freeze(c)}if(o&&!(8&l||!a.length&&(s===1||s===4&&32&l))){for(jn(l)&&(a=un(a),l=Ir(l,e),e=Le(t,e,r,a)),n=a,o=l,c=0;c<n.length;c++)(l=n[c])!==(h=Yc(l))&&(n[c]=h);o|=8,o=n.length?-17&o:16|o,nt(n,o),l=o}let d;return s===1||s===4&&32&l?jn(l)||(e=l,(l|=!a.length||16&l&&(!u||32&l)?2:2048)!==e&&nt(a,l),Object.freeze(a)):(u=s===5&&(!!(32&l)||jn(l)||!!(Ct!=null&&Ct.get(a))),(s===2||u)&&jn(l)&&(a=un(a),l=_s(l=Ir(l,e),e,i),nt(a,l),e=Le(t,e,r,a)),jn(l)||(r=l,(l=_s(l,e,i))!==r&&nt(a,l)),u?d=Py(a):s!==2||i||(Ct==null||Ct.delete(a))),d||a}function Fr(t,e,n){const r=_e(t.u);return zy(t,r,e,n,Xs(),!1,!(2&r))}function q(t,e,n,r){return r==null&&(r=void 0),ve(t,n,r)}function wa(t,e,n,r){r==null&&(r=void 0);e:{t=t.u;let s=_e(t);if(Ds(s),r==null){const i=Jp(t);if(e1(i,t,s,n)!==e)break e;i.set(n,0)}else s=By(t,s,n,e);Le(t,s,e,r)}}function Ir(t,e){return-2049&(t=32|(2&e?2|t:-3&t))}function _s(t,e,n){return 32&e&&n||(t&=-33),t}function Qu(t,e,n,r){const s=_e(t.u);Ds(s),t=zy(t,s,n,e,2,!0),r=r??new n,t.push(r),2&Ke(r.u)?hf(t,8):hf(t,16)}function qn(t,e){return t??e}function Cn(t,e){return Mo(Ts(t,e))}function He(t,e){return qn(fu(t,e),0)}function hr(t,e){return qn(ms(Ts(t,e)),"")}function za(t,e,n){if(n!=null&&typeof n!="boolean")throw t=typeof n,Error(`Expected boolean but got ${t!="object"?t:n?Array.isArray(n)?"array":t:"null"}: ${n}`);ve(t,e,n)}function dr(t,e,n){if(n!=null){if(typeof n!="number"||!Number.isFinite(n))throw cf("int32");n|=0}ve(t,e,n)}function W(t,e,n){if(n!=null&&typeof n!="number")throw Error(`Value of float/double field must be a number, found ${typeof n}: ${n}`);ve(t,e,n)}function Ku(t,e,n){{const a=t.u;let l=_e(a);if(Ds(l),n==null)Le(a,l,e);else{n=(du==null?void 0:du.get(n))||n;var r=t=Ke(n),s=!!(4&t),i=jn(t),o=i||Object.isFrozen(n);if(i||(t=0),o||(n=un(n),r=0,t=_s(t=Ir(t,l),l,!0),o=!1),t|=21,!s)for(s=0;s<n.length;s++){const u=by(i=n[s]);Object.is(i,u)||(o&&(n=un(n),r=0,t=_s(t=Ir(t,l),l,!0),o=!1),n[s]=u)}t!==r&&(o&&(n=un(n),t=_s(t=Ir(t,l),l,!0)),nt(n,t)),Le(a,l,e,n)}}}function Qc(t,e,n){Ds(_e(t.u)),Ys(t,e,ms,2,!0).push(by(n))}function Wy(t,e){return Error(`Invalid wire type: ${t} (at position ${e})`)}function n1(){return Error("Failed to read varint, encoding is invalid.")}function Gy(t,e){return Error(`Tried to read past the end of the data ${e} > ${t}`)}function r1(t){if(typeof t=="string")return{buffer:Ey(t),O:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),O:!1};if(t.constructor===Uint8Array)return{buffer:t,O:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),O:!1};if(t.constructor===Or)return{buffer:Fp(t)||new Uint8Array(0),O:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),O:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function s1(t,e){let n,r=0,s=0,i=0;const o=t.h;let a=t.g;do n=o[a++],r|=(127&n)<<i,i+=7;while(i<32&&128&n);for(i>32&&(s|=(127&n)>>4),i=3;i<32&&128&n;i+=7)n=o[a++],s|=(127&n)<<i;if(ei(t,a),n<128)return e(r>>>0,s>>>0);throw n1()}function i1(t){let e=0,n=t.g;const r=n+10,s=t.h;for(;n<r;){const i=s[n++];if(e|=i,(128&i)==0)return ei(t,n),!!(127&e)}throw n1()}function Ss(t){const e=t.h;let n=t.g,r=e[n++],s=127&r;if(128&r&&(r=e[n++],s|=(127&r)<<7,128&r&&(r=e[n++],s|=(127&r)<<14,128&r&&(r=e[n++],s|=(127&r)<<21,128&r&&(r=e[n++],s|=r<<28,128&r&&128&e[n++]&&128&e[n++]&&128&e[n++]&&128&e[n++]&&128&e[n++])))))throw n1();return ei(t,n),s}function Lr(t){return Ss(t)>>>0}function gf(t){var e=t.h;const n=t.g,r=e[n],s=e[n+1],i=e[n+2];return e=e[n+3],ei(t,t.g+4),(r<<0|s<<8|i<<16|e<<24)>>>0}function _f(t){var e=gf(t);t=2*(e>>31)+1;const n=e>>>23&255;return e&=8388607,n==255?e?NaN:t*(1/0):n==0?1401298464324817e-60*t*e:t*Math.pow(2,n-150)*(e+8388608)}function zS(t){return Ss(t)}function ad(t,e,{ca:n=!1}={}){t.ca=n,e&&(e=r1(e),t.h=e.buffer,t.m=e.O,t.j=0,t.l=t.h.length,t.g=t.j)}function ei(t,e){if(t.g=e,e>t.l)throw Gy(t.l,e)}function qy(t,e){if(e<0)throw Error(`Tried to read a negative byte length: ${e}`);const n=t.g,r=n+e;if(r>t.l)throw Gy(e,t.l-n);return t.g=r,n}function Hy(t,e){if(e==0)return ci();var n=qy(t,e);return t.ca&&t.m?n=t.h.subarray(n,n+e):(t=t.h,n=n===(e=n+e)?new Uint8Array(0):MS?t.slice(n,e):new Uint8Array(t.subarray(n,e))),n.length==0?ci():new Or(n,fo)}Rn.prototype.toJSON=void 0,Rn.prototype.Ia=Oy;var U0=[];function Xy(t){var e=t.g;if(e.g==e.l)return!1;t.l=t.g.g;var n=Lr(t.g);if(e=n>>>3,!((n&=7)>=0&&n<=5))throw Wy(n,t.l);if(e<1)throw Error(`Invalid field number: ${e} (at position ${t.l})`);return t.m=e,t.h=n,!0}function pu(t){switch(t.h){case 0:t.h!=0?pu(t):i1(t.g);break;case 1:ei(t=t.g,t.g+8);break;case 2:if(t.h!=2)pu(t);else{var e=Lr(t.g);ei(t=t.g,t.g+e)}break;case 5:ei(t=t.g,t.g+4);break;case 3:for(e=t.m;;){if(!Xy(t))throw Error("Unmatched start-group tag: stream EOF");if(t.h==4){if(t.m!=e)throw Error("Unmatched end-group tag");break}pu(t)}break;default:throw Wy(t.h,t.l)}}function ml(t,e,n){const r=t.g.l,s=Lr(t.g),i=t.g.g+s;let o=i-r;if(o<=0&&(t.g.l=i,n(e,t,void 0,void 0,void 0),o=i-t.g.g),o)throw Error(`Message parsing ended unexpectedly. Expected to read ${s} bytes, instead read ${s-o} bytes, either the data ended unexpectedly or the message misreported its own length`);return t.g.g=i,t.g.l=r,e}function o1(t){var e=Lr(t.g),n=qy(t=t.g,e);if(t=t.h,pS){var r,s=t;(r=Zh)||(r=Zh=new TextDecoder("utf-8",{fatal:!0})),e=n+e,s=n===0&&e===s.length?s:s.subarray(n,e);try{var i=r.decode(s)}catch(a){if(Gl===void 0){try{r.decode(new Uint8Array([128]))}catch{}try{r.decode(new Uint8Array([97])),Gl=!0}catch{Gl=!1}}throw!Gl&&(Zh=void 0),a}}else{e=(i=n)+e,n=[];let a,l=null;for(;i<e;){var o=t[i++];o<128?n.push(o):o<224?i>=e?js():(a=t[i++],o<194||(192&a)!=128?(i--,js()):n.push((31&o)<<6|63&a)):o<240?i>=e-1?js():(a=t[i++],(192&a)!=128||o===224&&a<160||o===237&&a>=160||(192&(r=t[i++]))!=128?(i--,js()):n.push((15&o)<<12|(63&a)<<6|63&r)):o<=244?i>=e-2?js():(a=t[i++],(192&a)!=128||a-144+(o<<28)>>30||(192&(r=t[i++]))!=128||(192&(s=t[i++]))!=128?(i--,js()):(o=(7&o)<<18|(63&a)<<12|(63&r)<<6|63&s,o-=65536,n.push(55296+(o>>10&1023),56320+(1023&o)))):js(),n.length>=8192&&(l=w0(l,n),n.length=0)}i=w0(l,n)}return i}function Yy(t){const e=Lr(t.g);return Hy(t.g,e)}function Kc(t,e,n){var r=Lr(t.g);for(r=t.g.g+r;t.g.g<r;)n.push(e(t.g))}var ql=[];let Zu;function Yn(t,e,n){e.g?e.m(t,e.g,e.h,n,!0):e.m(t,e.h,n,!0)}var z=class{constructor(t,e){this.u=Ly(t,e)}toJSON(){return Qy(this)}l(){var t=Ek;return t.g?t.l(this,t.g,t.h,!0):t.l(this,t.h,t.defaultValue,!0)}clone(){const t=this.u;return Qp(this,t,_e(t),!1)}O(){return!!(2&Ke(this.u))}};function Qy(t){t=t.u,t=Zu?t:Xc(t,Yp,void 0,void 0,!1);{var e=!Zu;let u=t.length;if(u){var n=t[u-1],r=Up(n);r?u--:n=void 0;var s=t;if(r){e:{var i,o=n,a=!1;if(o)for(let c in o)isNaN(+c)?(i??(i={}))[c]=o[c]:(r=o[c],Array.isArray(r)&&(qu(r)||A0(r)&&r.size===0)&&(r=null),r==null&&(a=!0),r!=null&&((i??(i={}))[c]=r));if(a||(i=o),i)for(let c in i){a=i;break e}a=null}o=a==null?n!=null:a!==n}for(;u>0&&((i=s[u-1])==null||qu(i)||A0(i)&&i.size===0);u--)var l=!0;(s!==t||o||l)&&(e?(l||o||a)&&(s.length=u):s=Array.prototype.slice.call(s,0,u),a&&s.push(a)),l=s}else l=t}return l}function j0(t){return t?/^\d+$/.test(t)?(qc(t),new yf(ye,$e)):null:WS||(WS=new yf(0,0))}z.prototype.X=pl,z.prototype.toString=function(){try{return Zu=!0,Qy(this).toString()}finally{Zu=!1}};var yf=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}};let WS;function B0(t){return t?/^-?\d+$/.test(t)?(qc(t),new vf(ye,$e)):null:GS||(GS=new vf(0,0))}var vf=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}};let GS;function to(t,e,n){for(;n>0||e>127;)t.g.push(127&e|128),e=(e>>>7|n<<25)>>>0,n>>>=7;t.g.push(e)}function bo(t,e){for(;e>127;)t.g.push(127&e|128),e>>>=7;t.g.push(e)}function Zc(t,e){if(e>=0)bo(t,e);else{for(let n=0;n<9;n++)t.g.push(127&e|128),e>>=7;t.g.push(1)}}function Wa(t,e){t.g.push(e>>>0&255),t.g.push(e>>>8&255),t.g.push(e>>>16&255),t.g.push(e>>>24&255)}function mo(t,e){e.length!==0&&(t.l.push(e),t.h+=e.length)}function mn(t,e,n){bo(t.g,8*e+n)}function a1(t,e){return mn(t,e,2),e=t.g.end(),mo(t,e),e.push(t.h),e}function l1(t,e){var n=e.pop();for(n=t.h+t.g.length()-n;n>127;)e.push(127&n|128),n>>>=7,t.h++;e.push(n),t.h++}function Jc(t,e,n){mn(t,e,2),bo(t.g,n.length),mo(t,t.g.end()),mo(t,n)}function Ju(t,e,n,r){n!=null&&(e=a1(t,e),r(n,t),l1(t,e))}function Qn(){const t=class{constructor(){throw Error()}};return Object.setPrototypeOf(t,t.prototype),t}var u1=Qn(),Ky=Qn(),c1=Qn(),h1=Qn(),Zy=Qn(),Jy=Qn(),d1=Qn(),ev=Qn(),tv=Qn(),Po=class{constructor(t,e,n){this.g=t,this.h=e,t=u1,this.l=!!t&&n===t||!1}};function eh(t,e){return new Po(t,e,u1)}function nv(t,e,n,r,s){Ju(t,n,ov(e,r),s)}const qS=eh(function(t,e,n,r,s){return t.h===2&&(ml(t,t1(e,r,n),s),!0)},nv),HS=eh(function(t,e,n,r,s){return t.h===2&&(ml(t,t1(e,r,n,!0),s),!0)},nv);var th=Symbol(),f1=Symbol(),$0=Symbol(),z0=Symbol();let rv,sv;function vi(t,e,n,r){var s=r[t];if(s)return s;(s={}).W=function(h){switch(typeof h){case"boolean":return Fy||(Fy=[0,void 0,!0]);case"number":return h>0?void 0:h===0?PS||(PS=[0,void 0]):[-h,void 0];case"string":return[0,h];case"object":return h}}(r[0]);var i=r[1];let o=1;i&&i.constructor===Object&&(s.ha=i,typeof(i=r[++o])=="function"&&(s.ma=!0,rv??(rv=i),sv??(sv=r[o+1]),i=r[o+=2]));const a={};for(;i&&Array.isArray(i)&&i.length&&typeof i[0]=="number"&&i[0]>0;){for(var l=0;l<i.length;l++)a[i[l]]=i;i=r[++o]}for(l=1;i!==void 0;){let h;typeof i=="number"&&(l+=i,i=r[++o]);var u=void 0;if(i instanceof Po?h=i:(h=qS,o--),h==null?void 0:h.l){i=r[++o],u=r;var c=o;typeof i=="function"&&(i=i(),u[c]=i),u=i}for(c=l+1,typeof(i=r[++o])=="number"&&i<0&&(c-=i,i=r[++o]);l<c;l++){const d=a[l];u?n(s,l,h,u,d):e(s,l,h,d)}}return r[t]=s}function iv(t){return Array.isArray(t)?t[0]instanceof Po?t:[HS,t]:[t,void 0]}function ov(t,e){return t instanceof z?t.u:Array.isArray(t)?gs(t,e,!1):void 0}function p1(t,e,n,r){const s=n.g;t[e]=r?(i,o,a)=>s(i,o,a,r):s}function m1(t,e,n,r,s){const i=n.g;let o,a;t[e]=(l,u,c)=>i(l,u,c,a||(a=vi(f1,p1,m1,r).W),o||(o=g1(r)),s)}function g1(t){let e=t[$0];if(e!=null)return e;const n=vi(f1,p1,m1,t);return e=n.ma?(r,s)=>rv(r,s,n):(r,s)=>{const i=_e(r);for(;Xy(s)&&s.h!=4;){var o=s.m,a=n[o];if(a==null){var l=n.ha;l&&(l=l[o])&&(l=XS(l))!=null&&(a=n[o]=l)}a!=null&&a(s,r,o)||(o=(a=s).l,pu(a),a.ga?a=void 0:(l=a.g.g-o,a.g.g=o,a=Hy(a.g,l)),o=r,a&&(ps||(ps=Symbol()),(l=o[ps])?l.push(a):o[ps]=[a]))}return 16384&i&&Io(r),!0},t[$0]=e}function XS(t){const e=(t=iv(t))[0].g;if(t=t[1]){const n=g1(t),r=vi(f1,p1,m1,t).W;return(s,i,o)=>e(s,i,o,r,n)}return e}function nh(t,e,n){t[e]=n.h}function rh(t,e,n,r){let s,i;const o=n.h;t[e]=(a,l,u)=>o(a,l,u,i||(i=vi(th,nh,rh,r).W),s||(s=av(r)))}function av(t){let e=t[z0];if(!e){const n=vi(th,nh,rh,t);e=(r,s)=>lv(r,s,n),t[z0]=e}return e}function lv(t,e,n){for(var r=Ke(t),s=+!!(512&r)-1,i=t.length,o=512&r?1:0,a=i+(256&r?-1:0);o<a;o++){const l=t[o];if(l==null)continue;const u=o-s,c=W0(n,u);c&&c(e,l,u)}if(256&r){r=t[i-1];for(const l in r)s=+l,Number.isNaN(s)||(i=r[s])!=null&&(a=W0(n,s))&&a(e,i,s)}if(t=ps?t[ps]:void 0)for(mo(e,e.g.end()),n=0;n<t.length;n++)mo(e,Fp(t[n])||new Uint8Array(0))}function W0(t,e){var n=t[e];if(n)return n;if((n=t.ha)&&(n=n[e])){var r=(n=iv(n))[0].h;if(n=n[1]){const s=av(n),i=vi(th,nh,rh,n).W;n=t.ma?sv(i,s):(o,a,l)=>r(o,a,l,i,s)}else n=r;return t[e]=n}}function Fo(t,e){if(Array.isArray(e)){var n=Ke(e);if(4&n)return e;for(var r=0,s=0;r<e.length;r++){const i=t(e[r]);i!=null&&(e[s++]=i)}return s<r&&(e.length=s),nt(e,-12289&(5|n)),2&n&&Object.freeze(e),e}}function jt(t,e,n){return new Po(t,e,n)}function Lo(t,e,n){return new Po(t,e,n)}function Bt(t,e,n){Le(t,_e(t),e,n)}var YS=eh(function(t,e,n,r,s){return t.h===2&&(t=ml(t,gs([void 0,void 0],r,!0),s),Ds(r=_e(e)),(s=zr(e,r,n))instanceof Rn?2&s.M?((s=s.Y()).push(t),Le(e,r,n,s)):s.Na(t):Array.isArray(s)?(2&Ke(s)&&Le(e,r,n,s=jy(s)),s.push(t)):Le(e,r,n,[t]),!0)},function(t,e,n,r,s){if(e instanceof Rn)e.forEach((i,o)=>{Ju(t,n,gs([o,i],r,!1),s)});else if(Array.isArray(e))for(let i=0;i<e.length;i++){const o=e[i];Array.isArray(o)&&Ju(t,n,gs(o,r,!1),s)}});function uv(t,e,n){if(e=function(r){if(r==null)return r;const s=typeof r;if(s==="bigint")return String(BigInt.asIntN(64,r));if(Hc(r)){if(s==="string")return qp(r);if(s==="number")return Gp(r)}}(e),e!=null&&(typeof e=="string"&&B0(e),e!=null))switch(mn(t,n,0),typeof e){case"number":t=t.g,po(e),to(t,ye,$e);break;case"bigint":n=BigInt.asUintN(64,e),n=new vf(Number(n&BigInt(4294967295)),Number(n>>BigInt(32))),to(t.g,n.h,n.g);break;default:n=B0(e),to(t.g,n.h,n.g)}}function cv(t,e,n){(e=Mo(e))!=null&&e!=null&&(mn(t,n,0),Zc(t.g,e))}function hv(t,e,n){(e=Ry(e))!=null&&(mn(t,n,0),t.g.g.push(e?1:0))}function dv(t,e,n){(e=ms(e))!=null&&Jc(t,n,wy(e))}function fv(t,e,n,r,s){Ju(t,n,ov(e,r),s)}function pv(t,e,n){(e=e==null||typeof e=="string"||dl(e)||e instanceof Or?e:void 0)!=null&&Jc(t,n,r1(e).buffer)}function mv(t,e,n){return(t.h===5||t.h===2)&&(e=Do(e,_e(e),n,!1,!1),t.h==2?Kc(t,_f,e):e.push(_f(t.g)),!0)}var xr=jt(function(t,e,n){if(t.h!==1)return!1;var r=t.g;t=gf(r);const s=gf(r);r=2*(s>>31)+1;const i=s>>>20&2047;return t=4294967296*(1048575&s)+t,Bt(e,n,i==2047?t?NaN:r*(1/0):i==0?5e-324*r*t:r*Math.pow(2,i-1075)*(t+4503599627370496)),!0},function(t,e,n){(e=bs(e))!=null&&(mn(t,n,1),t=t.g,(n=My||(My=new DataView(new ArrayBuffer(8)))).setFloat64(0,+e,!0),ye=n.getUint32(0,!0),$e=n.getUint32(4,!0),Wa(t,ye),Wa(t,$e))},Qn()),ct=jt(function(t,e,n){return t.h===5&&(Bt(e,n,_f(t.g)),!0)},function(t,e,n){(e=bs(e))!=null&&(mn(t,n,5),t=t.g,Bp(e),Wa(t,ye))},d1),QS=Lo(mv,function(t,e,n){if((e=Fo(bs,e))!=null)for(let o=0;o<e.length;o++){var r=t,s=n,i=e[o];i!=null&&(mn(r,s,5),r=r.g,Bp(i),Wa(r,ye))}},d1),_1=Lo(mv,function(t,e,n){if((e=Fo(bs,e))!=null&&e.length){mn(t,n,2),bo(t.g,4*e.length);for(let r=0;r<e.length;r++)n=t.g,Bp(e[r]),Wa(n,ye)}},d1),ks=jt(function(t,e,n){return t.h===0&&(Bt(e,n,s1(t.g,zp)),!0)},uv,Jy),ld=jt(function(t,e,n){return t.h===0&&(Bt(e,n,(t=s1(t.g,zp))===0?void 0:t),!0)},uv,Jy),KS=jt(function(t,e,n){return t.h===0&&(Bt(e,n,s1(t.g,$p)),!0)},function(t,e,n){if((e=DS(e))!=null&&(typeof e=="string"&&j0(e),e!=null))switch(mn(t,n,0),typeof e){case"number":t=t.g,po(e),to(t,ye,$e);break;case"bigint":n=BigInt.asUintN(64,e),n=new yf(Number(n&BigInt(4294967295)),Number(n>>BigInt(32))),to(t.g,n.h,n.g);break;default:n=j0(e),to(t.g,n.h,n.g)}},Qn()),We=jt(function(t,e,n){return t.h===0&&(Bt(e,n,Ss(t.g)),!0)},cv,h1),sh=Lo(function(t,e,n){return(t.h===0||t.h===2)&&(e=Do(e,_e(e),n,!1,!1),t.h==2?Kc(t,Ss,e):e.push(Ss(t.g)),!0)},function(t,e,n){if((e=Fo(Mo,e))!=null&&e.length){n=a1(t,n);for(let r=0;r<e.length;r++)Zc(t.g,e[r]);l1(t,n)}},h1),Wi=jt(function(t,e,n){return t.h===0&&(Bt(e,n,(t=Ss(t.g))===0?void 0:t),!0)},cv,h1),Pe=jt(function(t,e,n){return t.h===0&&(Bt(e,n,i1(t.g)),!0)},hv,Ky),no=jt(function(t,e,n){return t.h===0&&(Bt(e,n,(t=i1(t.g))===!1?void 0:t),!0)},hv,Ky),xt=Lo(function(t,e,n){return t.h===2&&(t=o1(t),Do(e,_e(e),n,!1).push(t),!0)},function(t,e,n){if((e=Fo(ms,e))!=null)for(let o=0;o<e.length;o++){var r=t,s=n,i=e[o];i!=null&&Jc(r,s,wy(i))}},c1),rs=jt(function(t,e,n){return t.h===2&&(Bt(e,n,(t=o1(t))===""?void 0:t),!0)},dv,c1),he=jt(function(t,e,n){return t.h===2&&(Bt(e,n,o1(t)),!0)},dv,c1),lt=function(t,e,n=u1){return new Po(t,e,n)}(function(t,e,n,r,s){return t.h===2&&(r=gs(void 0,r,!0),Do(e,_e(e),n,!0).push(r),ml(t,r,s),!0)},function(t,e,n,r,s){if(Array.isArray(e))for(let i=0;i<e.length;i++)fv(t,e[i],n,r,s)}),me=eh(function(t,e,n,r,s,i){return t.h===2&&(By(e,Ke(e),i,n),ml(t,e=t1(e,r,n),s),!0)},fv),gv=jt(function(t,e,n){return t.h===2&&(Bt(e,n,Yy(t)),!0)},pv,ev),ZS=Lo(function(t,e,n){return(t.h===0||t.h===2)&&(e=Do(e,_e(e),n,!1,!1),t.h==2?Kc(t,Lr,e):e.push(Lr(t.g)),!0)},function(t,e,n){if((e=Fo(Dy,e))!=null)for(let o=0;o<e.length;o++){var r=t,s=n,i=e[o];i!=null&&(mn(r,s,0),bo(r.g,i))}},Zy),JS=jt(function(t,e,n){return t.h===0&&(Bt(e,n,(t=Lr(t.g))===0?void 0:t),!0)},function(t,e,n){(e=Dy(e))!=null&&e!=null&&(mn(t,n,0),bo(t.g,e))},Zy),Hn=jt(function(t,e,n){return t.h===0&&(Bt(e,n,Ss(t.g)),!0)},function(t,e,n){(e=Mo(e))!=null&&(e=parseInt(e,10),mn(t,n,0),Zc(t.g,e))},tv);class ek{constructor(e,n){this.h=e,this.g=n,this.l=ie,this.m=q,this.defaultValue=void 0}}function Kn(t,e){return new ek(t,e)}function Ps(t,e){return(n,r)=>{if(ql.length){const i=ql.pop();i.o(r),ad(i.g,n,r),n=i}else n=new class{constructor(i,o){if(U0.length){const a=U0.pop();ad(a,i,o),i=a}else i=new class{constructor(a,l){this.h=null,this.m=!1,this.g=this.l=this.j=0,ad(this,a,l)}clear(){this.h=null,this.m=!1,this.g=this.l=this.j=0,this.ca=!1}}(i,o);this.g=i,this.l=this.g.g,this.h=this.m=-1,this.o(o)}o({ga:i=!1}={}){this.ga=i}}(n,r);try{const i=new t,o=i.u;g1(e)(o,n);var s=i}finally{n.g.clear(),n.m=-1,n.h=-1,ql.length<100&&ql.push(n)}return s}}function ih(t){return function(){const e=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){const o=this.g;return this.g=[],o}}}};lv(this.u,e,vi(th,nh,rh,t)),mo(e,e.g.end());const n=new Uint8Array(e.h),r=e.l,s=r.length;let i=0;for(let o=0;o<s;o++){const a=r[o];n.set(a,i),i+=a.length}return e.l=[n],n}}var G0=class extends z{constructor(t){super(t)}},q0=[0,rs,jt(function(t,e,n){return t.h===2&&(Bt(e,n,(t=Yy(t))===ci()?void 0:t),!0)},function(t,e,n){if(e!=null){if(e instanceof z){const r=e.Qa;return void(r&&(e=r(e),e!=null&&Jc(t,n,r1(e).buffer)))}if(Array.isArray(e))return}pv(t,e,n)},ev)];let ud,H0=globalThis.trustedTypes;function X0(t){ud===void 0&&(ud=function(){let n=null;if(!H0)return n;try{const r=s=>s;n=H0.createPolicy("goog#html",{createHTML:r,createScript:r,createScriptURL:r})}catch{}return n}());var e=ud;return new class{constructor(n){this.g=n}toString(){return this.g+""}}(e?e.createScriptURL(t):t)}function tk(t,...e){if(e.length===0)return X0(t[0]);let n=t[0];for(let r=0;r<e.length;r++)n+=encodeURIComponent(e[r])+t[r+1];return X0(n)}var _v=[0,We,Hn,Pe,-1,sh,Hn,-1],nk=class extends z{constructor(){super()}},yv=[0,Pe,he,Pe,Hn,-1,Lo(function(t,e,n){return(t.h===0||t.h===2)&&(e=Do(e,_e(e),n,!1,!1),t.h==2?Kc(t,zS,e):e.push(Ss(t.g)),!0)},function(t,e,n){if((e=Fo(Mo,e))!=null&&e.length){n=a1(t,n);for(let r=0;r<e.length;r++)Zc(t.g,e[r]);l1(t,n)}},tv),he,-1,[0,Pe,-1],Hn,Pe,-1],vv=[0,he,-2],Y0=class extends z{constructor(){super()}},wv=[0],Tv=[0,We,Pe,1,Pe,-3],dn=class extends z{constructor(t){super(t,2)}},rt={};rt[336783863]=[0,he,Pe,-1,We,[0,[1,2,3,4,5,6,7],me,wv,me,yv,me,vv,me,Tv,me,_v,me,[0,he,-2],me,[0,he,Hn]],[0,he],Pe,[0,[1,3],[2,4],me,[0,sh],-1,me,[0,xt],-1,lt,[0,he,-1]],he];var Q0=[0,ld,-1,no,-3,ld,sh,rs,Wi,ld,-1,no,Wi,no,-2,rs];function gn(t,e){mf(t,2,Ro(e),"")}function Te(t,e){Qc(t,3,e)}function re(t,e){Qc(t,4,e)}var Ft=class extends z{constructor(t){super(t,500)}o(t){return q(this,0,7,t)}},Ta=[-1,{}],K0=[0,he,1,Ta],Z0=[0,he,xt,Ta];function _n(t,e){Qu(t,1,Ft,e)}function Ee(t,e){Qc(t,10,e)}function ae(t,e){Qc(t,15,e)}var en=class extends z{constructor(t){super(t,500)}o(t){return q(this,0,1001,t)}},Sv=[-500,lt,[-500,rs,-1,xt,-3,[-2,rt,Pe],lt,q0,Wi,-1,K0,Z0,lt,[0,rs,no],rs,Q0,Wi,xt,987,xt],4,lt,[-500,he,-1,[-1,{}],998,he],lt,[-500,he,xt,-1,[-2,{},Pe],997,xt,-1],Wi,lt,[-500,he,xt,Ta,998,xt],xt,Wi,K0,Z0,lt,[0,rs,-1,Ta],xt,-2,Q0,rs,-1,no,[0,no,JS],978,Ta,lt,q0];en.prototype.g=ih(Sv);var rk=Ps(en,Sv),sk=class extends z{constructor(t){super(t)}},kv=class extends z{constructor(t){super(t)}g(){return Fr(this,sk,1)}},xv=[0,lt,[0,We,ct,he,-1]],oh=Ps(kv,xv),ik=class extends z{constructor(t){super(t)}},ok=class extends z{constructor(t){super(t)}},cd=class extends z{constructor(t){super(t)}h(){return ie(this,ik,2)}g(){return Fr(this,ok,5)}},Ev=Ps(class extends z{constructor(t){super(t)}},[0,xt,sh,_1,[0,Hn,[0,We,-3],[0,ct,-3],[0,We,-1,[0,lt,[0,We,-2]]],lt,[0,ct,-1,he,ct]],he,-1,ks,lt,[0,We,ct],xt,ks]),Cv=class extends z{constructor(t){super(t)}},ro=Ps(class extends z{constructor(t){super(t)}},[0,lt,[0,ct,-4]]),Av=class extends z{constructor(t){super(t)}},gl=Ps(class extends z{constructor(t){super(t)}},[0,lt,[0,ct,-4]]),ak=class extends z{constructor(t){super(t)}},lk=[0,We,-1,_1,Hn],Nv=class extends z{constructor(){super()}};Nv.prototype.g=ih([0,ct,-4,ks]);var uk=class extends z{constructor(t){super(t)}},ck=Ps(class extends z{constructor(t){super(t)}},[0,lt,[0,1,We,he,xv],ks]),J0=class extends z{constructor(t){super(t)}},hk=class extends z{constructor(t){super(t)}pa(){const t=Uy(this);return t??ci()}},dk=class extends z{constructor(t){super(t)}},Ov=[1,2],fk=Ps(class extends z{constructor(t){super(t)}},[0,lt,[0,Ov,me,[0,_1],me,[0,gv],We,he],ks]),y1=class extends z{constructor(t){super(t)}},Iv=[0,he,We,ct,xt,-1],eg=class extends z{constructor(t){super(t)}},pk=[0,Pe,-1],tg=class extends z{constructor(t){super(t)}},mu=[1,2,3,4,5],ec=class extends z{constructor(t){super(t)}g(){return Uy(this)!=null}h(){return ms(Ts(this,2))!=null}},Re=class extends z{constructor(t){super(t)}g(){return Ry(Ts(this,2))??!1}},Mv=[0,gv,he,[0,We,ks,-1],[0,KS,ks]],Ze=[0,Mv,Pe,[0,mu,me,Tv,me,yv,me,_v,me,wv,me,vv],Hn],ah=class extends z{constructor(t){super(t)}},v1=[0,Ze,ct,-1,We],mk=Kn(502141897,ah);rt[502141897]=v1;var gk=Ps(class extends z{constructor(t){super(t)}},[0,[0,Hn,-1,QS,ZS],lk]),Rv=class extends z{constructor(t){super(t)}},Dv=class extends z{constructor(t){super(t)}},w1=[0,Ze,ct,[0,Ze],Pe],bv=[0,Ze,v1,w1,ct,[0,[0,Mv]]],_k=Kn(508968150,Dv);rt[508968150]=bv,rt[508968149]=w1;var Pv=class extends z{constructor(t){super(t)}},yk=Kn(513916220,Pv);rt[513916220]=[0,Ze,bv,We];var Ci=class extends z{constructor(t){super(t)}h(){return ie(this,y1,2)}g(){ve(this,2)}},Fv=[0,Ze,Iv];rt[478825465]=Fv;var vk=class extends z{constructor(t){super(t)}},Lv=class extends z{constructor(t){super(t)}},T1=class extends z{constructor(t){super(t)}},S1=class extends z{constructor(t){super(t)}},Vv=class extends z{constructor(t){super(t)}},ng=[0,Ze,[0,Ze],Fv,-1],Uv=[0,Ze,ct,We],k1=[0,Ze,ct],jv=[0,Ze,Uv,k1,ct],wk=Kn(479097054,Vv);rt[479097054]=[0,Ze,jv,ng],rt[463370452]=ng,rt[464864288]=Uv;var Tk=Kn(462713202,S1);rt[462713202]=jv,rt[474472470]=k1;var Sk=class extends z{constructor(t){super(t)}},Bv=class extends z{constructor(t){super(t)}},$v=class extends z{constructor(t){super(t)}},zv=class extends z{constructor(){super()}},x1=[0,Ze,ct,-1,We],wf=[0,Ze,ct,Pe];zv.prototype.g=ih([0,Ze,k1,[0,Ze],v1,w1,x1,wf]);var Wv=class extends z{constructor(t){super(t)}},kk=Kn(456383383,Wv);rt[456383383]=[0,Ze,Iv];var Gv=class extends z{constructor(t){super(t)}},xk=Kn(476348187,Gv);rt[476348187]=[0,Ze,pk];var qv=class extends z{constructor(t){super(t)}},rg=class extends z{constructor(t){super(t)}},Hv=[0,Hn,-1],Ek=Kn(458105876,class extends z{constructor(t){super(t)}g(){var t=this.u;const e=_e(t),n=2&e;return t=function(r,s,i){var o=rg;const a=2&s;let l=!1;if(i==null){if(a)return L0();i=[]}else if(i.constructor===Rn){if(!(2&i.M)||a)return i;i=i.Y()}else Array.isArray(i)?l=!!(2&Ke(i)):i=[];if(a){if(!i.length)return L0();l||(l=!0,Io(i))}else l&&(l=!1,i=jy(i));return l||(64&Ke(i)?hf(i,32):32&s&&zc(i,32)),Le(r,s,2,o=new Rn(i,o,bS,void 0)),o}(t,e,zr(t,e,2)),!n&&rg&&(t.sa=!0),t}});rt[458105876]=[0,Hv,YS,[!0,ks,[0,he,-1,xt]]];var E1=class extends z{constructor(t){super(t)}},Xv=Kn(458105758,E1);rt[458105758]=[0,Ze,he,Hv];var Yv=class extends z{constructor(t){super(t)}},Ck=Kn(443442058,Yv);rt[443442058]=[0,Ze,he,We,ct,xt,-1],rt[514774813]=x1;var Qv=class extends z{constructor(t){super(t)}},Ak=Kn(516587230,Qv);function Tf(t,e){return e=e?e.clone():new y1,t.displayNamesLocale!==void 0?ve(e,1,Ro(t.displayNamesLocale)):t.displayNamesLocale===void 0&&ve(e,1),t.maxResults!==void 0?dr(e,2,t.maxResults):"maxResults"in t&&ve(e,2),t.scoreThreshold!==void 0?W(e,3,t.scoreThreshold):"scoreThreshold"in t&&ve(e,3),t.categoryAllowlist!==void 0?Ku(e,4,t.categoryAllowlist):"categoryAllowlist"in t&&ve(e,4),t.categoryDenylist!==void 0?Ku(e,5,t.categoryDenylist):"categoryDenylist"in t&&ve(e,5),e}function C1(t,e=-1,n=""){return{categories:t.map(r=>({index:qn(Cn(r,1),0)??-1,score:He(r,2)??0,categoryName:hr(r,3)??"",displayName:hr(r,4)??""})),headIndex:e,headName:n}}function Kv(t){var o,a;var e=Ys(t,3,bs,Xs()),n=Ys(t,2,Mo,Xs()),r=Ys(t,1,ms,Xs()),s=Ys(t,9,ms,Xs());const i={categories:[],keypoints:[]};for(let l=0;l<e.length;l++)i.categories.push({score:e[l],index:n[l]??-1,categoryName:r[l]??"",displayName:s[l]??""});if((e=(o=ie(t,cd,4))==null?void 0:o.h())&&(i.boundingBox={originX:Cn(e,1)??0,originY:Cn(e,2)??0,width:Cn(e,3)??0,height:Cn(e,4)??0,angle:0}),(a=ie(t,cd,4))==null?void 0:a.g().length)for(const l of ie(t,cd,4).g())i.keypoints.push({x:fu(l,1)??0,y:fu(l,2)??0,score:fu(l,4)??0,label:ms(Ts(l,3))??""});return i}function lh(t){const e=[];for(const n of Fr(t,Av,1))e.push({x:He(n,1)??0,y:He(n,2)??0,z:He(n,3)??0,visibility:He(n,4)??0});return e}function Sa(t){const e=[];for(const n of Fr(t,Cv,1))e.push({x:He(n,1)??0,y:He(n,2)??0,z:He(n,3)??0,visibility:He(n,4)??0});return e}function sg(t){return Array.from(t,e=>e>127?e-256:e)}function ig(t,e){if(t.length!==e.length)throw Error(`Cannot compute cosine similarity between embeddings of different sizes (${t.length} vs. ${e.length}).`);let n=0,r=0,s=0;for(let i=0;i<t.length;i++)n+=t[i]*e[i],r+=t[i]*t[i],s+=e[i]*e[i];if(r<=0||s<=0)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return n/Math.sqrt(r*s)}let Hl;rt[516587230]=[0,Ze,x1,wf,ct],rt[518928384]=wf;const Nk=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function Zv(){if(Hl===void 0)try{await WebAssembly.instantiate(Nk),Hl=!0}catch{Hl=!1}return Hl}async function na(t,e=tk``){const n=await Zv()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${e}/${t}_${n}.js`,wasmBinaryPath:`${e}/${t}_${n}.wasm`}}var zs=class{};function Jv(){var t=navigator;return typeof OffscreenCanvas<"u"&&(!function(e=navigator){return(e=e.userAgent).includes("Safari")&&!e.includes("Chrome")}(t)||!!((t=t.userAgent.match(/Version\/([\d]+).*Safari/))&&t.length>=1&&Number(t[1])>=17))}async function og(t){if(typeof importScripts!="function"){const e=document.createElement("script");return e.src=t.toString(),e.crossOrigin="anonymous",new Promise((n,r)=>{e.addEventListener("load",()=>{n()},!1),e.addEventListener("error",s=>{r(s)},!1),document.body.appendChild(e)})}importScripts(t.toString())}function e3(t){return t.videoWidth!==void 0?[t.videoWidth,t.videoHeight]:t.naturalWidth!==void 0?[t.naturalWidth,t.naturalHeight]:t.displayWidth!==void 0?[t.displayWidth,t.displayHeight]:[t.width,t.height]}function G(t,e,n){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),n(e=t.i.stringToNewUTF8(e)),t.i._free(e)}function ag(t,e,n){if(!t.i.canvas)throw Error("No OpenGL canvas configured.");if(n?t.i._bindTextureToStream(n):t.i._bindTextureToCanvas(),!(n=t.i.canvas.getContext("webgl2")||t.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");t.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),t.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);const[r,s]=e3(e);return!t.l||r===t.i.canvas.width&&s===t.i.canvas.height||(t.i.canvas.width=r,t.i.canvas.height=s),[r,s]}function lg(t,e,n){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const r=new Uint32Array(e.length);for(let s=0;s<e.length;s++)r[s]=t.i.stringToNewUTF8(e[s]);e=t.i._malloc(4*r.length),t.i.HEAPU32.set(r,e>>2),n(e);for(const s of r)t.i._free(s);t.i._free(e)}function rr(t,e,n){t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=n}function Yr(t,e,n){let r=[];t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=(s,i,o)=>{i?(n(r,o),r=[]):r.push(s)}}zs.forVisionTasks=function(t){return na("vision",t)},zs.forTextTasks=function(t){return na("text",t)},zs.forGenAiExperimentalTasks=function(t){return na("genai_experimental",t)},zs.forGenAiTasks=function(t){return na("genai",t)},zs.forAudioTasks=function(t){return na("audio",t)},zs.isSimdSupported=function(){return Zv()};async function Ok(t,e,n,r){return t=await(async(s,i,o,a,l)=>{if(i&&await og(i),!self.ModuleFactory||o&&(await og(o),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&l&&((i=self.Module).locateFile=l.locateFile,l.mainScriptUrlOrBlob&&(i.mainScriptUrlOrBlob=l.mainScriptUrlOrBlob)),l=await self.ModuleFactory(self.Module||l),self.ModuleFactory=self.Module=void 0,new s(l,a)})(t,n.wasmLoaderPath,n.assetLoaderPath,e,{locateFile:s=>s.endsWith(".wasm")?n.wasmBinaryPath.toString():n.assetBinaryPath&&s.endsWith(".data")?n.assetBinaryPath.toString():s}),await t.o(r),t}function hd(t,e){const n=ie(t.baseOptions,ec,1)||new ec;typeof e=="string"?(ve(n,2,Ro(e)),ve(n,1)):e instanceof Uint8Array&&(ve(n,1,jp(e,!1)),ve(n,2)),q(t.baseOptions,0,1,n)}function ug(t){try{const e=t.H.length;if(e===1)throw Error(t.H[0].message);if(e>1)throw Error("Encountered multiple errors: "+t.H.map(n=>n.message).join(", "))}finally{t.H=[]}}function U(t,e){t.B=Math.max(t.B,e)}function uh(t,e){t.A=new Ft,gn(t.A,"PassThroughCalculator"),Te(t.A,"free_memory"),re(t.A,"free_memory_unused_out"),Ee(e,"free_memory"),_n(e,t.A)}function go(t,e){Te(t.A,e),re(t.A,e+"_unused_out")}function ch(t){t.g.addBoolToStream(!0,"free_memory",t.B)}var gu=class{constructor(t){this.g=t,this.H=[],this.B=0,this.g.setAutoRenderToScreen(!1)}l(t,e=!0){var n,r,s,i,o,a;if(e){const l=t.baseOptions||{};if((n=t.baseOptions)!=null&&n.modelAssetBuffer&&((r=t.baseOptions)!=null&&r.modelAssetPath))throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!((s=ie(this.baseOptions,ec,1))!=null&&s.g()||(i=ie(this.baseOptions,ec,1))!=null&&i.h()||(o=t.baseOptions)!=null&&o.modelAssetBuffer||(a=t.baseOptions)!=null&&a.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if(function(u,c){let h=ie(u.baseOptions,tg,3);if(!h){var d=h=new tg,m=new Y0;wa(d,4,mu,m)}"delegate"in c&&(c.delegate==="GPU"?(c=h,d=new nk,wa(c,2,mu,d)):(c=h,d=new Y0,wa(c,4,mu,d))),q(u.baseOptions,0,3,h)}(this,l),l.modelAssetPath)return fetch(l.modelAssetPath.toString()).then(u=>{if(u.ok)return u.arrayBuffer();throw Error(`Failed to fetch model: ${l.modelAssetPath} (${u.status})`)}).then(u=>{try{this.g.i.FS_unlink("/model.dat")}catch{}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(u),!0,!1,!1),hd(this,"/model.dat"),this.m(),this.J()});if(l.modelAssetBuffer instanceof Uint8Array)hd(this,l.modelAssetBuffer);else if(l.modelAssetBuffer)return async function(u){const c=[];for(var h=0;;){const{done:d,value:m}=await u.read();if(d)break;c.push(m),h+=m.length}if(c.length===0)return new Uint8Array(0);if(c.length===1)return c[0];u=new Uint8Array(h),h=0;for(const d of c)u.set(d,h),h+=d.length;return u}(l.modelAssetBuffer).then(u=>{hd(this,u),this.m(),this.J()})}return this.m(),this.J(),Promise.resolve()}J(){}ea(){let t;if(this.g.ea(e=>{t=rk(e)}),!t)throw Error("Failed to retrieve CalculatorGraphConfig");return t}setGraph(t,e){this.g.attachErrorListener((n,r)=>{this.H.push(Error(r))}),this.g.La(),this.g.setGraph(t,e),this.A=void 0,ug(this)}finishProcessing(){this.g.finishProcessing(),ug(this)}close(){this.A=void 0,this.g.closeGraph()}};function Pt(t,e){if(!t)throw Error(`Unable to obtain required WebGL resource: ${e}`);return t}gu.prototype.close=gu.prototype.close,vy("TaskRunner",gu);class Ik{constructor(e,n,r,s){this.g=e,this.h=n,this.m=r,this.l=s}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}}function cg(t,e,n){const r=t.g;if(n=Pt(r.createShader(n),"Failed to create WebGL shader"),r.shaderSource(n,e),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw Error(`Could not compile WebGL shader: ${r.getShaderInfoLog(n)}`);return r.attachShader(t.h,n),n}function hg(t,e){const n=t.g,r=Pt(n.createVertexArray(),"Failed to create vertex array");n.bindVertexArray(r);const s=Pt(n.createBuffer(),"Failed to create buffer");n.bindBuffer(n.ARRAY_BUFFER,s),n.enableVertexAttribArray(t.P),n.vertexAttribPointer(t.P,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW);const i=Pt(n.createBuffer(),"Failed to create buffer");return n.bindBuffer(n.ARRAY_BUFFER,i),n.enableVertexAttribArray(t.J),n.vertexAttribPointer(t.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindVertexArray(null),new Ik(n,r,s,i)}function A1(t,e){if(t.g){if(e!==t.g)throw Error("Cannot change GL context once initialized")}else t.g=e}function _l(t,e,n,r){return A1(t,e),t.h||(t.m(),t.C()),n?(t.s||(t.s=hg(t,!0)),n=t.s):(t.v||(t.v=hg(t,!1)),n=t.v),e.useProgram(t.h),n.bind(),t.l(),t=r(),n.g.bindVertexArray(null),t}function xs(t,e,n){return A1(t,e),t=Pt(e.createTexture(),"Failed to create texture"),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n??e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n??e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),t}function hh(t,e,n){A1(t,e),t.A||(t.A=Pt(e.createFramebuffer(),"Failed to create framebuffe.")),e.bindFramebuffer(e.FRAMEBUFFER,t.A),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}function N1(t){var e;(e=t.g)==null||e.bindFramebuffer(t.g.FRAMEBUFFER,null)}var Vo=class{H(){return`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D inputTexture;
  void main() {
    gl_FragColor = texture2D(inputTexture, vTex);
  }
 `}m(){const t=this.g;if(this.h=Pt(t.createProgram(),"Failed to create WebGL program"),this.ba=cg(this,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,t.VERTEX_SHADER),this.aa=cg(this,this.H(),t.FRAGMENT_SHADER),t.linkProgram(this.h),!t.getProgramParameter(this.h,t.LINK_STATUS))throw Error(`Error during program linking: ${t.getProgramInfoLog(this.h)}`);this.P=t.getAttribLocation(this.h,"aVertex"),this.J=t.getAttribLocation(this.h,"aTex")}C(){}l(){}close(){if(this.h){const t=this.g;t.deleteProgram(this.h),t.deleteShader(this.ba),t.deleteShader(this.aa)}this.A&&this.g.deleteFramebuffer(this.A),this.v&&this.v.close(),this.s&&this.s.close()}},Mk=class extends Vo{H(){return`
  precision mediump float;
  uniform sampler2D backgroundTexture;
  uniform sampler2D maskTexture;
  uniform sampler2D colorMappingTexture;
  varying vec2 vTex;
  void main() {
    vec4 backgroundColor = texture2D(backgroundTexture, vTex);
    float category = texture2D(maskTexture, vTex).r;
    vec4 categoryColor = texture2D(colorMappingTexture, vec2(category, 0.0));
    gl_FragColor = mix(backgroundColor, categoryColor, categoryColor.a);
  }
 `}C(){const t=this.g;t.activeTexture(t.TEXTURE1),this.B=xs(this,t,t.LINEAR),t.activeTexture(t.TEXTURE2),this.j=xs(this,t,t.NEAREST)}m(){super.m();const t=this.g;this.L=Pt(t.getUniformLocation(this.h,"backgroundTexture"),"Uniform location"),this.U=Pt(t.getUniformLocation(this.h,"colorMappingTexture"),"Uniform location"),this.K=Pt(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const t=this.g;t.uniform1i(this.K,0),t.uniform1i(this.L,1),t.uniform1i(this.U,2)}close(){this.B&&this.g.deleteTexture(this.B),this.j&&this.g.deleteTexture(this.j),super.close()}},Rk=class extends Vo{H(){return`
  precision mediump float;
  uniform sampler2D maskTexture;
  uniform sampler2D defaultTexture;
  uniform sampler2D overlayTexture;
  varying vec2 vTex;
  void main() {
    float confidence = texture2D(maskTexture, vTex).r;
    vec4 defaultColor = texture2D(defaultTexture, vTex);
    vec4 overlayColor = texture2D(overlayTexture, vTex);
    // Apply the alpha from the overlay and merge in the default color
    overlayColor = mix(defaultColor, overlayColor, overlayColor.a);
    gl_FragColor = mix(defaultColor, overlayColor, confidence);
  }
 `}C(){const t=this.g;t.activeTexture(t.TEXTURE1),this.j=xs(this,t),t.activeTexture(t.TEXTURE2),this.B=xs(this,t)}m(){super.m();const t=this.g;this.K=Pt(t.getUniformLocation(this.h,"defaultTexture"),"Uniform location"),this.L=Pt(t.getUniformLocation(this.h,"overlayTexture"),"Uniform location"),this.I=Pt(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const t=this.g;t.uniform1i(this.I,0),t.uniform1i(this.K,1),t.uniform1i(this.L,2)}close(){this.j&&this.g.deleteTexture(this.j),this.B&&this.g.deleteTexture(this.B),super.close()}};function Er(t,e){switch(e){case 0:return t.g.find(n=>n instanceof Uint8Array);case 1:return t.g.find(n=>n instanceof Float32Array);case 2:return t.g.find(n=>typeof WebGLTexture<"u"&&n instanceof WebGLTexture);default:throw Error(`Type is not supported: ${e}`)}}function Sf(t){var e=Er(t,1);if(!e){if(e=Er(t,0))e=new Float32Array(e).map(r=>r/255);else{e=new Float32Array(t.width*t.height);const r=_o(t);var n=O1(t);if(hh(n,r,t3(t)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"document"in self&&"ontouchend"in self.document){n=new Float32Array(t.width*t.height*4),r.readPixels(0,0,t.width,t.height,r.RGBA,r.FLOAT,n);for(let s=0,i=0;s<e.length;++s,i+=4)e[s]=n[i]}else r.readPixels(0,0,t.width,t.height,r.RED,r.FLOAT,e)}t.g.push(e)}return e}function t3(t){let e=Er(t,2);if(!e){const n=_o(t);e=r3(t);const r=Sf(t),s=n3(t);n.texImage2D(n.TEXTURE_2D,0,s,t.width,t.height,0,n.RED,n.FLOAT,r),kf(t)}return e}function _o(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return t.h||(t.h=Pt(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function n3(t){if(t=_o(t),!Xl)if(t.getExtension("EXT_color_buffer_float")&&t.getExtension("OES_texture_float_linear")&&t.getExtension("EXT_float_blend"))Xl=t.R32F;else{if(!t.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");Xl=t.R16F}return Xl}function O1(t){return t.l||(t.l=new Vo),t.l}function r3(t){const e=_o(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let n=Er(t,2);return n||(n=xs(O1(t),e,t.m?e.LINEAR:e.NEAREST),t.g.push(n),t.j=!0),e.bindTexture(e.TEXTURE_2D,n),n}function kf(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}var Xl,ot=class{constructor(t,e,n,r,s,i,o){this.g=t,this.m=e,this.j=n,this.canvas=r,this.l=s,this.width=i,this.height=o,this.j&&--dg===0&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Ga(){return!!Er(this,0)}ka(){return!!Er(this,1)}R(){return!!Er(this,2)}ja(){return(e=Er(t=this,0))||(e=Sf(t),e=new Uint8Array(e.map(n=>255*n)),t.g.push(e)),e;var t,e}ia(){return Sf(this)}N(){return t3(this)}clone(){const t=[];for(const e of this.g){let n;if(e instanceof Uint8Array)n=new Uint8Array(e);else if(e instanceof Float32Array)n=new Float32Array(e);else{if(!(e instanceof WebGLTexture))throw Error(`Type is not supported: ${e}`);{const r=_o(this),s=O1(this);r.activeTexture(r.TEXTURE1),n=xs(s,r,this.m?r.LINEAR:r.NEAREST),r.bindTexture(r.TEXTURE_2D,n);const i=n3(this);r.texImage2D(r.TEXTURE_2D,0,i,this.width,this.height,0,r.RED,r.FLOAT,null),r.bindTexture(r.TEXTURE_2D,null),hh(s,r,n),_l(s,r,!1,()=>{r3(this),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLE_FAN,0,4),kf(this)}),N1(s),kf(this)}}t.push(n)}return new ot(t,this.m,this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&_o(this).deleteTexture(Er(this,2)),dg=-1}};ot.prototype.close=ot.prototype.close,ot.prototype.clone=ot.prototype.clone,ot.prototype.getAsWebGLTexture=ot.prototype.N,ot.prototype.getAsFloat32Array=ot.prototype.ia,ot.prototype.getAsUint8Array=ot.prototype.ja,ot.prototype.hasWebGLTexture=ot.prototype.R,ot.prototype.hasFloat32Array=ot.prototype.ka,ot.prototype.hasUint8Array=ot.prototype.Ga;var dg=250;const Dk={color:"white",lineWidth:4,radius:6};function dd(t){return{...Dk,fillColor:(t=t||{}).color,...t}}function vr(t,e){return t instanceof Function?t(e):t}function fg(t,e,n){return Math.max(Math.min(e,n),Math.min(Math.max(e,n),t))}function ra(t){if(!t.l)throw Error("CPU rendering requested but CanvasRenderingContext2D not provided.");return t.l}function Ga(t){if(!t.j)throw Error("GPU rendering requested but WebGL2RenderingContext not provided.");return t.j}function pg(t,e,n){if(e.R())n(e.N());else{const r=e.ka()?e.ia():e.ja();t.m=t.m??new Vo;const s=Ga(t);n((t=new ot([r],e.m,!1,s.canvas,t.m,e.width,e.height)).N()),t.close()}}function mg(t,e,n,r){const s=function(a){return a.g||(a.g=new Mk),a.g}(t),i=Ga(t),o=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n;_l(s,i,!0,()=>{(function(l,u,c,h){const d=l.g;if(d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,u),d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,l.B),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,c),l.I&&function(m,p){if(m!==p)return!1;m=m.entries(),p=p.entries();for(const[w,f]of m){m=w;const g=f;var _=p.next();if(_.done)return!1;const[y,k]=_.value;if(_=k,m!==y||g[0]!==_[0]||g[1]!==_[1]||g[2]!==_[2]||g[3]!==_[3])return!1}return!!p.next().done}(l.I,h))d.activeTexture(d.TEXTURE2),d.bindTexture(d.TEXTURE_2D,l.j);else{l.I=h;const m=Array(1024).fill(0);h.forEach((p,_)=>{if(p.length!==4)throw Error(`Color at index ${_} is not a four-channel value.`);m[4*_]=p[0],m[4*_+1]=p[1],m[4*_+2]=p[2],m[4*_+3]=p[3]}),d.activeTexture(d.TEXTURE2),d.bindTexture(d.TEXTURE_2D,l.j),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,256,1,0,d.RGBA,d.UNSIGNED_BYTE,new Uint8Array(m))}})(s,e,o,r),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.drawArrays(i.TRIANGLE_FAN,0,4);const a=s.g;a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,null)})}function gg(t,e,n,r){const s=Ga(t),i=function(l){return l.h||(l.h=new Rk),l.h}(t),o=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n,a=Array.isArray(r)?new ImageData(new Uint8ClampedArray(r),1,1):r;_l(i,s,!0,()=>{var l=i.g;l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,e),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,i.j),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,o),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,i.B),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,a),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),s.drawArrays(s.TRIANGLE_FAN,0,4),s.bindTexture(s.TEXTURE_2D,null),(l=i.g).activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,null)})}var Ot=class{constructor(t,e){t instanceof CanvasRenderingContext2D||t instanceof OffscreenCanvasRenderingContext2D?(this.l=t,this.j=e):this.j=t}za(t,e){if(t){var n=ra(this);e=dd(e),n.save();var r=n.canvas,s=0;for(const i of t)n.fillStyle=vr(e.fillColor,{index:s,from:i}),n.strokeStyle=vr(e.color,{index:s,from:i}),n.lineWidth=vr(e.lineWidth,{index:s,from:i}),(t=new Path2D).arc(i.x*r.width,i.y*r.height,vr(e.radius,{index:s,from:i}),0,2*Math.PI),n.fill(t),n.stroke(t),++s;n.restore()}}ya(t,e,n){if(t&&e){var r=ra(this);n=dd(n),r.save();var s=r.canvas,i=0;for(const o of e){r.beginPath(),e=t[o.start];const a=t[o.end];e&&a&&(r.strokeStyle=vr(n.color,{index:i,from:e,to:a}),r.lineWidth=vr(n.lineWidth,{index:i,from:e,to:a}),r.moveTo(e.x*s.width,e.y*s.height),r.lineTo(a.x*s.width,a.y*s.height)),++i,r.stroke()}r.restore()}}va(t,e){const n=ra(this);e=dd(e),n.save(),n.beginPath(),n.lineWidth=vr(e.lineWidth,{}),n.strokeStyle=vr(e.color,{}),n.fillStyle=vr(e.fillColor,{}),n.moveTo(t.originX,t.originY),n.lineTo(t.originX+t.width,t.originY),n.lineTo(t.originX+t.width,t.originY+t.height),n.lineTo(t.originX,t.originY+t.height),n.lineTo(t.originX,t.originY),n.stroke(),n.fill(),n.restore()}wa(t,e,n=[0,0,0,255]){this.l?function(r,s,i,o){const a=Ga(r);pg(r,s,l=>{mg(r,l,i,o),(l=ra(r)).drawImage(a.canvas,0,0,l.canvas.width,l.canvas.height)})}(this,t,n,e):mg(this,t.N(),n,e)}xa(t,e,n){this.l?function(r,s,i,o){const a=Ga(r);pg(r,s,l=>{gg(r,l,i,o),(l=ra(r)).drawImage(a.canvas,0,0,l.canvas.width,l.canvas.height)})}(this,t,e,n):gg(this,t.N(),e,n)}close(){var t,e,n;(t=this.g)==null||t.close(),this.g=void 0,(e=this.h)==null||e.close(),this.h=void 0,(n=this.m)==null||n.close(),this.m=void 0}};function ar(t,e){switch(e){case 0:return t.g.find(n=>n instanceof ImageData);case 1:return t.g.find(n=>typeof ImageBitmap<"u"&&n instanceof ImageBitmap);case 2:return t.g.find(n=>typeof WebGLTexture<"u"&&n instanceof WebGLTexture);default:throw Error(`Type is not supported: ${e}`)}}function s3(t){var e=ar(t,0);if(!e){e=yo(t);const n=dh(t),r=new Uint8Array(t.width*t.height*4);hh(n,e,_u(t)),e.readPixels(0,0,t.width,t.height,e.RGBA,e.UNSIGNED_BYTE,r),N1(n),e=new ImageData(new Uint8ClampedArray(r.buffer),t.width,t.height),t.g.push(e)}return e}function _u(t){let e=ar(t,2);if(!e){const n=yo(t);e=yu(t);const r=ar(t,1)||s3(t);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),ca(t)}return e}function yo(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when iniitializing the image.");return t.h||(t.h=Pt(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function dh(t){return t.l||(t.l=new Vo),t.l}function yu(t){const e=yo(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let n=ar(t,2);return n||(n=xs(dh(t),e),t.g.push(n),t.m=!0),e.bindTexture(e.TEXTURE_2D,n),n}function ca(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}function _g(t){const e=yo(t);return _l(dh(t),e,!0,()=>function(n,r){const s=n.canvas;if(s.width===n.width&&s.height===n.height)return r();const i=s.width,o=s.height;return s.width=n.width,s.height=n.height,n=r(),s.width=i,s.height=o,n}(t,()=>{if(e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),!(t.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return t.canvas.transferToImageBitmap()}))}Ot.prototype.close=Ot.prototype.close,Ot.prototype.drawConfidenceMask=Ot.prototype.xa,Ot.prototype.drawCategoryMask=Ot.prototype.wa,Ot.prototype.drawBoundingBox=Ot.prototype.va,Ot.prototype.drawConnectors=Ot.prototype.ya,Ot.prototype.drawLandmarks=Ot.prototype.za,Ot.lerp=function(t,e,n,r,s){return fg(r*(1-(t-e)/(n-e))+s*(1-(n-t)/(n-e)),r,s)},Ot.clamp=fg,vy("DrawingUtils",Ot);var ft=class{constructor(t,e,n,r,s,i,o){this.g=t,this.j=e,this.m=n,this.canvas=r,this.l=s,this.width=i,this.height=o,(this.j||this.m)&&--yg===0&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources.")}Fa(){return!!ar(this,0)}la(){return!!ar(this,1)}R(){return!!ar(this,2)}Da(){return s3(this)}Ca(){var t=ar(this,1);return t||(_u(this),yu(this),t=_g(this),ca(this),this.g.push(t),this.j=!0),t}N(){return _u(this)}clone(){const t=[];for(const e of this.g){let n;if(e instanceof ImageData)n=new ImageData(e.data,this.width,this.height);else if(e instanceof WebGLTexture){const r=yo(this),s=dh(this);r.activeTexture(r.TEXTURE1),n=xs(s,r),r.bindTexture(r.TEXTURE_2D,n),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,this.width,this.height,0,r.RGBA,r.UNSIGNED_BYTE,null),r.bindTexture(r.TEXTURE_2D,null),hh(s,r,n),_l(s,r,!1,()=>{yu(this),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLE_FAN,0,4),ca(this)}),N1(s),ca(this)}else{if(!(e instanceof ImageBitmap))throw Error(`Type is not supported: ${e}`);_u(this),yu(this),n=_g(this),ca(this)}t.push(n)}return new ft(t,this.la(),this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&ar(this,1).close(),this.m&&yo(this).deleteTexture(ar(this,2)),yg=-1}};ft.prototype.close=ft.prototype.close,ft.prototype.clone=ft.prototype.clone,ft.prototype.getAsWebGLTexture=ft.prototype.N,ft.prototype.getAsImageBitmap=ft.prototype.Ca,ft.prototype.getAsImageData=ft.prototype.Da,ft.prototype.hasWebGLTexture=ft.prototype.R,ft.prototype.hasImageBitmap=ft.prototype.la,ft.prototype.hasImageData=ft.prototype.Fa;var yg=250;function Zn(...t){return t.map(([e,n])=>({start:e,end:n}))}const bk=function(t){return class extends t{La(){this.i._registerModelResourcesGraphService()}}}((vg=class{constructor(t,e){this.l=!0,this.i=t,this.g=null,this.h=0,this.m=typeof this.i._addIntToInputStream=="function",e!==void 0?this.i.canvas=e:Jv()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}async initializeGraph(t){const e=await(await fetch(t)).arrayBuffer();t=!(t.endsWith(".pbtxt")||t.endsWith(".textproto")),this.setGraph(new Uint8Array(e),t)}setGraphFromString(t){this.setGraph(new TextEncoder().encode(t),!1)}setGraph(t,e){const n=t.length,r=this.i._malloc(n);this.i.HEAPU8.set(t,r),e?this.i._changeBinaryGraph(n,r):this.i._changeTextGraph(n,r),this.i._free(r)}configureAudio(t,e,n,r,s){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),G(this,r||"input_audio",i=>{G(this,s=s||"audio_header",o=>{this.i._configureAudio(i,o,t,e??0,n)})})}setAutoResizeCanvas(t){this.l=t}setAutoRenderToScreen(t){this.i._setAutoRenderToScreen(t)}setGpuBufferVerticalFlip(t){this.i.gpuOriginForWebTexturesIsBottomLeft=t}ea(t){rr(this,"__graph_config__",e=>{t(e)}),G(this,"__graph_config__",e=>{this.i._getGraphConfig(e,void 0)}),delete this.i.simpleListeners.__graph_config__}attachErrorListener(t){this.i.errorListener=t}attachEmptyPacketListener(t,e){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[t]=e}addAudioToStream(t,e,n){this.addAudioToStreamWithShape(t,0,0,e,n)}addAudioToStreamWithShape(t,e,n,r,s){const i=4*t.length;this.h!==i&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(i),this.h=i),this.i.HEAPF32.set(t,this.g/4),G(this,r,o=>{this.i._addAudioToInputStream(this.g,e,n,o,s)})}addGpuBufferToStream(t,e,n){G(this,e,r=>{const[s,i]=ag(this,t,r);this.i._addBoundTextureToStream(r,s,i,n)})}addBoolToStream(t,e,n){G(this,e,r=>{this.i._addBoolToInputStream(t,r,n)})}addDoubleToStream(t,e,n){G(this,e,r=>{this.i._addDoubleToInputStream(t,r,n)})}addFloatToStream(t,e,n){G(this,e,r=>{this.i._addFloatToInputStream(t,r,n)})}addIntToStream(t,e,n){G(this,e,r=>{this.i._addIntToInputStream(t,r,n)})}addUintToStream(t,e,n){G(this,e,r=>{this.i._addUintToInputStream(t,r,n)})}addStringToStream(t,e,n){G(this,e,r=>{G(this,t,s=>{this.i._addStringToInputStream(s,r,n)})})}addStringRecordToStream(t,e,n){G(this,e,r=>{lg(this,Object.keys(t),s=>{lg(this,Object.values(t),i=>{this.i._addFlatHashMapToInputStream(s,i,Object.keys(t).length,r,n)})})})}addProtoToStream(t,e,n,r){G(this,n,s=>{G(this,e,i=>{const o=this.i._malloc(t.length);this.i.HEAPU8.set(t,o),this.i._addProtoToInputStream(o,t.length,i,s,r),this.i._free(o)})})}addEmptyPacketToStream(t,e){G(this,t,n=>{this.i._addEmptyPacketToInputStream(n,e)})}addBoolVectorToStream(t,e,n){G(this,e,r=>{const s=this.i._allocateBoolVector(t.length);if(!s)throw Error("Unable to allocate new bool vector on heap.");for(const i of t)this.i._addBoolVectorEntry(s,i);this.i._addBoolVectorToInputStream(s,r,n)})}addDoubleVectorToStream(t,e,n){G(this,e,r=>{const s=this.i._allocateDoubleVector(t.length);if(!s)throw Error("Unable to allocate new double vector on heap.");for(const i of t)this.i._addDoubleVectorEntry(s,i);this.i._addDoubleVectorToInputStream(s,r,n)})}addFloatVectorToStream(t,e,n){G(this,e,r=>{const s=this.i._allocateFloatVector(t.length);if(!s)throw Error("Unable to allocate new float vector on heap.");for(const i of t)this.i._addFloatVectorEntry(s,i);this.i._addFloatVectorToInputStream(s,r,n)})}addIntVectorToStream(t,e,n){G(this,e,r=>{const s=this.i._allocateIntVector(t.length);if(!s)throw Error("Unable to allocate new int vector on heap.");for(const i of t)this.i._addIntVectorEntry(s,i);this.i._addIntVectorToInputStream(s,r,n)})}addUintVectorToStream(t,e,n){G(this,e,r=>{const s=this.i._allocateUintVector(t.length);if(!s)throw Error("Unable to allocate new unsigned int vector on heap.");for(const i of t)this.i._addUintVectorEntry(s,i);this.i._addUintVectorToInputStream(s,r,n)})}addStringVectorToStream(t,e,n){G(this,e,r=>{const s=this.i._allocateStringVector(t.length);if(!s)throw Error("Unable to allocate new string vector on heap.");for(const i of t)G(this,i,o=>{this.i._addStringVectorEntry(s,o)});this.i._addStringVectorToInputStream(s,r,n)})}addBoolToInputSidePacket(t,e){G(this,e,n=>{this.i._addBoolToInputSidePacket(t,n)})}addDoubleToInputSidePacket(t,e){G(this,e,n=>{this.i._addDoubleToInputSidePacket(t,n)})}addFloatToInputSidePacket(t,e){G(this,e,n=>{this.i._addFloatToInputSidePacket(t,n)})}addIntToInputSidePacket(t,e){G(this,e,n=>{this.i._addIntToInputSidePacket(t,n)})}addUintToInputSidePacket(t,e){G(this,e,n=>{this.i._addUintToInputSidePacket(t,n)})}addStringToInputSidePacket(t,e){G(this,e,n=>{G(this,t,r=>{this.i._addStringToInputSidePacket(r,n)})})}addProtoToInputSidePacket(t,e,n){G(this,n,r=>{G(this,e,s=>{const i=this.i._malloc(t.length);this.i.HEAPU8.set(t,i),this.i._addProtoToInputSidePacket(i,t.length,s,r),this.i._free(i)})})}addBoolVectorToInputSidePacket(t,e){G(this,e,n=>{const r=this.i._allocateBoolVector(t.length);if(!r)throw Error("Unable to allocate new bool vector on heap.");for(const s of t)this.i._addBoolVectorEntry(r,s);this.i._addBoolVectorToInputSidePacket(r,n)})}addDoubleVectorToInputSidePacket(t,e){G(this,e,n=>{const r=this.i._allocateDoubleVector(t.length);if(!r)throw Error("Unable to allocate new double vector on heap.");for(const s of t)this.i._addDoubleVectorEntry(r,s);this.i._addDoubleVectorToInputSidePacket(r,n)})}addFloatVectorToInputSidePacket(t,e){G(this,e,n=>{const r=this.i._allocateFloatVector(t.length);if(!r)throw Error("Unable to allocate new float vector on heap.");for(const s of t)this.i._addFloatVectorEntry(r,s);this.i._addFloatVectorToInputSidePacket(r,n)})}addIntVectorToInputSidePacket(t,e){G(this,e,n=>{const r=this.i._allocateIntVector(t.length);if(!r)throw Error("Unable to allocate new int vector on heap.");for(const s of t)this.i._addIntVectorEntry(r,s);this.i._addIntVectorToInputSidePacket(r,n)})}addUintVectorToInputSidePacket(t,e){G(this,e,n=>{const r=this.i._allocateUintVector(t.length);if(!r)throw Error("Unable to allocate new unsigned int vector on heap.");for(const s of t)this.i._addUintVectorEntry(r,s);this.i._addUintVectorToInputSidePacket(r,n)})}addStringVectorToInputSidePacket(t,e){G(this,e,n=>{const r=this.i._allocateStringVector(t.length);if(!r)throw Error("Unable to allocate new string vector on heap.");for(const s of t)G(this,s,i=>{this.i._addStringVectorEntry(r,i)});this.i._addStringVectorToInputSidePacket(r,n)})}attachBoolListener(t,e){rr(this,t,e),G(this,t,n=>{this.i._attachBoolListener(n)})}attachBoolVectorListener(t,e){Yr(this,t,e),G(this,t,n=>{this.i._attachBoolVectorListener(n)})}attachIntListener(t,e){rr(this,t,e),G(this,t,n=>{this.i._attachIntListener(n)})}attachIntVectorListener(t,e){Yr(this,t,e),G(this,t,n=>{this.i._attachIntVectorListener(n)})}attachUintListener(t,e){rr(this,t,e),G(this,t,n=>{this.i._attachUintListener(n)})}attachUintVectorListener(t,e){Yr(this,t,e),G(this,t,n=>{this.i._attachUintVectorListener(n)})}attachDoubleListener(t,e){rr(this,t,e),G(this,t,n=>{this.i._attachDoubleListener(n)})}attachDoubleVectorListener(t,e){Yr(this,t,e),G(this,t,n=>{this.i._attachDoubleVectorListener(n)})}attachFloatListener(t,e){rr(this,t,e),G(this,t,n=>{this.i._attachFloatListener(n)})}attachFloatVectorListener(t,e){Yr(this,t,e),G(this,t,n=>{this.i._attachFloatVectorListener(n)})}attachStringListener(t,e){rr(this,t,e),G(this,t,n=>{this.i._attachStringListener(n)})}attachStringVectorListener(t,e){Yr(this,t,e),G(this,t,n=>{this.i._attachStringVectorListener(n)})}attachProtoListener(t,e,n){rr(this,t,e),G(this,t,r=>{this.i._attachProtoListener(r,n||!1)})}attachProtoVectorListener(t,e,n){Yr(this,t,e),G(this,t,r=>{this.i._attachProtoVectorListener(r,n||!1)})}attachAudioListener(t,e,n){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),rr(this,t,(r,s)=>{r=new Float32Array(r.buffer,r.byteOffset,r.length/4),e(r,s)}),G(this,t,r=>{this.i._attachAudioListener(r,n||!1)})}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},class extends vg{get fa(){return this.i}ra(t,e,n){G(this,e,r=>{const[s,i]=ag(this,t,r);this.fa._addBoundTextureAsImageToStream(r,s,i,n)})}V(t,e){rr(this,t,e),G(this,t,n=>{this.fa._attachImageListener(n)})}da(t,e){Yr(this,t,e),G(this,t,n=>{this.fa._attachImageVectorListener(n)})}}));var vg,Dn=class extends bk{};async function ne(t,e,n){return async function(r,s,i,o){return Ok(r,s,i,o)}(t,n.canvas??(Jv()?void 0:document.createElement("canvas")),e,n)}function i3(t,e,n,r){if(t.U){const i=new Nv;if(n!=null&&n.regionOfInterest){if(!t.qa)throw Error("This task doesn't support region-of-interest.");var s=n.regionOfInterest;if(s.left>=s.right||s.top>=s.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(s.left<0||s.top<0||s.right>1||s.bottom>1)throw Error("Expected RectF values to be in [0,1].");W(i,1,(s.left+s.right)/2),W(i,2,(s.top+s.bottom)/2),W(i,4,s.right-s.left),W(i,3,s.bottom-s.top)}else W(i,1,.5),W(i,2,.5),W(i,4,1),W(i,3,1);if(n!=null&&n.rotationDegrees){if((n==null?void 0:n.rotationDegrees)%90!=0)throw Error("Expected rotation to be a multiple of 90°.");if(W(i,5,-Math.PI*n.rotationDegrees/180),(n==null?void 0:n.rotationDegrees)%180!=0){const[o,a]=e3(e);n=He(i,3)*a/o,s=He(i,4)*o/a,W(i,4,n),W(i,3,s)}}t.g.addProtoToStream(i.g(),"mediapipe.NormalizedRect",t.U,r)}t.g.ra(e,t.ba,r??performance.now()),t.finishProcessing()}function bn(t,e,n){var r;if((r=t.baseOptions)!=null&&r.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");i3(t,e,n,t.B+1)}function mr(t,e,n,r){var s;if(!((s=t.baseOptions)!=null&&s.g()))throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");i3(t,e,n,r)}function vo(t,e,n,r){var s=e.data;const i=e.width,o=i*(e=e.height);if((s instanceof Uint8Array||s instanceof Float32Array)&&s.length!==o)throw Error("Unsupported channel count: "+s.length/o);return t=new ot([s],n,!1,t.g.i.canvas,t.P,i,e),r?t.clone():t}var Zt=class extends gu{constructor(t,e,n,r){super(t),this.g=t,this.ba=e,this.U=n,this.qa=r,this.P=new Vo}l(t,e=!0){if("runningMode"in t&&za(this.baseOptions,2,!!t.runningMode&&t.runningMode!=="IMAGE"),t.canvas!==void 0&&this.g.i.canvas!==t.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(t,e)}close(){this.P.close(),super.close()}};Zt.prototype.close=Zt.prototype.close;var vn=class extends Zt{constructor(t,e){super(new Dn(t,e),"image_in","norm_rect_in",!1),this.j={detections:[]},q(t=this.h=new ah,0,1,e=new Re),W(this.h,2,.5),W(this.h,3,.3)}get baseOptions(){return ie(this.h,Re,1)}set baseOptions(t){q(this.h,0,1,t)}o(t){return"minDetectionConfidence"in t&&W(this.h,2,t.minDetectionConfidence??.5),"minSuppressionThreshold"in t&&W(this.h,3,t.minSuppressionThreshold??.3),this.l(t)}D(t,e){return this.j={detections:[]},bn(this,t,e),this.j}F(t,e,n){return this.j={detections:[]},mr(this,t,n,e),this.j}m(){var t=new en;Ee(t,"image_in"),Ee(t,"norm_rect_in"),ae(t,"detections");const e=new dn;Yn(e,mk,this.h);const n=new Ft;gn(n,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),Te(n,"IMAGE:image_in"),Te(n,"NORM_RECT:norm_rect_in"),re(n,"DETECTIONS:detections"),n.o(e),_n(t,n),this.g.attachProtoVectorListener("detections",(r,s)=>{for(const i of r)r=Ev(i),this.j.detections.push(Kv(r));U(this,s)}),this.g.attachEmptyPacketListener("detections",r=>{U(this,r)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};vn.prototype.detectForVideo=vn.prototype.F,vn.prototype.detect=vn.prototype.D,vn.prototype.setOptions=vn.prototype.o,vn.createFromModelPath=async function(t,e){return ne(vn,t,{baseOptions:{modelAssetPath:e}})},vn.createFromModelBuffer=function(t,e){return ne(vn,t,{baseOptions:{modelAssetBuffer:e}})},vn.createFromOptions=function(t,e){return ne(vn,t,e)};var I1=Zn([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),M1=Zn([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),R1=Zn([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),o3=Zn([474,475],[475,476],[476,477],[477,474]),D1=Zn([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),b1=Zn([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),a3=Zn([469,470],[470,471],[471,472],[472,469]),P1=Zn([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),l3=[...I1,...M1,...R1,...D1,...b1,...P1],u3=Zn([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function wg(t){t.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var je=class extends Zt{constructor(t,e){super(new Dn(t,e),"image_in","norm_rect",!1),this.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,q(t=this.h=new Dv,0,1,e=new Re),this.v=new Rv,q(this.h,0,3,this.v),this.s=new ah,q(this.h,0,2,this.s),dr(this.s,4,1),W(this.s,2,.5),W(this.v,2,.5),W(this.h,4,.5)}get baseOptions(){return ie(this.h,Re,1)}set baseOptions(t){q(this.h,0,1,t)}o(t){return"numFaces"in t&&dr(this.s,4,t.numFaces??1),"minFaceDetectionConfidence"in t&&W(this.s,2,t.minFaceDetectionConfidence??.5),"minTrackingConfidence"in t&&W(this.h,4,t.minTrackingConfidence??.5),"minFacePresenceConfidence"in t&&W(this.v,2,t.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in t&&(this.outputFacialTransformationMatrixes=!!t.outputFacialTransformationMatrixes),this.l(t)}D(t,e){return wg(this),bn(this,t,e),this.j}F(t,e,n){return wg(this),mr(this,t,n,e),this.j}m(){var t=new en;Ee(t,"image_in"),Ee(t,"norm_rect"),ae(t,"face_landmarks");const e=new dn;Yn(e,_k,this.h);const n=new Ft;gn(n,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),Te(n,"IMAGE:image_in"),Te(n,"NORM_RECT:norm_rect"),re(n,"NORM_LANDMARKS:face_landmarks"),n.o(e),_n(t,n),this.g.attachProtoVectorListener("face_landmarks",(r,s)=>{for(const i of r)r=gl(i),this.j.faceLandmarks.push(lh(r));U(this,s)}),this.g.attachEmptyPacketListener("face_landmarks",r=>{U(this,r)}),this.outputFaceBlendshapes&&(ae(t,"blendshapes"),re(n,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",(r,s)=>{if(this.outputFaceBlendshapes)for(const i of r)r=oh(i),this.j.faceBlendshapes.push(C1(r.g()??[]));U(this,s)}),this.g.attachEmptyPacketListener("blendshapes",r=>{U(this,r)})),this.outputFacialTransformationMatrixes&&(ae(t,"face_geometry"),re(n,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",(r,s)=>{if(this.outputFacialTransformationMatrixes)for(const i of r)(r=ie(gk(i),ak,2))&&this.j.facialTransformationMatrixes.push({rows:qn(Cn(r,1),0)??0,columns:qn(Cn(r,2),0)??0,data:Ys(r,3,bs,Xs()).slice()??[]});U(this,s)}),this.g.attachEmptyPacketListener("face_geometry",r=>{U(this,r)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};je.prototype.detectForVideo=je.prototype.F,je.prototype.detect=je.prototype.D,je.prototype.setOptions=je.prototype.o,je.createFromModelPath=function(t,e){return ne(je,t,{baseOptions:{modelAssetPath:e}})},je.createFromModelBuffer=function(t,e){return ne(je,t,{baseOptions:{modelAssetBuffer:e}})},je.createFromOptions=function(t,e){return ne(je,t,e)},je.FACE_LANDMARKS_LIPS=I1,je.FACE_LANDMARKS_LEFT_EYE=M1,je.FACE_LANDMARKS_LEFT_EYEBROW=R1,je.FACE_LANDMARKS_LEFT_IRIS=o3,je.FACE_LANDMARKS_RIGHT_EYE=D1,je.FACE_LANDMARKS_RIGHT_EYEBROW=b1,je.FACE_LANDMARKS_RIGHT_IRIS=a3,je.FACE_LANDMARKS_FACE_OVAL=P1,je.FACE_LANDMARKS_CONTOURS=l3,je.FACE_LANDMARKS_TESSELATION=u3;var sr=class extends Zt{constructor(t,e){super(new Dn(t,e),"image_in","norm_rect",!0),q(t=this.j=new Pv,0,1,e=new Re)}get baseOptions(){return ie(this.j,Re,1)}set baseOptions(t){q(this.j,0,1,t)}o(t){return super.l(t)}Oa(t,e,n){const r=typeof e!="function"?e:{};if(this.h=typeof e=="function"?e:n,bn(this,t,r??{}),!this.h)return this.s}m(){var t=new en;Ee(t,"image_in"),Ee(t,"norm_rect"),ae(t,"stylized_image");const e=new dn;Yn(e,yk,this.j);const n=new Ft;gn(n,"mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),Te(n,"IMAGE:image_in"),Te(n,"NORM_RECT:norm_rect"),re(n,"STYLIZED_IMAGE:stylized_image"),n.o(e),_n(t,n),this.g.V("stylized_image",(r,s)=>{var i=!this.h,o=r.data,a=r.width;const l=a*(r=r.height);if(o instanceof Uint8Array)if(o.length===3*l){const u=new Uint8ClampedArray(4*l);for(let c=0;c<l;++c)u[4*c]=o[3*c],u[4*c+1]=o[3*c+1],u[4*c+2]=o[3*c+2],u[4*c+3]=255;o=new ImageData(u,a,r)}else{if(o.length!==4*l)throw Error("Unsupported channel count: "+o.length/l);o=new ImageData(new Uint8ClampedArray(o.buffer,o.byteOffset,o.length),a,r)}else if(!(o instanceof WebGLTexture))throw Error(`Unsupported format: ${o.constructor.name}`);a=new ft([o],!1,!1,this.g.i.canvas,this.P,a,r),this.s=i=i?a.clone():a,this.h&&this.h(i),U(this,s)}),this.g.attachEmptyPacketListener("stylized_image",r=>{this.s=null,this.h&&this.h(null),U(this,r)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};sr.prototype.stylize=sr.prototype.Oa,sr.prototype.setOptions=sr.prototype.o,sr.createFromModelPath=function(t,e){return ne(sr,t,{baseOptions:{modelAssetPath:e}})},sr.createFromModelBuffer=function(t,e){return ne(sr,t,{baseOptions:{modelAssetBuffer:e}})},sr.createFromOptions=function(t,e){return ne(sr,t,e)};var F1=Zn([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function Tg(t){t.gestures=[],t.landmarks=[],t.worldLandmarks=[],t.handedness=[]}function Sg(t){return t.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:t.gestures,landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handedness:t.handedness,handednesses:t.handedness}}function kg(t,e=!0){const n=[];for(const s of t){var r=oh(s);t=[];for(const i of r.g())r=e&&Cn(i,1)!=null?qn(Cn(i,1),0):-1,t.push({score:He(i,2)??0,index:r,categoryName:hr(i,3)??"",displayName:hr(i,4)??""});n.push(t)}return n}var tn=class extends Zt{constructor(t,e){super(new Dn(t,e),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],q(t=this.j=new Vv,0,1,e=new Re),this.s=new S1,q(this.j,0,2,this.s),this.C=new T1,q(this.s,0,3,this.C),this.v=new Lv,q(this.s,0,2,this.v),this.h=new vk,q(this.j,0,3,this.h),W(this.v,2,.5),W(this.s,4,.5),W(this.C,2,.5)}get baseOptions(){return ie(this.j,Re,1)}set baseOptions(t){q(this.j,0,1,t)}o(t){var s,i,o,a;if(dr(this.v,3,t.numHands??1),"minHandDetectionConfidence"in t&&W(this.v,2,t.minHandDetectionConfidence??.5),"minTrackingConfidence"in t&&W(this.s,4,t.minTrackingConfidence??.5),"minHandPresenceConfidence"in t&&W(this.C,2,t.minHandPresenceConfidence??.5),t.cannedGesturesClassifierOptions){var e=new Ci,n=e,r=Tf(t.cannedGesturesClassifierOptions,(s=ie(this.h,Ci,3))==null?void 0:s.h());q(n,0,2,r),q(this.h,0,3,e)}else t.cannedGesturesClassifierOptions===void 0&&((i=ie(this.h,Ci,3))==null||i.g());return t.customGesturesClassifierOptions?(q(n=e=new Ci,0,2,r=Tf(t.customGesturesClassifierOptions,(o=ie(this.h,Ci,4))==null?void 0:o.h())),q(this.h,0,4,e)):t.customGesturesClassifierOptions===void 0&&((a=ie(this.h,Ci,4))==null||a.g()),this.l(t)}Ja(t,e){return Tg(this),bn(this,t,e),Sg(this)}Ka(t,e,n){return Tg(this),mr(this,t,n,e),Sg(this)}m(){var t=new en;Ee(t,"image_in"),Ee(t,"norm_rect"),ae(t,"hand_gestures"),ae(t,"hand_landmarks"),ae(t,"world_hand_landmarks"),ae(t,"handedness");const e=new dn;Yn(e,wk,this.j);const n=new Ft;gn(n,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),Te(n,"IMAGE:image_in"),Te(n,"NORM_RECT:norm_rect"),re(n,"HAND_GESTURES:hand_gestures"),re(n,"LANDMARKS:hand_landmarks"),re(n,"WORLD_LANDMARKS:world_hand_landmarks"),re(n,"HANDEDNESS:handedness"),n.o(e),_n(t,n),this.g.attachProtoVectorListener("hand_landmarks",(r,s)=>{for(const i of r){r=gl(i);const o=[];for(const a of Fr(r,Av,1))o.push({x:He(a,1)??0,y:He(a,2)??0,z:He(a,3)??0,visibility:He(a,4)??0});this.landmarks.push(o)}U(this,s)}),this.g.attachEmptyPacketListener("hand_landmarks",r=>{U(this,r)}),this.g.attachProtoVectorListener("world_hand_landmarks",(r,s)=>{for(const i of r){r=ro(i);const o=[];for(const a of Fr(r,Cv,1))o.push({x:He(a,1)??0,y:He(a,2)??0,z:He(a,3)??0,visibility:He(a,4)??0});this.worldLandmarks.push(o)}U(this,s)}),this.g.attachEmptyPacketListener("world_hand_landmarks",r=>{U(this,r)}),this.g.attachProtoVectorListener("hand_gestures",(r,s)=>{this.gestures.push(...kg(r,!1)),U(this,s)}),this.g.attachEmptyPacketListener("hand_gestures",r=>{U(this,r)}),this.g.attachProtoVectorListener("handedness",(r,s)=>{this.handedness.push(...kg(r)),U(this,s)}),this.g.attachEmptyPacketListener("handedness",r=>{U(this,r)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};function xg(t){return{landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handednesses:t.handedness,handedness:t.handedness}}tn.prototype.recognizeForVideo=tn.prototype.Ka,tn.prototype.recognize=tn.prototype.Ja,tn.prototype.setOptions=tn.prototype.o,tn.createFromModelPath=function(t,e){return ne(tn,t,{baseOptions:{modelAssetPath:e}})},tn.createFromModelBuffer=function(t,e){return ne(tn,t,{baseOptions:{modelAssetBuffer:e}})},tn.createFromOptions=function(t,e){return ne(tn,t,e)},tn.HAND_CONNECTIONS=F1;var Wt=class extends Zt{constructor(t,e){super(new Dn(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],q(t=this.h=new S1,0,1,e=new Re),this.s=new T1,q(this.h,0,3,this.s),this.j=new Lv,q(this.h,0,2,this.j),dr(this.j,3,1),W(this.j,2,.5),W(this.s,2,.5),W(this.h,4,.5)}get baseOptions(){return ie(this.h,Re,1)}set baseOptions(t){q(this.h,0,1,t)}o(t){return"numHands"in t&&dr(this.j,3,t.numHands??1),"minHandDetectionConfidence"in t&&W(this.j,2,t.minHandDetectionConfidence??.5),"minTrackingConfidence"in t&&W(this.h,4,t.minTrackingConfidence??.5),"minHandPresenceConfidence"in t&&W(this.s,2,t.minHandPresenceConfidence??.5),this.l(t)}D(t,e){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],bn(this,t,e),xg(this)}F(t,e,n){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],mr(this,t,n,e),xg(this)}m(){var t=new en;Ee(t,"image_in"),Ee(t,"norm_rect"),ae(t,"hand_landmarks"),ae(t,"world_hand_landmarks"),ae(t,"handedness");const e=new dn;Yn(e,Tk,this.h);const n=new Ft;gn(n,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),Te(n,"IMAGE:image_in"),Te(n,"NORM_RECT:norm_rect"),re(n,"LANDMARKS:hand_landmarks"),re(n,"WORLD_LANDMARKS:world_hand_landmarks"),re(n,"HANDEDNESS:handedness"),n.o(e),_n(t,n),this.g.attachProtoVectorListener("hand_landmarks",(r,s)=>{for(const i of r)r=gl(i),this.landmarks.push(lh(r));U(this,s)}),this.g.attachEmptyPacketListener("hand_landmarks",r=>{U(this,r)}),this.g.attachProtoVectorListener("world_hand_landmarks",(r,s)=>{for(const i of r)r=ro(i),this.worldLandmarks.push(Sa(r));U(this,s)}),this.g.attachEmptyPacketListener("world_hand_landmarks",r=>{U(this,r)}),this.g.attachProtoVectorListener("handedness",(r,s)=>{var i=this.handedness,o=i.push;const a=[];for(const l of r){r=oh(l);const u=[];for(const c of r.g())u.push({score:He(c,2)??0,index:qn(Cn(c,1),0)??-1,categoryName:hr(c,3)??"",displayName:hr(c,4)??""});a.push(u)}o.call(i,...a),U(this,s)}),this.g.attachEmptyPacketListener("handedness",r=>{U(this,r)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Wt.prototype.detectForVideo=Wt.prototype.F,Wt.prototype.detect=Wt.prototype.D,Wt.prototype.setOptions=Wt.prototype.o,Wt.createFromModelPath=function(t,e){return ne(Wt,t,{baseOptions:{modelAssetPath:e}})},Wt.createFromModelBuffer=function(t,e){return ne(Wt,t,{baseOptions:{modelAssetBuffer:e}})},Wt.createFromOptions=function(t,e){return ne(Wt,t,e)},Wt.HAND_CONNECTIONS=F1;var c3=Zn([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function Eg(t){t.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function Cg(t){try{if(!t.C)return t.h;t.C(t.h)}finally{ch(t)}}function Yl(t,e){t=gl(t),e.push(lh(t))}var Ne=class extends Zt{constructor(t,e){super(new Dn(t,e),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,q(t=this.j=new zv,0,1,e=new Re),this.K=new T1,q(this.j,0,2,this.K),this.aa=new Sk,q(this.j,0,3,this.aa),this.s=new ah,q(this.j,0,4,this.s),this.I=new Rv,q(this.j,0,5,this.I),this.v=new Bv,q(this.j,0,6,this.v),this.L=new $v,q(this.j,0,7,this.L),W(this.s,2,.5),W(this.s,3,.3),W(this.I,2,.5),W(this.v,2,.5),W(this.v,3,.3),W(this.L,2,.5),W(this.K,2,.5)}get baseOptions(){return ie(this.j,Re,1)}set baseOptions(t){q(this.j,0,1,t)}o(t){return"minFaceDetectionConfidence"in t&&W(this.s,2,t.minFaceDetectionConfidence??.5),"minFaceSuppressionThreshold"in t&&W(this.s,3,t.minFaceSuppressionThreshold??.3),"minFacePresenceConfidence"in t&&W(this.I,2,t.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"minPoseDetectionConfidence"in t&&W(this.v,2,t.minPoseDetectionConfidence??.5),"minPoseSuppressionThreshold"in t&&W(this.v,3,t.minPoseSuppressionThreshold??.3),"minPosePresenceConfidence"in t&&W(this.L,2,t.minPosePresenceConfidence??.5),"outputPoseSegmentationMasks"in t&&(this.outputPoseSegmentationMasks=!!t.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in t&&W(this.K,2,t.minHandLandmarksConfidence??.5),this.l(t)}D(t,e,n){const r=typeof e!="function"?e:{};return this.C=typeof e=="function"?e:n,Eg(this),bn(this,t,r),Cg(this)}F(t,e,n,r){const s=typeof n!="function"?n:{};return this.C=typeof n=="function"?n:r,Eg(this),mr(this,t,s,e),Cg(this)}m(){var t=new en;Ee(t,"input_frames_image"),ae(t,"pose_landmarks"),ae(t,"pose_world_landmarks"),ae(t,"face_landmarks"),ae(t,"left_hand_landmarks"),ae(t,"left_hand_world_landmarks"),ae(t,"right_hand_landmarks"),ae(t,"right_hand_world_landmarks");const e=new dn,n=new G0;mf(n,1,Ro("type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),""),function(s,i){if(i!=null)if(Array.isArray(i))ve(s,2,Xc(i,Yp,void 0,void 0,!1));else{if(!(typeof i=="string"||i instanceof Or||dl(i)))throw Error("invalid value in Any.value field: "+i+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");mf(s,2,jp(i,!1),ci())}}(n,this.j.g());const r=new Ft;gn(r,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),Qu(r,8,G0,n),Te(r,"IMAGE:input_frames_image"),re(r,"POSE_LANDMARKS:pose_landmarks"),re(r,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),re(r,"FACE_LANDMARKS:face_landmarks"),re(r,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),re(r,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),re(r,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),re(r,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),r.o(e),_n(t,r),uh(this,t),this.g.attachProtoListener("pose_landmarks",(s,i)=>{Yl(s,this.h.poseLandmarks),U(this,i)}),this.g.attachEmptyPacketListener("pose_landmarks",s=>{U(this,s)}),this.g.attachProtoListener("pose_world_landmarks",(s,i)=>{var o=this.h.poseWorldLandmarks;s=ro(s),o.push(Sa(s)),U(this,i)}),this.g.attachEmptyPacketListener("pose_world_landmarks",s=>{U(this,s)}),this.outputPoseSegmentationMasks&&(re(r,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),go(this,"pose_segmentation_mask"),this.g.V("pose_segmentation_mask",(s,i)=>{this.h.poseSegmentationMasks=[vo(this,s,!0,!this.C)],U(this,i)}),this.g.attachEmptyPacketListener("pose_segmentation_mask",s=>{this.h.poseSegmentationMasks=[],U(this,s)})),this.g.attachProtoListener("face_landmarks",(s,i)=>{Yl(s,this.h.faceLandmarks),U(this,i)}),this.g.attachEmptyPacketListener("face_landmarks",s=>{U(this,s)}),this.outputFaceBlendshapes&&(ae(t,"extra_blendshapes"),re(r,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",(s,i)=>{var o=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(s=oh(s),o.push(C1(s.g()??[]))),U(this,i)}),this.g.attachEmptyPacketListener("extra_blendshapes",s=>{U(this,s)})),this.g.attachProtoListener("left_hand_landmarks",(s,i)=>{Yl(s,this.h.leftHandLandmarks),U(this,i)}),this.g.attachEmptyPacketListener("left_hand_landmarks",s=>{U(this,s)}),this.g.attachProtoListener("left_hand_world_landmarks",(s,i)=>{var o=this.h.leftHandWorldLandmarks;s=ro(s),o.push(Sa(s)),U(this,i)}),this.g.attachEmptyPacketListener("left_hand_world_landmarks",s=>{U(this,s)}),this.g.attachProtoListener("right_hand_landmarks",(s,i)=>{Yl(s,this.h.rightHandLandmarks),U(this,i)}),this.g.attachEmptyPacketListener("right_hand_landmarks",s=>{U(this,s)}),this.g.attachProtoListener("right_hand_world_landmarks",(s,i)=>{var o=this.h.rightHandWorldLandmarks;s=ro(s),o.push(Sa(s)),U(this,i)}),this.g.attachEmptyPacketListener("right_hand_world_landmarks",s=>{U(this,s)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Ne.prototype.detectForVideo=Ne.prototype.F,Ne.prototype.detect=Ne.prototype.D,Ne.prototype.setOptions=Ne.prototype.o,Ne.createFromModelPath=function(t,e){return ne(Ne,t,{baseOptions:{modelAssetPath:e}})},Ne.createFromModelBuffer=function(t,e){return ne(Ne,t,{baseOptions:{modelAssetBuffer:e}})},Ne.createFromOptions=function(t,e){return ne(Ne,t,e)},Ne.HAND_CONNECTIONS=F1,Ne.POSE_CONNECTIONS=c3,Ne.FACE_LANDMARKS_LIPS=I1,Ne.FACE_LANDMARKS_LEFT_EYE=M1,Ne.FACE_LANDMARKS_LEFT_EYEBROW=R1,Ne.FACE_LANDMARKS_LEFT_IRIS=o3,Ne.FACE_LANDMARKS_RIGHT_EYE=D1,Ne.FACE_LANDMARKS_RIGHT_EYEBROW=b1,Ne.FACE_LANDMARKS_RIGHT_IRIS=a3,Ne.FACE_LANDMARKS_FACE_OVAL=P1,Ne.FACE_LANDMARKS_CONTOURS=l3,Ne.FACE_LANDMARKS_TESSELATION=u3;var wn=class extends Zt{constructor(t,e){super(new Dn(t,e),"input_image","norm_rect",!0),this.j={classifications:[]},q(t=this.h=new Wv,0,1,e=new Re)}get baseOptions(){return ie(this.h,Re,1)}set baseOptions(t){q(this.h,0,1,t)}o(t){return q(this.h,0,2,Tf(t,ie(this.h,y1,2))),this.l(t)}ta(t,e){return this.j={classifications:[]},bn(this,t,e),this.j}ua(t,e,n){return this.j={classifications:[]},mr(this,t,n,e),this.j}m(){var t=new en;Ee(t,"input_image"),Ee(t,"norm_rect"),ae(t,"classifications");const e=new dn;Yn(e,kk,this.h);const n=new Ft;gn(n,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),Te(n,"IMAGE:input_image"),Te(n,"NORM_RECT:norm_rect"),re(n,"CLASSIFICATIONS:classifications"),n.o(e),_n(t,n),this.g.attachProtoListener("classifications",(r,s)=>{this.j=function(i){const o={classifications:Fr(i,uk,1).map(a=>{var l;return C1(((l=ie(a,kv,4))==null?void 0:l.g())??[],qn(Cn(a,2),0),hr(a,3))})};return Xu(Ts(i,2))!=null&&(o.timestampMs=qn(Xu(Ts(i,2)),0)),o}(ck(r)),U(this,s)}),this.g.attachEmptyPacketListener("classifications",r=>{U(this,r)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};wn.prototype.classifyForVideo=wn.prototype.ua,wn.prototype.classify=wn.prototype.ta,wn.prototype.setOptions=wn.prototype.o,wn.createFromModelPath=function(t,e){return ne(wn,t,{baseOptions:{modelAssetPath:e}})},wn.createFromModelBuffer=function(t,e){return ne(wn,t,{baseOptions:{modelAssetBuffer:e}})},wn.createFromOptions=function(t,e){return ne(wn,t,e)};var nn=class extends Zt{constructor(t,e){super(new Dn(t,e),"image_in","norm_rect",!0),this.h=new Gv,this.embeddings={embeddings:[]},q(t=this.h,0,1,e=new Re)}get baseOptions(){return ie(this.h,Re,1)}set baseOptions(t){q(this.h,0,1,t)}o(t){var e=this.h,n=ie(this.h,eg,2);return n=n?n.clone():new eg,t.l2Normalize!==void 0?za(n,1,t.l2Normalize):"l2Normalize"in t&&ve(n,1),t.quantize!==void 0?za(n,2,t.quantize):"quantize"in t&&ve(n,2),q(e,0,2,n),this.l(t)}Aa(t,e){return bn(this,t,e),this.embeddings}Ba(t,e,n){return mr(this,t,n,e),this.embeddings}m(){var t=new en;Ee(t,"image_in"),Ee(t,"norm_rect"),ae(t,"embeddings_out");const e=new dn;Yn(e,xk,this.h);const n=new Ft;gn(n,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),Te(n,"IMAGE:image_in"),Te(n,"NORM_RECT:norm_rect"),re(n,"EMBEDDINGS:embeddings_out"),n.o(e),_n(t,n),this.g.attachProtoListener("embeddings_out",(r,s)=>{r=fk(r),this.embeddings=function(i){return{embeddings:Fr(i,dk,1).map(o=>{var l,u;const a={headIndex:qn(Cn(o,3),0)??-1,headName:hr(o,4)??""};if($y(o,J0,od(o,1))!==void 0)o=Ys(o=ie(o,J0,od(o,1)),1,bs,Xs()),a.floatEmbedding=o.slice();else{const c=new Uint8Array(0);a.quantizedEmbedding=((u=(l=ie(o,hk,od(o,2)))==null?void 0:l.pa())==null?void 0:u.h())??c}return a}),timestampMs:qn(Xu(Ts(i,2)),0)}}(r),U(this,s)}),this.g.attachEmptyPacketListener("embeddings_out",r=>{U(this,r)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};nn.cosineSimilarity=function(t,e){if(t.floatEmbedding&&e.floatEmbedding)t=ig(t.floatEmbedding,e.floatEmbedding);else{if(!t.quantizedEmbedding||!e.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");t=ig(sg(t.quantizedEmbedding),sg(e.quantizedEmbedding))}return t},nn.prototype.embedForVideo=nn.prototype.Ba,nn.prototype.embed=nn.prototype.Aa,nn.prototype.setOptions=nn.prototype.o,nn.createFromModelPath=function(t,e){return ne(nn,t,{baseOptions:{modelAssetPath:e}})},nn.createFromModelBuffer=function(t,e){return ne(nn,t,{baseOptions:{modelAssetBuffer:e}})},nn.createFromOptions=function(t,e){return ne(nn,t,e)};var xf=class{constructor(t,e,n){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=n}close(){var t,e;(t=this.confidenceMasks)==null||t.forEach(n=>{n.close()}),(e=this.categoryMask)==null||e.close()}};function Ag(t){t.categoryMask=void 0,t.confidenceMasks=void 0,t.qualityScores=void 0}function Ng(t){try{const e=new xf(t.confidenceMasks,t.categoryMask,t.qualityScores);if(!t.j)return e;t.j(e)}finally{ch(t)}}xf.prototype.close=xf.prototype.close;var zt=class extends Zt{constructor(t,e){super(new Dn(t,e),"image_in","norm_rect",!1),this.s=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new E1,this.v=new qv,q(this.h,0,3,this.v),q(t=this.h,0,1,e=new Re)}get baseOptions(){return ie(this.h,Re,1)}set baseOptions(t){q(this.h,0,1,t)}o(t){return t.displayNamesLocale!==void 0?ve(this.h,2,Ro(t.displayNamesLocale)):"displayNamesLocale"in t&&ve(this.h,2),"outputCategoryMask"in t&&(this.outputCategoryMask=t.outputCategoryMask??!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=t.outputConfidenceMasks??!0),super.l(t)}J(){(function(t){var n,r;const e=Fr(t.ea(),Ft,1).filter(s=>hr(s,1).includes("mediapipe.tasks.TensorsToSegmentationCalculator"));if(t.s=[],e.length>1)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");e.length===1&&(((r=(n=ie(e[0],dn,7))==null?void 0:n.l())==null?void 0:r.g())??new Map).forEach((s,i)=>{t.s[Number(i)]=hr(s,1)})})(this)}segment(t,e,n){const r=typeof e!="function"?e:{};return this.j=typeof e=="function"?e:n,Ag(this),bn(this,t,r),Ng(this)}Ma(t,e,n,r){const s=typeof n!="function"?n:{};return this.j=typeof n=="function"?n:r,Ag(this),mr(this,t,s,e),Ng(this)}Ea(){return this.s}m(){var t=new en;Ee(t,"image_in"),Ee(t,"norm_rect");const e=new dn;Yn(e,Xv,this.h);const n=new Ft;gn(n,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),Te(n,"IMAGE:image_in"),Te(n,"NORM_RECT:norm_rect"),n.o(e),_n(t,n),uh(this,t),this.outputConfidenceMasks&&(ae(t,"confidence_masks"),re(n,"CONFIDENCE_MASKS:confidence_masks"),go(this,"confidence_masks"),this.g.da("confidence_masks",(r,s)=>{this.confidenceMasks=r.map(i=>vo(this,i,!0,!this.j)),U(this,s)}),this.g.attachEmptyPacketListener("confidence_masks",r=>{this.confidenceMasks=[],U(this,r)})),this.outputCategoryMask&&(ae(t,"category_mask"),re(n,"CATEGORY_MASK:category_mask"),go(this,"category_mask"),this.g.V("category_mask",(r,s)=>{this.categoryMask=vo(this,r,!1,!this.j),U(this,s)}),this.g.attachEmptyPacketListener("category_mask",r=>{this.categoryMask=void 0,U(this,r)})),ae(t,"quality_scores"),re(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(r,s)=>{this.qualityScores=r,U(this,s)}),this.g.attachEmptyPacketListener("quality_scores",r=>{this.categoryMask=void 0,U(this,r)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};zt.prototype.getLabels=zt.prototype.Ea,zt.prototype.segmentForVideo=zt.prototype.Ma,zt.prototype.segment=zt.prototype.segment,zt.prototype.setOptions=zt.prototype.o,zt.createFromModelPath=function(t,e){return ne(zt,t,{baseOptions:{modelAssetPath:e}})},zt.createFromModelBuffer=function(t,e){return ne(zt,t,{baseOptions:{modelAssetBuffer:e}})},zt.createFromOptions=function(t,e){return ne(zt,t,e)};var Ef=class{constructor(t,e,n){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=n}close(){var t,e;(t=this.confidenceMasks)==null||t.forEach(n=>{n.close()}),(e=this.categoryMask)==null||e.close()}};Ef.prototype.close=Ef.prototype.close;var Pk=class extends z{constructor(t){super(t)}},Ai=[0,We,-2],tc=[0,xr,-3,Pe,xr,-1],Og=[0,tc],Ig=[0,tc,We,-1],fd=class extends z{constructor(t){super(t)}},Mg=[0,xr,-1,Pe],Fk=class extends z{constructor(){super()}},Rg=class extends z{constructor(t){super(t)}},Cf=[1,2,3,4,5,6,7,8,9,10,14,15],h3=class extends z{constructor(){super()}};h3.prototype.g=ih([0,lt,[0,Cf,me,tc,me,[0,tc,Ai],me,Og,me,[0,Og,Ai],me,Mg,me,[0,xr,-3,Pe,Hn],me,[0,xr,-3,Pe],me,[0,he,xr,-2,Pe,We,Pe,-1,2,xr,Ai],me,Ig,me,[0,Ig,Ai],xr,Ai,he,me,[0,xr,-3,Pe,Ai,-1],me,[0,lt,Mg]],he,[0,he,We,-1,Pe]]);var ir=class extends Zt{constructor(t,e){super(new Dn(t,e),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new E1,this.s=new qv,q(this.h,0,3,this.s),q(t=this.h,0,1,e=new Re)}get baseOptions(){return ie(this.h,Re,1)}set baseOptions(t){q(this.h,0,1,t)}o(t){return"outputCategoryMask"in t&&(this.outputCategoryMask=t.outputCategoryMask??!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=t.outputConfidenceMasks??!0),super.l(t)}segment(t,e,n,r){const s=typeof n!="function"?n:{};this.j=typeof n=="function"?n:r,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,n=this.B+1,r=new h3;const i=new Rg;var o=new Pk;if(dr(o,1,255),q(i,0,12,o),e.keypoint&&e.scribble)throw Error("Cannot provide both keypoint and scribble.");if(e.keypoint){var a=new fd;za(a,3,!0),W(a,1,e.keypoint.x),W(a,2,e.keypoint.y),wa(i,5,Cf,a)}else{if(!e.scribble)throw Error("Must provide either a keypoint or a scribble.");for(a of(o=new Fk,e.scribble))za(e=new fd,3,!0),W(e,1,a.x),W(e,2,a.y),Qu(o,1,fd,e);wa(i,15,Cf,o)}Qu(r,1,Rg,i),this.g.addProtoToStream(r.g(),"drishti.RenderData","roi_in",n),bn(this,t,s);e:{try{const u=new Ef(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var l=u;break e}this.j(u)}finally{ch(this)}l=void 0}return l}m(){var t=new en;Ee(t,"image_in"),Ee(t,"roi_in"),Ee(t,"norm_rect_in");const e=new dn;Yn(e,Xv,this.h);const n=new Ft;gn(n,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),Te(n,"IMAGE:image_in"),Te(n,"ROI:roi_in"),Te(n,"NORM_RECT:norm_rect_in"),n.o(e),_n(t,n),uh(this,t),this.outputConfidenceMasks&&(ae(t,"confidence_masks"),re(n,"CONFIDENCE_MASKS:confidence_masks"),go(this,"confidence_masks"),this.g.da("confidence_masks",(r,s)=>{this.confidenceMasks=r.map(i=>vo(this,i,!0,!this.j)),U(this,s)}),this.g.attachEmptyPacketListener("confidence_masks",r=>{this.confidenceMasks=[],U(this,r)})),this.outputCategoryMask&&(ae(t,"category_mask"),re(n,"CATEGORY_MASK:category_mask"),go(this,"category_mask"),this.g.V("category_mask",(r,s)=>{this.categoryMask=vo(this,r,!1,!this.j),U(this,s)}),this.g.attachEmptyPacketListener("category_mask",r=>{this.categoryMask=void 0,U(this,r)})),ae(t,"quality_scores"),re(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(r,s)=>{this.qualityScores=r,U(this,s)}),this.g.attachEmptyPacketListener("quality_scores",r=>{this.categoryMask=void 0,U(this,r)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};ir.prototype.segment=ir.prototype.segment,ir.prototype.setOptions=ir.prototype.o,ir.createFromModelPath=function(t,e){return ne(ir,t,{baseOptions:{modelAssetPath:e}})},ir.createFromModelBuffer=function(t,e){return ne(ir,t,{baseOptions:{modelAssetBuffer:e}})},ir.createFromOptions=function(t,e){return ne(ir,t,e)};var Tn=class extends Zt{constructor(t,e){super(new Dn(t,e),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},q(t=this.h=new Yv,0,1,e=new Re)}get baseOptions(){return ie(this.h,Re,1)}set baseOptions(t){q(this.h,0,1,t)}o(t){return t.displayNamesLocale!==void 0?ve(this.h,2,Ro(t.displayNamesLocale)):"displayNamesLocale"in t&&ve(this.h,2),t.maxResults!==void 0?dr(this.h,3,t.maxResults):"maxResults"in t&&ve(this.h,3),t.scoreThreshold!==void 0?W(this.h,4,t.scoreThreshold):"scoreThreshold"in t&&ve(this.h,4),t.categoryAllowlist!==void 0?Ku(this.h,5,t.categoryAllowlist):"categoryAllowlist"in t&&ve(this.h,5),t.categoryDenylist!==void 0?Ku(this.h,6,t.categoryDenylist):"categoryDenylist"in t&&ve(this.h,6),this.l(t)}D(t,e){return this.j={detections:[]},bn(this,t,e),this.j}F(t,e,n){return this.j={detections:[]},mr(this,t,n,e),this.j}m(){var t=new en;Ee(t,"input_frame_gpu"),Ee(t,"norm_rect"),ae(t,"detections");const e=new dn;Yn(e,Ck,this.h);const n=new Ft;gn(n,"mediapipe.tasks.vision.ObjectDetectorGraph"),Te(n,"IMAGE:input_frame_gpu"),Te(n,"NORM_RECT:norm_rect"),re(n,"DETECTIONS:detections"),n.o(e),_n(t,n),this.g.attachProtoVectorListener("detections",(r,s)=>{for(const i of r)r=Ev(i),this.j.detections.push(Kv(r));U(this,s)}),this.g.attachEmptyPacketListener("detections",r=>{U(this,r)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Tn.prototype.detectForVideo=Tn.prototype.F,Tn.prototype.detect=Tn.prototype.D,Tn.prototype.setOptions=Tn.prototype.o,Tn.createFromModelPath=async function(t,e){return ne(Tn,t,{baseOptions:{modelAssetPath:e}})},Tn.createFromModelBuffer=function(t,e){return ne(Tn,t,{baseOptions:{modelAssetBuffer:e}})},Tn.createFromOptions=function(t,e){return ne(Tn,t,e)};var Af=class{constructor(t,e,n){this.landmarks=t,this.worldLandmarks=e,this.segmentationMasks=n}close(){var t;(t=this.segmentationMasks)==null||t.forEach(e=>{e.close()})}};function Dg(t){t.landmarks=[],t.worldLandmarks=[],t.segmentationMasks=void 0}function bg(t){try{const e=new Af(t.landmarks,t.worldLandmarks,t.segmentationMasks);if(!t.s)return e;t.s(e)}finally{ch(t)}}Af.prototype.close=Af.prototype.close;var rn=class extends Zt{constructor(t,e){super(new Dn(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,q(t=this.h=new Qv,0,1,e=new Re),this.v=new $v,q(this.h,0,3,this.v),this.j=new Bv,q(this.h,0,2,this.j),dr(this.j,4,1),W(this.j,2,.5),W(this.v,2,.5),W(this.h,4,.5)}get baseOptions(){return ie(this.h,Re,1)}set baseOptions(t){q(this.h,0,1,t)}o(t){return"numPoses"in t&&dr(this.j,4,t.numPoses??1),"minPoseDetectionConfidence"in t&&W(this.j,2,t.minPoseDetectionConfidence??.5),"minTrackingConfidence"in t&&W(this.h,4,t.minTrackingConfidence??.5),"minPosePresenceConfidence"in t&&W(this.v,2,t.minPosePresenceConfidence??.5),"outputSegmentationMasks"in t&&(this.outputSegmentationMasks=t.outputSegmentationMasks??!1),this.l(t)}D(t,e,n){const r=typeof e!="function"?e:{};return this.s=typeof e=="function"?e:n,Dg(this),bn(this,t,r),bg(this)}F(t,e,n,r){const s=typeof n!="function"?n:{};return this.s=typeof n=="function"?n:r,Dg(this),mr(this,t,s,e),bg(this)}m(){var t=new en;Ee(t,"image_in"),Ee(t,"norm_rect"),ae(t,"normalized_landmarks"),ae(t,"world_landmarks"),ae(t,"segmentation_masks");const e=new dn;Yn(e,Ak,this.h);const n=new Ft;gn(n,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),Te(n,"IMAGE:image_in"),Te(n,"NORM_RECT:norm_rect"),re(n,"NORM_LANDMARKS:normalized_landmarks"),re(n,"WORLD_LANDMARKS:world_landmarks"),n.o(e),_n(t,n),uh(this,t),this.g.attachProtoVectorListener("normalized_landmarks",(r,s)=>{this.landmarks=[];for(const i of r)r=gl(i),this.landmarks.push(lh(r));U(this,s)}),this.g.attachEmptyPacketListener("normalized_landmarks",r=>{this.landmarks=[],U(this,r)}),this.g.attachProtoVectorListener("world_landmarks",(r,s)=>{this.worldLandmarks=[];for(const i of r)r=ro(i),this.worldLandmarks.push(Sa(r));U(this,s)}),this.g.attachEmptyPacketListener("world_landmarks",r=>{this.worldLandmarks=[],U(this,r)}),this.outputSegmentationMasks&&(re(n,"SEGMENTATION_MASK:segmentation_masks"),go(this,"segmentation_masks"),this.g.da("segmentation_masks",(r,s)=>{this.segmentationMasks=r.map(i=>vo(this,i,!0,!this.s)),U(this,s)}),this.g.attachEmptyPacketListener("segmentation_masks",r=>{this.segmentationMasks=[],U(this,r)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};rn.prototype.detectForVideo=rn.prototype.F,rn.prototype.detect=rn.prototype.D,rn.prototype.setOptions=rn.prototype.o,rn.createFromModelPath=function(t,e){return ne(rn,t,{baseOptions:{modelAssetPath:e}})},rn.createFromModelBuffer=function(t,e){return ne(rn,t,{baseOptions:{modelAssetBuffer:e}})},rn.createFromOptions=function(t,e){return ne(rn,t,e)},rn.POSE_CONNECTIONS=c3;const Pg={VISION_URL:"https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm",MODEL_URL:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task",OPTIONS:{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task",delegate:"GPU"},numHands:1,runningMode:"IMAGE",minHandDetectionConfidence:.5,minHandPresenceConfidence:.5,minTrackingConfidence:.5}};class Gi{constructor(){this.landmarker=null,this.initializationPromise=null}static getInstance(){return Gi.instance||(Gi.instance=new Gi),Gi.instance}async initialize(){if(this.landmarker)return this.landmarker;if(this.initializationPromise)return this.initializationPromise;try{return this.initializationPromise=(async()=>{const e=await zs.forVisionTasks(Pg.VISION_URL),n=await Wt.createFromOptions(e,Pg.OPTIONS);return this.landmarker=n,n})(),await this.initializationPromise}catch(e){throw this.initializationPromise=null,new y0("Failed to initialize gesture detection",e instanceof Error?e:void 0)}}async detectHand(e){var n;try{return((n=(await(await this.initialize()).detect(e)).landmarks)==null?void 0:n[0])||null}catch(r){throw console.error("Hand detection error:",r),new y0("Failed to detect hand",r instanceof Error?r:void 0)}}}const Lk=Gi.getInstance(),kt={WRIST:0,THUMB_TIP:4,THUMB_BASE:3,INDEX_TIP:8,INDEX_BASE:7,MIDDLE_TIP:12,MIDDLE_BASE:11,RING_TIP:16,RING_BASE:15,PINKY_TIP:20,PINKY_BASE:19,PALM_BASE_LEFT:5,PALM_BASE_RIGHT:17},Fg=.02,Vk=.3,Uk=t=>{const e=t[kt.WRIST].y,n=(t[kt.PALM_BASE_LEFT].y+t[kt.PALM_BASE_RIGHT].y)/2,r=Bk(t);return{isRaised:r>Vk&&e<n,position:{x:t[kt.WRIST].x,y:t[kt.WRIST].y},confidence:r}},jk=t=>({thumb:sa(t[kt.THUMB_TIP],t[kt.THUMB_BASE],!0),index:sa(t[kt.INDEX_TIP],t[kt.INDEX_BASE]),middle:sa(t[kt.MIDDLE_TIP],t[kt.MIDDLE_BASE]),ring:sa(t[kt.RING_TIP],t[kt.RING_BASE]),pinky:sa(t[kt.PINKY_TIP],t[kt.PINKY_BASE])});function sa(t,e,n=!1){return n?e.x-t.x>Fg:e.y-t.y>Fg}function Bk(t){return t.reduce((e,n)=>e+(n.visibility||1),0)/t.length}const $k=t=>!Array.isArray(t)||t.length===0?!1:Object.values(kt).every(e=>{const n=t[e];return n&&typeof n.x=="number"&&typeof n.y=="number"&&typeof n.z=="number"&&!isNaN(n.x)&&!isNaN(n.y)&&!isNaN(n.z)}),zk=async t=>{if(!t.readyState)return{gesture:null,error:null};try{const e=await Lk.detectHand(t);if(!e||!$k(e))return{gesture:null,error:null};const n=Uk(e),r=jk(e);return{gesture:{isRaised:n.confidence>.3,isClosed:Object.values(r).every(i=>!i),position:n.position,fingers:r,confidence:n.confidence},error:null}}catch(e){return console.error("Hand detection error:",e),{gesture:null,error:e instanceof Error?e:new Error("Hand detection failed")}}},d3="14.9.17",Lg=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),Vg=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Nf=(t,e)=>({startTime:e,type:"setValue",value:t}),f3=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),p3=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),qi=t=>t.type==="exponentialRampToValue",nc=t=>t.type==="linearRampToValue",Jr=t=>qi(t)||nc(t),L1=t=>t.type==="setValue",Sr=t=>t.type==="setValueCurve",rc=(t,e,n,r)=>{const s=t[e];return s===void 0?r:Jr(s)||L1(s)?s.value:Sr(s)?s.values[s.values.length-1]:p3(n,rc(t,e-1,s.startTime,r),s)},Ug=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:Jr(n)?[n.endTime,n.value]:L1(n)?[n.startTime,n.value]:Sr(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,rc(t,e-1,n.startTime,s)],Of=t=>t.type==="cancelAndHold",If=t=>t.type==="cancelScheduledValues",Qr=t=>Of(t)||If(t)?t.cancelTime:qi(t)||nc(t)?t.endTime:t.startTime,jg=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,Bg=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),Wk=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},Gk=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return Wk(r,s)},Ql=t=>t.type==="setTarget";class qk{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Qr(e);if(Of(e)||If(e)){const r=this._automationEvents.findIndex(i=>If(e)&&Sr(i)?i.startTime+i.duration>=n:Qr(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Of(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&Jr(s)){if(i!==void 0&&Ql(i))throw new Error("The internal list is malformed.");const o=i===void 0?s.insertTime:Sr(i)?i.startTime+i.duration:Qr(i),a=i===void 0?this._defaultValue:Sr(i)?i.values[i.values.length-1]:i.value,l=qi(s)?jg(n,o,a,s):Bg(n,o,a,s),u=qi(s)?Lg(l,n,this._currenTime):Vg(l,n,this._currenTime);this._automationEvents.push(u)}if(i!==void 0&&Ql(i)&&this._automationEvents.push(Nf(this.getValue(n),n)),i!==void 0&&Sr(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),u=o/(l-1)*a,c=i.values.slice(0,l);if(u<1)for(let h=1;h<l;h+=1){const d=u*h%1;c[h]=i.values[h-1]*(1-d)+i.values[h]*d}this._automationEvents[this._automationEvents.length-1]=f3(c,i.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>Qr(o)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&Sr(s)&&Qr(s)+s.duration>n)return!1;const i=qi(e)?Lg(e.value,e.endTime,this._currenTime):nc(e)?Vg(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(Sr(e)&&n+e.duration>Qr(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Qr(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];Ql(s)&&r.unshift(Nf(rc(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>Qr(o)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&Ql(i)&&(r===void 0||!Jr(r)||r.insertTime>e))return p3(e,rc(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&L1(i)&&(r===void 0||!Jr(r)))return i.value;if(i!==void 0&&Sr(i)&&(r===void 0||!Jr(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?Gk(e,i):i.values[i.values.length-1];if(i!==void 0&&Jr(i)&&(r===void 0||!Jr(r)))return i.value;if(r!==void 0&&qi(r)){const[o,a]=Ug(this._automationEvents,s,i,r,this._defaultValue);return jg(e,o,a,r)}if(r!==void 0&&nc(r)){const[o,a]=Ug(this._automationEvents,s,i,r,this._defaultValue);return Bg(e,o,a,r)}return this._defaultValue}}const Hk=t=>({cancelTime:t,type:"cancelAndHold"}),Xk=t=>({cancelTime:t,type:"cancelScheduledValues"}),Yk=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),Qk=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),Kk=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Zk=()=>new DOMException("","AbortError"),Jk=t=>(e,n,[r,s,i],o)=>{t(e[s],[n,r,i],a=>a[0]===n&&a[1]===r,o)},e5=t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},t5=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},wo=new WeakSet,m3=new WeakMap,V1=new WeakMap,g3=new WeakMap,U1=new WeakMap,fh=new WeakMap,_3=new WeakMap,Mf=new WeakMap,Rf=new WeakMap,Df=new WeakMap,y3={construct(){return y3}},n5=t=>{try{const e=new Proxy(t,y3);new e}catch{return!1}return!0},$g=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,zg=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match($g);for(;s!==null;){const i=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match($g)}return[n.join(";"),r]},Wg=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Gg=t=>{if(!n5(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},r5=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>{let m=0;return(p,_,w={credentials:"omit"})=>{const f=c.get(p);if(f!==void 0&&f.has(_))return Promise.resolve();const g=u.get(p);if(g!==void 0){const v=g.get(_);if(v!==void 0)return v}const y=i(p),k=y.audioWorklet===void 0?s(_).then(([v,S])=>{const[x,T]=zg(v,S),C=`${x};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${T}
})})(window,'_AWGS')`;return n(C)}).then(()=>{const v=d._AWGS.pop();if(v===void 0)throw new SyntaxError;r(y.currentTime,y.sampleRate,()=>v(class{},void 0,(S,x)=>{if(S.trim()==="")throw e();const T=Rf.get(y);if(T!==void 0){if(T.has(S))throw e();Gg(x),Wg(x.parameterDescriptors),T.set(S,x)}else Gg(x),Wg(x.parameterDescriptors),Rf.set(y,new Map([[S,x]]))},y.sampleRate,void 0,void 0))}):Promise.all([s(_),Promise.resolve(t(h,h))]).then(([[v,S],x])=>{const T=m+1;m=T;const[C,E]=zg(v,S),P=`${C};((AudioWorkletProcessor,registerProcessor)=>{${E}
})(${x?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${x?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${x?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${T}',class extends AudioWorkletProcessor{process(){return !1}})`,X=new Blob([P],{type:"application/javascript; charset=utf-8"}),B=URL.createObjectURL(X);return y.audioWorklet.addModule(B,w).then(()=>{if(a(y))return y;const $=o(y);return $.audioWorklet.addModule(B,w).then(()=>$)}).then($=>{if(l===null)throw new SyntaxError;try{new l($,`__sac${T}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(B))});return g===void 0?u.set(p,new Map([[_,k]])):g.set(_,k),k.then(()=>{const v=c.get(p);v===void 0?c.set(p,new Set([_])):v.add(_)}).finally(()=>{const v=u.get(p);v!==void 0&&v.delete(_)}),k}},Xn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},ph=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},v3=(t,e,n,r)=>{const s=Xn(t,e),i=ph(s,o=>o[0]===n&&o[1]===r);return s.size===0&&t.delete(e),i},yl=t=>Xn(_3,t),To=t=>{if(wo.has(t))throw new Error("The AudioNode is already stored.");wo.add(t),yl(t).forEach(e=>e(!0))},w3=t=>"port"in t,vl=t=>{if(!wo.has(t))throw new Error("The AudioNode is not stored.");wo.delete(t),yl(t).forEach(e=>e(!1))},bf=(t,e)=>{!w3(t)&&e.every(n=>n.size===0)&&vl(t)},s5=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>{const m=new WeakMap;return(p,_,w,f,g)=>{const{activeInputs:y,passiveInputs:k}=i(_),{outputs:v}=i(p),S=a(p),x=T=>{const C=l(_),E=l(p);if(T){const N=v3(k,p,w,f);t(y,p,N,!1),!g&&!h(p)&&n(E,C,w,f),d(_)&&To(_)}else{const N=r(y,p,w,f);e(k,f,N,!1),!g&&!h(p)&&s(E,C,w,f);const A=o(_);if(A===0)c(_)&&bf(_,y);else{const b=m.get(_);b!==void 0&&clearTimeout(b),m.set(_,setTimeout(()=>{c(_)&&bf(_,y)},A*1e3))}}};return u(v,[_,w,f],T=>T[0]===_&&T[1]===w&&T[2]===f,!0)?(S.add(x),c(p)?t(y,p,[w,f,x],!0):e(k,f,[p,w,x],!0),!0):!1}},i5=t=>(e,n,[r,s,i],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[s,n,i]])):t(a,[s,n,i],l=>l[0]===s&&l[1]===n,o)},o5=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},a5=t=>(e,n)=>{t(e).add(n)},l5={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},u5=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...l5,...l},h=r(u,c),d=i(u)?e():null;super(a,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Nt=(t,e)=>t.context===e,c5=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Nt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},sc=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},gr=()=>new DOMException("","IndexSizeError"),j1=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?gr():r}})(t.getChannelData)},h5={numberOfChannels:1},d5=(t,e,n,r,s,i,o,a)=>{let l=null;return class T3{constructor(c){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:m}={...h5,...c};l===null&&(l=new s(1,1,44100));const p=r!==null&&e(i,i)?new r({length:h,numberOfChannels:d,sampleRate:m}):l.createBuffer(d,h,m);if(p.numberOfChannels===0)throw n();return typeof p.copyFromChannel!="function"?(o(p),j1(p)):e(sc,()=>sc(p))||a(p),t.add(p),p}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===T3.prototype||t.has(c)}}},qt=-34028234663852886e22,Rt=-qt,Mr=t=>wo.has(t),f5={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},p5=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...f5,...c},m=s(h,d),p=o(h),_=p?e():null;super(u,!1,m,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=m,this._onended=null,this._playbackRate=n(this,p,m.playbackRate,Rt,qt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?u:h}get playbackRate(){return this._playbackRate}start(u=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(u,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,c]:[u,c,h]),this.context.state!=="closed"){To(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),Mr(this)&&vl(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},m5=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Nt(h,c);if(!d){const m={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,m),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.playbackRate,h.playbackRate):await r(c,u.playbackRate,h.playbackRate),await s(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},g5=t=>"playbackRate"in t,_5=t=>"frequency"in t&&"gain"in t,y5=t=>"offset"in t,v5=t=>!("frequency"in t)&&"gain"in t,w5=t=>"detune"in t&&"frequency"in t&&!("gain"in t),T5=t=>"pan"in t,Dt=t=>Xn(m3,t),wl=t=>Xn(g3,t),Pf=(t,e)=>{const{activeInputs:n}=Dt(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||Pf(i,[...e,t])}));const r=g5(t)?[t.playbackRate]:w3(t)?Array.from(t.parameters.values()):_5(t)?[t.Q,t.detune,t.frequency,t.gain]:y5(t)?[t.offset]:v5(t)?[t.gain]:w5(t)?[t.detune,t.frequency]:T5(t)?[t.pan]:[];for(const s of r){const i=wl(s);i!==void 0&&i.activeInputs.forEach(([o])=>Pf(o,e))}Mr(t)&&vl(t)},S3=t=>{Pf(t.destination,[])},S5=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),k5=(t,e,n,r,s,i,o,a,l)=>class extends t{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(c)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?n():p}if(h===null)throw r();if(!S5(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:d}=c,{sampleRate:m}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/m:d==="interactive"||d===void 0?256/m:d==="playback"?1024/m:Math.max(2,Math.min(128,Math.round(d*m/128)))*128/m,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const p=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",p)};h.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),S3(this)}))}createMediaElementSource(c){return new s(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new o(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},x5=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=o(h),m=s(h,c,d),p=d?e(a):null;super(u,!1,m,p),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=m}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},E5=t=>{const e=new WeakMap,n=async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i};return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},C5=(t,e,n,r,s,i,o,a)=>(l,u)=>{const c=u.listener,h=()=>{const v=new Float32Array(1),S=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),x=o(u);let T=!1,C=[0,0,-1,0,1,0],E=[0,0,0];const N=()=>{if(T)return;T=!0;const X=r(u,256,9,0);X.onaudioprocess=({inputBuffer:B})=>{const $=[i(B,v,0),i(B,v,1),i(B,v,2),i(B,v,3),i(B,v,4),i(B,v,5)];$.some((M,D)=>M!==C[D])&&(c.setOrientation(...$),C=$);const O=[i(B,v,6),i(B,v,7),i(B,v,8)];O.some((M,D)=>M!==E[D])&&(c.setPosition(...O),E=O)},S.connect(X)},A=X=>B=>{B!==C[X]&&(C[X]=B,c.setOrientation(...C))},b=X=>B=>{B!==E[X]&&(E[X]=B,c.setPosition(...E))},P=(X,B,$)=>{const O=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:B});O.connect(S,0,X),O.start(),Object.defineProperty(O.offset,"defaultValue",{get(){return B}});const M=t({context:l},x,O.offset,Rt,qt);return a(M,"value",D=>()=>D.call(M),D=>L=>{try{D.call(M,L)}catch(Y){if(Y.code!==9)throw Y}N(),x&&$(L)}),M.cancelAndHoldAtTime=(D=>x?()=>{throw s()}:(...L)=>{const Y=D.apply(M,L);return N(),Y})(M.cancelAndHoldAtTime),M.cancelScheduledValues=(D=>x?()=>{throw s()}:(...L)=>{const Y=D.apply(M,L);return N(),Y})(M.cancelScheduledValues),M.exponentialRampToValueAtTime=(D=>x?()=>{throw s()}:(...L)=>{const Y=D.apply(M,L);return N(),Y})(M.exponentialRampToValueAtTime),M.linearRampToValueAtTime=(D=>x?()=>{throw s()}:(...L)=>{const Y=D.apply(M,L);return N(),Y})(M.linearRampToValueAtTime),M.setTargetAtTime=(D=>x?()=>{throw s()}:(...L)=>{const Y=D.apply(M,L);return N(),Y})(M.setTargetAtTime),M.setValueAtTime=(D=>x?()=>{throw s()}:(...L)=>{const Y=D.apply(M,L);return N(),Y})(M.setValueAtTime),M.setValueCurveAtTime=(D=>x?()=>{throw s()}:(...L)=>{const Y=D.apply(M,L);return N(),Y})(M.setValueCurveAtTime),M};return{forwardX:P(0,0,A(0)),forwardY:P(1,0,A(1)),forwardZ:P(2,-1,A(2)),positionX:P(6,0,b(0)),positionY:P(7,0,b(1)),positionZ:P(8,0,b(2)),upX:P(3,0,A(3)),upY:P(4,1,A(4)),upZ:P(5,0,A(5))}},{forwardX:d,forwardY:m,forwardZ:p,positionX:_,positionY:w,positionZ:f,upX:g,upY:y,upZ:k}=c.forwardX===void 0?h():c;return{get forwardX(){return d},get forwardY(){return m},get forwardZ(){return p},get positionX(){return _},get positionY(){return w},get positionZ(){return f},get upX(){return g},get upY(){return y},get upZ(){return k}}},ic=t=>"context"in t,Tl=t=>ic(t[0]),wi=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},qg=(t,e,[n,r],s)=>{wi(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},Hg=(t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):wi(i,[n,r],o=>o[0]===n,s)},Uo=t=>"inputs"in t,oc=(t,e,n,r)=>{if(Uo(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},k3=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},A5=(t,e,n)=>ph(t,r=>r[0]===e&&r[1]===n),x3=(t,e)=>{if(!yl(t).delete(e))throw new Error("Missing the expected event listener.")},E3=(t,e,n)=>{const r=Xn(t,e),s=ph(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},ac=(t,e,n,r)=>{Uo(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Ce=t=>Xn(V1,t),qa=t=>Xn(U1,t),hi=t=>Mf.has(t),vu=t=>!wo.has(t),Xg=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(s),a.disconnect(s),r.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),pd=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},lc=t=>"context"in t,N5=t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const o=lc(r)?n(r,s,i):n(r,s),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:s}]):a.every(l=>l.input!==i||l.output!==s)&&a.push({input:i,output:s}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(s===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==s&&(l.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{lc(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},O5=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=wl(e),{outputs:o}=Dt(t),a=yl(t),l=u=>{const c=Ce(t),h=qa(e);if(u){const d=E3(i,t,n);qg(s,t,d,!1),!r&&!hi(t)&&c.connect(h,n)}else{const d=A5(s,t,n);Hg(i,d,!1),!r&&!hi(t)&&c.disconnect(h,n)}};return wi(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),Mr(t)?qg(s,t,[n,l],!0):Hg(i,[t,n,l],!0),!0):!1},I5=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=Dt(e),o=k3(s[r],t,n);return o===null?[v3(i,t,n,r)[2],!1]:[o[2],!0]},M5=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=wl(e),i=k3(r,t,n);return i===null?[E3(s,t,n)[1],!1]:[i[2],!0]},B1=(t,e,n,r,s)=>{const[i,o]=I5(t,n,r,s);if(i!==null&&(x3(t,i),o&&!e&&!hi(t)&&ac(Ce(t),Ce(n),r,s)),Mr(n)){const{activeInputs:a}=Dt(n);bf(n,a)}},$1=(t,e,n,r)=>{const[s,i]=M5(t,n,r);s!==null&&(x3(t,s),i&&!e&&!hi(t)&&Ce(t).disconnect(qa(n),r))},R5=(t,e)=>{const n=Dt(t),r=[];for(const s of n.outputs)Tl(s)?B1(t,e,...s):$1(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},D5=(t,e,n)=>{const r=Dt(t),s=[];for(const i of r.outputs)i[1]===n&&(Tl(i)?B1(t,e,...i):$1(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},b5=(t,e,n,r,s)=>{const i=Dt(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(s===void 0||o[2]===s)).map(o=>(Tl(o)?B1(t,e,...o):$1(t,e,...o),i.outputs.delete(o),o[0]))},P5=(t,e,n,r,s,i,o,a,l,u,c,h,d,m,p,_)=>class extends u{constructor(f,g,y,k){super(y),this._context=f,this._nativeAudioNode=y;const v=c(f);h(v)&&n(Xg,()=>Xg(v,_))!==!0&&N5(y),V1.set(this,y),_3.set(this,new Set),f.state!=="closed"&&g&&To(this),t(this,k,y)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(f){this._nativeAudioNode.channelCount=f}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(f){this._nativeAudioNode.channelCountMode=f}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(f){this._nativeAudioNode.channelInterpretation=f}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(f,g=0,y=0){if(g<0||g>=this._nativeAudioNode.numberOfOutputs)throw s();const k=c(this._context),v=p(k);if(d(f)||m(f))throw i();if(ic(f)){const T=Ce(f);try{const E=oc(this._nativeAudioNode,T,g,y),N=vu(this);(v||N)&&this._nativeAudioNode.disconnect(...E),this.context.state!=="closed"&&!N&&vu(f)&&To(f)}catch(E){throw E.code===12?i():E}if(e(this,f,g,y,v)){const E=l([this],f);pd(E,r(v))}return f}const S=qa(f);if(S.name==="playbackRate"&&S.maxValue===1024)throw o();try{this._nativeAudioNode.connect(S,g),(v||vu(this))&&this._nativeAudioNode.disconnect(S,g)}catch(T){throw T.code===12?i():T}if(O5(this,f,g,v)){const T=l([this],f);pd(T,r(v))}}disconnect(f,g,y){let k;const v=c(this._context),S=p(v);if(f===void 0)k=R5(this,S);else if(typeof f=="number"){if(f<0||f>=this.numberOfOutputs)throw s();k=D5(this,S,f)}else{if(g!==void 0&&(g<0||g>=this.numberOfOutputs)||ic(f)&&y!==void 0&&(y<0||y>=f.numberOfInputs))throw s();if(k=b5(this,S,f,g,y),k.length===0)throw i()}for(const x of k){const T=l([this],x);pd(T,a)}}},F5=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>(m,p,_,w=null,f=null)=>{const g=_.value,y=new qk(g),k=p?r(y):null,v={get defaultValue(){return g},get maxValue(){return w===null?_.maxValue:w},get minValue(){return f===null?_.minValue:f},get value(){return _.value},set value(S){_.value=S,v.setValueAtTime(S,m.context.currentTime)},cancelAndHoldAtTime(S){if(typeof _.cancelAndHoldAtTime=="function")k===null&&y.flush(m.context.currentTime),y.add(s(S)),_.cancelAndHoldAtTime(S);else{const x=Array.from(y).pop();k===null&&y.flush(m.context.currentTime),y.add(s(S));const T=Array.from(y).pop();_.cancelScheduledValues(S),x!==T&&T!==void 0&&(T.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(T.value,T.endTime):T.type==="linearRampToValue"?_.linearRampToValueAtTime(T.value,T.endTime):T.type==="setValue"?_.setValueAtTime(T.value,T.startTime):T.type==="setValueCurve"&&_.setValueCurveAtTime(T.values,T.startTime,T.duration))}return v},cancelScheduledValues(S){return k===null&&y.flush(m.context.currentTime),y.add(i(S)),_.cancelScheduledValues(S),v},exponentialRampToValueAtTime(S,x){if(S===0)throw new RangeError;if(!Number.isFinite(x)||x<0)throw new RangeError;const T=m.context.currentTime;return k===null&&y.flush(T),Array.from(y).length===0&&(y.add(u(g,T)),_.setValueAtTime(g,T)),y.add(o(S,x)),_.exponentialRampToValueAtTime(S,x),v},linearRampToValueAtTime(S,x){const T=m.context.currentTime;return k===null&&y.flush(T),Array.from(y).length===0&&(y.add(u(g,T)),_.setValueAtTime(g,T)),y.add(a(S,x)),_.linearRampToValueAtTime(S,x),v},setTargetAtTime(S,x,T){return k===null&&y.flush(m.context.currentTime),y.add(l(S,x,T)),_.setTargetAtTime(S,x,T),v},setValueAtTime(S,x){return k===null&&y.flush(m.context.currentTime),y.add(u(S,x)),_.setValueAtTime(S,x),v},setValueCurveAtTime(S,x,T){const C=S instanceof Float32Array?S:new Float32Array(S);if(h!==null&&h.name==="webkitAudioContext"){const E=x+T,N=m.context.sampleRate,A=Math.ceil(x*N),b=Math.floor(E*N),P=b-A,X=new Float32Array(P);for(let $=0;$<P;$+=1){const O=(C.length-1)/T*((A+$)/N-x),M=Math.floor(O),D=Math.ceil(O);X[$]=M===D?C[M]:(1-(O-M))*C[M]+(1-(D-O))*C[D]}k===null&&y.flush(m.context.currentTime),y.add(c(X,x,T)),_.setValueCurveAtTime(X,x,T);const B=b/N;B<E&&d(v,X[X.length-1],B),d(v,C[C.length-1],E)}else k===null&&y.flush(m.context.currentTime),y.add(c(C,x,T)),_.setValueCurveAtTime(C,x,T);return v}};return n.set(v,_),e.set(v,m),t(v,k),v},L5=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}});class C3{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const V5={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},U5=(t,e,n,r,s,i,o,a,l,u,c,h,d,m)=>class extends e{constructor(_,w,f){var g;const y=a(_),k=l(y),v=c({...V5,...f});d(v);const S=Rf.get(y),x=S==null?void 0:S.get(w),T=k||y.state!=="closed"?y:(g=o(y))!==null&&g!==void 0?g:y,C=s(T,k?null:_.baseLatency,u,w,x,v),E=k?r(w,v,x):null;super(_,!0,C,E);const N=[];C.parameters.forEach((b,P)=>{const X=n(this,k,b);N.push([P,X])}),this._nativeAudioWorkletNode=C,this._onprocessorerror=null,this._parameters=new C3(N),k&&t(y,this);const{activeInputs:A}=i(this);h(C,A)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(_){const w=typeof _=="function"?m(this,_):null;this._nativeAudioWorkletNode.onprocessorerror=w;const f=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=f!==null&&f===w?_:f}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function uc(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const o=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const A3=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},cc=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let o=0;o<i;o+=1)s.push(new Float32Array(128));n.push(s)}return n},j5=(t,e)=>{const n=Xn(Df,t),r=Ce(e);return Xn(n,r)},B5=async(t,e,n,r,s,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,u=s.reduce((w,f)=>w+f,0),c=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=Dt(t),d=await j5(n,t),m=cc(r.numberOfInputs,r.channelCount),p=cc(r.numberOfOutputs,s),_=Array.from(t.parameters.keys()).reduce((w,f)=>({...w,[f]:new Float32Array(128)}),{});for(let w=0;w<a;w+=128){if(r.numberOfInputs>0&&e!==null)for(let f=0;f<r.numberOfInputs;f+=1)for(let g=0;g<r.channelCount;g+=1)uc(e,m[f],g,g,w);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:f},g)=>{uc(e,_,f,l+g,w)});for(let f=0;f<r.numberOfInputs;f+=1)for(let g=0;g<s[f];g+=1)p[f][g].byteLength===0&&(p[f][g]=new Float32Array(128));try{const f=m.map((y,k)=>h.activeInputs[k].size===0?[]:y),g=o(w/n.sampleRate,n.sampleRate,()=>d.process(f,p,_));if(c!==null)for(let y=0,k=0;y<r.numberOfOutputs;y+=1){for(let v=0;v<s[y];v+=1)A3(c,p[y],v,k+v,w);k+=s[y]}if(!g)break}catch(f){t.dispatchEvent(new ErrorEvent("processorerror",{colno:f.colno,filename:f.filename,lineno:f.lineno,message:f.message}));break}}return c},$5=(t,e,n,r,s,i,o,a,l,u,c,h,d,m,p,_)=>(w,f,g)=>{const y=new WeakMap;let k=null;const v=async(S,x)=>{let T=c(S),C=null;const E=Nt(T,x),N=Array.isArray(f.outputChannelCount)?f.outputChannelCount:Array.from(f.outputChannelCount);if(h===null){const A=N.reduce((B,$)=>B+$,0),b=s(x,{channelCount:Math.max(1,A),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,A)}),P=[];for(let B=0;B<S.numberOfOutputs;B+=1)P.push(r(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[B]}));const X=o(x,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});X.connect=e.bind(null,P),X.disconnect=l.bind(null,P),C=[b,P,X]}else E||(T=new h(x,w));if(y.set(x,C===null?T:C[2]),C!==null){if(k===null){if(g===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const $=S.channelCount*S.numberOfInputs,O=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length,M=$+O;k=B5(S,M===0?null:await(async()=>{const L=new d(M,Math.ceil(S.context.length/128)*128,x.sampleRate),Y=[],dt=[];for(let oe=0;oe<f.numberOfInputs;oe+=1)Y.push(o(L,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1})),dt.push(s(L,{channelCount:f.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:f.channelCount}));const Ge=await Promise.all(Array.from(S.parameters.values()).map(async oe=>{const et=i(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:oe.value});return await m(L,oe,et.offset),et})),J=r(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,$+O)});for(let oe=0;oe<f.numberOfInputs;oe+=1){Y[oe].connect(dt[oe]);for(let et=0;et<f.channelCount;et+=1)dt[oe].connect(J,et,oe*f.channelCount+et)}for(const[oe,et]of Ge.entries())et.connect(J,0,$+oe),et.start(0);return J.connect(L.destination),await Promise.all(Y.map(oe=>p(S,L,oe))),_(L)})(),x,f,N,g,u)}const A=await k,b=n(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[P,X,B]=C;A!==null&&(b.buffer=A,b.start(0)),b.connect(P);for(let $=0,O=0;$<S.numberOfOutputs;$+=1){const M=X[$];for(let D=0;D<N[$];D+=1)P.connect(M,O+D,D);O+=N[$]}return B}if(E)for(const[A,b]of S.parameters.entries())await t(x,b,T.parameters.get(A));else for(const[A,b]of S.parameters.entries())await m(x,b,T.parameters.get(A));return await p(S,x,T),T};return{render(S,x){a(x,S);const T=y.get(x);return T!==void 0?Promise.resolve(T):v(S,x)}}},z5=(t,e,n,r,s,i,o,a,l,u,c,h,d,m,p,_,w,f,g,y)=>class extends p{constructor(v,S){super(v,S),this._nativeContext=v,this._audioWorklet=t===void 0?void 0:{addModule:(x,T)=>t(this,x,T)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(v,S,x){return new n({length:S,numberOfChannels:v,sampleRate:x})}createBufferSource(){return new r(this)}createChannelMerger(v=6){return new i(this,{numberOfInputs:v})}createChannelSplitter(v=6){return new o(this,{numberOfOutputs:v})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(v=1){return new c(this,{maxDelayTime:v})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(v,S){return new m(this,{feedback:S,feedforward:v})}createOscillator(){return new _(this)}createPanner(){return new w(this)}createPeriodicWave(v,S,x={disableNormalization:!1}){return new f(this,{...x,imag:S,real:v})}createStereoPanner(){return new g(this)}createWaveShaper(){return new y(this)}decodeAudioData(v,S,x){return u(this._nativeContext,v).then(T=>(typeof S=="function"&&S(T),T),T=>{throw typeof x=="function"&&x(T),T})}},W5={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},G5=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...W5,...c},m=s(h,d),p=o(h),_=p?n():null;super(u,!1,m,_),this._Q=e(this,p,m.Q,Rt,qt),this._detune=e(this,p,m.detune,1200*Math.log2(Rt),-1200*Math.log2(Rt)),this._frequency=e(this,p,m.frequency,u.sampleRate/2,0),this._gain=e(this,p,m.gain,40*Math.log10(Rt),qt),this._nativeBiquadFilterNode=m,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,h)}catch(d){throw d.code===11?r():d}if(u.length!==c.length||c.length!==h.length)throw r()}},q5=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Nt(u,l);if(!c){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,h)}return i.set(l,u),c?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await r(l,a.Q,u.Q),await r(l,a.detune,u.detune),await r(l,a.frequency,u.frequency),await r(l,a.gain,u.gain)),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},H5=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},X5={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Y5=(t,e,n,r,s)=>class extends t{constructor(o,a){const l=r(o),u={...X5,...a},c=n(l,u),h=s(l)?e():null;super(o,!1,c,h)}},Q5=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Nt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},K5={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Z5=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c=i({...K5,...l}),h=n(u,c),d=s(u)?e():null;super(a,!1,h,d)}},J5=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Nt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},e6=t=>(e,n,r)=>t(n,e,r),t6=t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return lc(n)?i.connect(n,0,s):i.connect(n,0)},n6=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},r6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},s6=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...r6,...u},d=r(c,h),m=i(c),p=m?n():null;super(l,!1,d,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=d,this._offset=e(this,m,d.offset,Rt,qt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?l:c}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){To(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),Mr(this)&&vl(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},i6=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Nt(h,c);if(!d){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,m),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.offset,h.offset):await r(c,u.offset,h.offset),await s(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},o6=t=>e=>(t[0]=e,t[0]),a6={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},l6=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c={...a6,...l},h=n(u,c),m=s(u)?e():null;super(a,!1,h,m),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},u6=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Nt(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return r.set(o,a),Uo(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},c6=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw i.name==="SyntaxError"?t():i}},h6=()=>new DOMException("","DataCloneError"),Yg=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},d6=(t,e,n,r,s,i,o,a,l,u,c)=>(h,d)=>{const m=o(h)?h:i(h);if(s.has(d)){const p=n();return Promise.reject(p)}try{s.add(d)}catch{}return e(l,()=>l(m))?m.decodeAudioData(d).then(p=>(Yg(d).catch(()=>{}),e(a,()=>a(p))||c(p),t.add(p),p)):new Promise((p,_)=>{const w=async()=>{try{await Yg(d)}catch{}},f=g=>{_(g),w()};try{m.decodeAudioData(d,g=>{typeof g.copyFromChannel!="function"&&(u(g),j1(g)),t.add(g),w().then(()=>p(g))},g=>{f(g===null?r():g)})}catch(g){f(g)}})},f6=(t,e,n,r,s,i,o,a)=>(l,u)=>{const c=e.get(l);if(c===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const m=r(l),{outputs:p}=n(l);for(const _ of p)if(Tl(_)){const w=r(_[0]);t(m,w,_[1],_[2])}else{const w=s(_[0]);m.connect(w,_[1])}}}else e.set(l,c-u)},p6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},m6=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...p6,...u},d=r(c,h),m=i(c),p=m?n(h.maxDelayTime):null;super(l,!1,d,p),this._delayTime=e(this,m,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},g6=(t,e,n,r,s)=>i=>{const o=new WeakMap,a=async(l,u)=>{let c=n(l);const h=Nt(c,u);if(!h){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:i};c=e(u,d)}return o.set(u,c),h?await t(u,l.delayTime,c.delayTime):await r(u,l.delayTime,c.delayTime),await s(l,u,c),c};return{render(l,u){const c=o.get(u);return c!==void 0?Promise.resolve(c):a(l,u)}}},_6=t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),y6=t=>(e,n)=>{t(e).delete(n)},v6=t=>"delayTime"in t,w6=(t,e,n)=>function r(s,i){const o=ic(i)?i:n(t,i);if(v6(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...s,o],l[0])).reduce((l,u)=>l.concat(u),[])},Kl=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},T6=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?Kl(t,e,n).disconnect():lc(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?Kl(t,e,r).disconnect(n,0):Kl(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):Kl(t,e,r).disconnect(n,0),S6={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},k6=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...S6,...c},m=r(h,d),p=o(h),_=p?n():null;super(u,!1,m,_),this._attack=e(this,p,m.attack),this._knee=e(this,p,m.knee),this._nativeDynamicsCompressorNode=m,this._ratio=e(this,p,m.ratio),this._release=e(this,p,m.release),this._threshold=e(this,p,m.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},x6=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Nt(u,l);if(!c){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,h)}return i.set(l,u),c?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await r(l,a.attack,u.attack),await r(l,a.knee,u.knee),await r(l,a.ratio,u.ratio),await r(l,a.release,u.release),await r(l,a.threshold,u.threshold)),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},E6=()=>new DOMException("","EncodingError"),C6=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(c,h,d,m,p)=>{if(h===a||h===t.location.href&&d===1&&m===1)return u(),r(p),!1;if(l!==null)return l(c,h,d,m,p)},i.onerror=()=>{u(),r(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",s.appendChild(i)}}),A6=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},N6=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},O6=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},I6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},M6=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...I6,...l},h=r(u,c),d=i(u),m=d?n():null;super(a,!1,h,m),this._gain=e(this,d,h.gain,Rt,qt)}get gain(){return this._gain}},R6=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Nt(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.gain,u.gain):await r(l,a.gain,u.gain),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},D6=(t,e)=>n=>e(t,n),b6=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},P6=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},F6=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},L6=t=>e=>t.get(e),gt=()=>new DOMException("","InvalidStateError"),V6=t=>e=>{const n=t.get(e);if(n===void 0)throw gt();return n},U6=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},j6=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},mh=()=>new DOMException("","InvalidAccessError"),B6=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw mh();return e.call(t,n,r,s)})(t.getFrequencyResponse)},$6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},z6=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c=s(u),h={...$6,...l},d=e(u,c?null:a.baseLatency,h),m=c?n(h.feedback,h.feedforward):null;super(a,!1,d,m),B6(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},N3=(t,e,n,r,s,i,o,a,l,u,c)=>{const h=u.length;let d=a;for(let m=0;m<h;m+=1){let p=n[0]*u[m];for(let _=1;_<s;_+=1){const w=d-_&l-1;p+=n[_]*i[w],p-=t[_]*o[w]}for(let _=s;_<r;_+=1)p+=n[_]*i[d-_&l-1];for(let _=s;_<e;_+=1)p-=t[_]*o[d-_&l-1];i[d]=u[m],o[d]=p,d=d+1&l-1,c[m]=p}return d},W6=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),o=s.length,a=i.length,l=Math.min(o,a);if(s[0]!==1){for(let p=0;p<o;p+=1)i[p]/=s[0];for(let p=1;p<a;p+=1)s[p]/=s[0]}const u=32,c=new Float32Array(u),h=new Float32Array(u),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),m=t.numberOfChannels;for(let p=0;p<m;p+=1){const _=t.getChannelData(p),w=d.getChannelData(p);c.fill(0),h.fill(0),N3(s,o,i,a,l,c,h,0,u,_,w)}return d},G6=(t,e,n,r,s)=>(i,o)=>{const a=new WeakMap;let l=null;const u=async(c,h)=>{let d=null,m=e(c);const p=Nt(m,h);if(h.createIIRFilter===void 0?d=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(m=h.createIIRFilter(o,i)),a.set(h,d===null?m:d),d!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const w=new n(c.context.destination.channelCount,c.context.length,h.sampleRate);l=(async()=>{await r(c,w,w.destination);const f=await s(w);return W6(f,h,i,o)})()}const _=await l;return d.buffer=_,d.start(0),d}return await r(c,h,m),m};return{render(c,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},q6=(t,e,n,r,s,i)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&i(a)){const c=r(a),{outputs:h}=n(a);for(const d of h)if(Tl(d)){const m=r(d[0]);e(c,m,d[1],d[2])}else{const m=s(d[0]);c.disconnect(m,d[1])}}t.set(a,l)}else t.set(a,u+l)},H6=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},X6=(t,e)=>n=>t.has(n)||e(n),Y6=(t,e)=>n=>t.has(n)||e(n),Q6=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},K6=t=>e=>t!==null&&e instanceof t,Z6=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,J6=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,ex=(t,e)=>n=>t(n)||e(n),tx=t=>e=>t!==null&&e instanceof t,nx=t=>t!==null&&t.isSecureContext,rx=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},sx={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},ix=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i);if(r(a))throw new TypeError;const l={...sx,...o},u=e(a,l);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},ox=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},ax=(t,e,n)=>class extends t{constructor(s,i){const o=n(s),a=e(o,i);super(s,!0,a,null)}},lx=(t,e,n,r,s,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,fh.set(this,a),r(a)&&s.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Ha=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},ux=(t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const c=i.size===0;if(e(a))return o.call(n,a,l,u),t(i,[a,l,u],h=>h[0]===a&&h[1]===l&&h[2]===u,!0),c&&r(),a;o.call(n,a,l),t(i,[a,l],h=>h[0]===a&&h[1]===l,!0),c&&r()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const c=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const d of i)d[1]===a&&i.delete(d)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const d of i)d[0]===a&&(l===void 0||d[1]===l)&&(u===void 0||d[2]===u)&&i.delete(d)}const h=i.size===0;c&&h&&s()})(n.disconnect),n},Oe=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},ht=(t,e)=>{Oe(t,e,"channelCount"),Oe(t,e,"channelCountMode"),Oe(t,e,"channelInterpretation")},Qg=t=>typeof t.getFloatTimeDomainData=="function",cx=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},hx=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(ht(s,r),!(r.maxDecibels>r.minDecibels))throw e();return Oe(s,r,"fftSize"),Oe(s,r,"maxDecibels"),Oe(s,r,"minDecibels"),Oe(s,r,"smoothingTimeConstant"),t(Qg,()=>Qg(s))||cx(s),s},dx=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,ze=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},fx=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw gt();e.call(t,r,s,i),n=!0}})(t.start)},z1=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},W1=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},px=(t,e,n,r,s,i,o,a,l,u,c)=>(h,d)=>{const m=h.createBufferSource();return ht(m,d),ze(m,d,"playbackRate"),Oe(m,d,"buffer"),Oe(m,d,"loop"),Oe(m,d,"loopEnd"),Oe(m,d,"loopStart"),e(n,()=>n(h))||fx(m),e(r,()=>r(h))||l(m),e(s,()=>s(h))||u(m,h),e(i,()=>i(h))||z1(m),e(o,()=>o(h))||c(m,h),e(a,()=>a(h))||W1(m),t(h,m),m},mx=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,gx=(t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(u){if(l>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},_x=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,yx=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},vx=(t,e,n,r,s)=>(i,o,a,l,u,c)=>{if(a!==null)try{const h=new a(i,l,c),d=new Map;let m=null;if(Object.defineProperties(h,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>m,set:p=>{typeof m=="function"&&h.removeEventListener("processorerror",m),m=typeof p=="function"?p:null,typeof m=="function"&&h.addEventListener("processorerror",m)}}}),h.addEventListener=(p=>(..._)=>{if(_[0]==="processorerror"){const w=typeof _[1]=="function"?_[1]:typeof _[1]=="object"&&_[1]!==null&&typeof _[1].handleEvent=="function"?_[1].handleEvent:null;if(w!==null){const f=d.get(_[1]);f!==void 0?_[1]=f:(_[1]=g=>{g.type==="error"?(Object.defineProperties(g,{type:{value:"processorerror"}}),w(g)):w(new ErrorEvent(_[0],{...g}))},d.set(w,_[1]))}}return p.call(h,"error",_[1],_[2]),p.call(h,..._)})(h.addEventListener),h.removeEventListener=(p=>(..._)=>{if(_[0]==="processorerror"){const w=d.get(_[1]);w!==void 0&&(d.delete(_[1]),_[1]=w)}return p.call(h,"error",_[1],_[2]),p.call(h,_[0],_[1],_[2])})(h.removeEventListener),c.numberOfOutputs!==0){const p=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(p).connect(i.destination),s(h,()=>p.disconnect(),()=>p.connect(i.destination))}return h}catch(h){throw h.code===11?r():h}if(u===void 0)throw r();return yx(c),e(i,o,u,c)},O3=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),wx=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),Tx=async(t,e)=>{const n=await wx(e);return new t(n)},Sx=(t,e,n,r)=>{let s=Df.get(t);s===void 0&&(s=new WeakMap,Df.set(t,s));const i=Tx(n,r);return s.set(e,i),i},kx=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>(m,p,_,w)=>{if(w.numberOfInputs===0&&w.numberOfOutputs===0)throw l();const f=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(f.some(F=>F<1))throw l();if(f.length!==w.numberOfOutputs)throw e();if(w.channelCountMode!=="explicit")throw l();const g=w.channelCount*w.numberOfInputs,y=f.reduce((F,Q)=>F+Q,0),k=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length;if(g+k>6||y>6)throw l();const v=new MessageChannel,S=[],x=[];for(let F=0;F<w.numberOfInputs;F+=1)S.push(o(m,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),x.push(s(m,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const T=[];if(_.parameterDescriptors!==void 0)for(const{defaultValue:F,maxValue:Q,minValue:it,name:De}of _.parameterDescriptors){const le=i(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:w.parameterData[De]!==void 0?w.parameterData[De]:F===void 0?0:F});Object.defineProperties(le.offset,{defaultValue:{get:()=>F===void 0?0:F},maxValue:{get:()=>Q===void 0?Rt:Q},minValue:{get:()=>it===void 0?qt:it}}),T.push(le)}const C=r(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,g+k)}),E=O3(p,m.sampleRate),N=a(m,E,g+k,Math.max(1,y)),A=s(m,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),b=[];for(let F=0;F<w.numberOfOutputs;F+=1)b.push(r(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:f[F]}));for(let F=0;F<w.numberOfInputs;F+=1){S[F].connect(x[F]);for(let Q=0;Q<w.channelCount;Q+=1)x[F].connect(C,Q,F*w.channelCount+Q)}const P=new C3(_.parameterDescriptors===void 0?[]:_.parameterDescriptors.map(({name:F},Q)=>{const it=T[Q];return it.connect(C,0,g+Q),it.start(0),[F,it.offset]}));C.connect(N);let X=w.channelInterpretation,B=null;const $=w.numberOfOutputs===0?[N]:b,O={get bufferSize(){return E},get channelCount(){return w.channelCount},set channelCount(F){throw n()},get channelCountMode(){return w.channelCountMode},set channelCountMode(F){throw n()},get channelInterpretation(){return X},set channelInterpretation(F){for(const Q of S)Q.channelInterpretation=F;X=F},get context(){return N.context},get inputs(){return S},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},get onprocessorerror(){return B},set onprocessorerror(F){typeof B=="function"&&O.removeEventListener("processorerror",B),B=typeof F=="function"?F:null,typeof B=="function"&&O.addEventListener("processorerror",B)},get parameters(){return P},get port(){return v.port2},addEventListener(...F){return N.addEventListener(F[0],F[1],F[2])},connect:t.bind(null,$),disconnect:u.bind(null,$),dispatchEvent(...F){return N.dispatchEvent(F[0])},removeEventListener(...F){return N.removeEventListener(F[0],F[1],F[2])}},M=new Map;v.port1.addEventListener=(F=>(...Q)=>{if(Q[0]==="message"){const it=typeof Q[1]=="function"?Q[1]:typeof Q[1]=="object"&&Q[1]!==null&&typeof Q[1].handleEvent=="function"?Q[1].handleEvent:null;if(it!==null){const De=M.get(Q[1]);De!==void 0?Q[1]=De:(Q[1]=le=>{c(m.currentTime,m.sampleRate,()=>it(le))},M.set(it,Q[1]))}}return F.call(v.port1,Q[0],Q[1],Q[2])})(v.port1.addEventListener),v.port1.removeEventListener=(F=>(...Q)=>{if(Q[0]==="message"){const it=M.get(Q[1]);it!==void 0&&(M.delete(Q[1]),Q[1]=it)}return F.call(v.port1,Q[0],Q[1],Q[2])})(v.port1.removeEventListener);let D=null;Object.defineProperty(v.port1,"onmessage",{get:()=>D,set:F=>{typeof D=="function"&&v.port1.removeEventListener("message",D),D=typeof F=="function"?F:null,typeof D=="function"&&(v.port1.addEventListener("message",D),v.port1.start())}}),_.prototype.port=v.port1;let L=null;Sx(m,O,_,w).then(F=>L=F);const dt=cc(w.numberOfInputs,w.channelCount),Ge=cc(w.numberOfOutputs,f),J=_.parameterDescriptors===void 0?[]:_.parameterDescriptors.reduce((F,{name:Q})=>({...F,[Q]:new Float32Array(128)}),{});let oe=!0;const et=()=>{w.numberOfOutputs>0&&N.disconnect(A);for(let F=0,Q=0;F<w.numberOfOutputs;F+=1){const it=b[F];for(let De=0;De<f[F];De+=1)A.disconnect(it,Q+De,De);Q+=f[F]}},H=new Map;N.onaudioprocess=({inputBuffer:F,outputBuffer:Q})=>{if(L!==null){const it=h(O);for(let De=0;De<E;De+=128){for(let le=0;le<w.numberOfInputs;le+=1)for(let Ue=0;Ue<w.channelCount;Ue+=1)uc(F,dt[le],Ue,Ue,De);_.parameterDescriptors!==void 0&&_.parameterDescriptors.forEach(({name:le},Ue)=>{uc(F,J,le,g+Ue,De)});for(let le=0;le<w.numberOfInputs;le+=1)for(let Ue=0;Ue<f[le];Ue+=1)Ge[le][Ue].byteLength===0&&(Ge[le][Ue]=new Float32Array(128));try{const le=dt.map((yn,Hr)=>{if(it[Hr].size>0)return H.set(Hr,E/128),yn;const xh=H.get(Hr);return xh===void 0?[]:(yn.every(T4=>T4.every(S4=>S4===0))&&(xh===1?H.delete(Hr):H.set(Hr,xh-1)),yn)});oe=c(m.currentTime+De/m.sampleRate,m.sampleRate,()=>L.process(le,Ge,J));for(let yn=0,Hr=0;yn<w.numberOfOutputs;yn+=1){for(let Wo=0;Wo<f[yn];Wo+=1)A3(Q,Ge[yn],Wo,Hr+Wo,De);Hr+=f[yn]}}catch(le){oe=!1,O.dispatchEvent(new ErrorEvent("processorerror",{colno:le.colno,filename:le.filename,lineno:le.lineno,message:le.message}))}if(!oe){for(let le=0;le<w.numberOfInputs;le+=1){S[le].disconnect(x[le]);for(let Ue=0;Ue<w.channelCount;Ue+=1)x[De].disconnect(C,Ue,le*w.channelCount+Ue)}if(_.parameterDescriptors!==void 0){const le=_.parameterDescriptors.length;for(let Ue=0;Ue<le;Ue+=1){const yn=T[Ue];yn.disconnect(C,0,g+Ue),yn.stop()}}C.disconnect(N),N.onaudioprocess=null,Vs?et():xi();break}}}};let Vs=!1;const Us=o(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ki=()=>N.connect(Us).connect(m.destination),xi=()=>{N.disconnect(Us),Us.disconnect()},v4=()=>{if(oe){xi(),w.numberOfOutputs>0&&N.connect(A);for(let F=0,Q=0;F<w.numberOfOutputs;F+=1){const it=b[F];for(let De=0;De<f[F];De+=1)A.connect(it,Q+De,De);Q+=f[F]}}Vs=!0},w4=()=>{oe&&(ki(),et()),Vs=!1};return ki(),d(O,v4,w4)},I3=(t,e)=>{const n=t.createBiquadFilter();return ht(n,e),ze(n,e,"Q"),ze(n,e,"detune"),ze(n,e,"frequency"),ze(n,e,"gain"),Oe(n,e,"type"),n},xx=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),ht(s,r),s},Ex=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw gt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw gt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw gt()}})},Sl=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return ht(n,e),Ex(n),n},Cx=(t,e,n,r,s)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return ht(a,o),ze(a,o,"offset"),e(r,()=>r(i))||z1(a),e(s,()=>s(i))||W1(a),t(i,a),a},jo=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Ax=(t,e,n,r)=>(s,{offset:i,...o})=>{const a=s.createBuffer(1,2,44100),l=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(s,{...o,gain:i}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(p){u.channelCount=p},get channelCountMode(){return u.channelCountMode},set channelCountMode(p){u.channelCountMode=p},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(p){u.channelInterpretation=p},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(p){l.onended=p},addEventListener(...p){return l.addEventListener(p[0],p[1],p[2])},dispatchEvent(...p){return l.dispatchEvent(p[0])},removeEventListener(...p){return l.removeEventListener(p[0],p[1],p[2])},start(p=0){l.start.call(l,p)},stop(p=0){l.stop.call(l,p)}},d=()=>l.connect(u),m=()=>l.disconnect(u);return t(s,l),r(jo(h,u),d,m)},Nx=(t,e)=>(n,r)=>{const s=n.createConvolver();if(ht(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),Oe(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>o=>{if(o>2)throw t();return i.call(s,o)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>o=>{if(o==="max")throw t();return i.call(s,o)}),s},M3=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return ht(n,e),ze(n,e,"delayTime"),n},Ox=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(ht(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return ze(r,n,"attack"),ze(r,n,"knee"),ze(r,n,"ratio"),ze(r,n,"release"),ze(r,n,"threshold"),r},Jt=(t,e)=>{const n=t.createGain();return ht(n,e),ze(n,e,"gain"),n},Ix=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return ht(s,r),s};function Mx(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Rx(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Kg(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=Rx(n,e),n[0]+=t[r];return n}const Dx=(t,e,n,r)=>(s,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=O3(i,s.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),m=c instanceof Float64Array?c:new Float64Array(c),p=d.length,_=m.length,w=Math.min(p,_);if(p===0||p>20)throw r();if(d[0]===0)throw e();if(_===0||_>20)throw r();if(m[0]===0)throw e();if(d[0]!==1){for(let T=0;T<_;T+=1)m[T]/=d[0];for(let T=1;T<p;T+=1)d[T]/=d[0]}const f=n(s,h,o,o);f.channelCount=o,f.channelCountMode=a,f.channelInterpretation=l;const g=32,y=[],k=[],v=[];for(let T=0;T<o;T+=1){y.push(0);const C=new Float32Array(g),E=new Float32Array(g);C.fill(0),E.fill(0),k.push(C),v.push(E)}f.onaudioprocess=T=>{const C=T.inputBuffer,E=T.outputBuffer,N=C.numberOfChannels;for(let A=0;A<N;A+=1){const b=C.getChannelData(A),P=E.getChannelData(A);y[A]=N3(d,p,m,_,w,k[A],v[A],y[A],g,b,P)}};const S=s.sampleRate/2;return jo({get bufferSize(){return h},get channelCount(){return f.channelCount},set channelCount(T){f.channelCount=T},get channelCountMode(){return f.channelCountMode},set channelCountMode(T){f.channelCountMode=T},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(T){f.channelInterpretation=T},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},addEventListener(...T){return f.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return f.dispatchEvent(T[0])},getFrequencyResponse(T,C,E){if(T.length!==C.length||C.length!==E.length)throw t();const N=T.length;for(let A=0;A<N;A+=1){const b=-Math.PI*(T[A]/S),P=[Math.cos(b),Math.sin(b)],X=Kg(m,P),B=Kg(d,P),$=Mx(X,B);C[A]=Math.sqrt($[0]*$[0]+$[1]*$[1]),E[A]=Math.atan2($[1],$[0])}},removeEventListener(...T){return f.removeEventListener(T[0],T[1],T[2])}},f)},bx=(t,e)=>t.createMediaElementSource(e.mediaElement),Px=(t,e)=>{const n=t.createMediaStreamDestination();return ht(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},Fx=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},Lx=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},Vx=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,Ux=(t,e,n,r,s,i)=>(o,a)=>{const l=o.createOscillator();return ht(l,a),ze(l,a,"detune"),ze(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):Oe(l,a,"type"),e(n,()=>n(o))||z1(l),e(r,()=>r(o))||i(l,o),e(s,()=>s(o))||W1(l),t(o,l),l},jx=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(ht(r,n),ze(r,n,"orientationX"),ze(r,n,"orientationY"),ze(r,n,"orientationZ"),ze(r,n,"positionX"),ze(r,n,"positionY"),ze(r,n,"positionZ"),Oe(r,n,"coneInnerAngle"),Oe(r,n,"coneOuterAngle"),Oe(r,n,"coneOuterGain"),Oe(r,n,"distanceModel"),Oe(r,n,"maxDistance"),Oe(r,n,"panningModel"),Oe(r,n,"refDistance"),Oe(r,n,"rolloffFactor"),r)},Bx=(t,e,n,r,s,i,o,a,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:m,distanceModel:p,maxDistance:_,orientationX:w,orientationY:f,orientationZ:g,panningModel:y,positionX:k,positionY:v,positionZ:S,refDistance:x,rolloffFactor:T,...C})=>{const E=c.createPanner();if(C.channelCount>2||C.channelCountMode==="max")throw o();ht(E,C);const N={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(c,{...N,channelInterpretation:"speakers",numberOfInputs:6}),b=r(c,{...C,gain:1}),P=r(c,{...N,gain:1}),X=r(c,{...N,gain:0}),B=r(c,{...N,gain:0}),$=r(c,{...N,gain:0}),O=r(c,{...N,gain:0}),M=r(c,{...N,gain:0}),D=s(c,256,6,1),L=i(c,{...N,curve:new Float32Array([1,1]),oversample:"none"});let Y=[w,f,g],dt=[k,v,S];const Ge=new Float32Array(1);D.onaudioprocess=({inputBuffer:H})=>{const Vs=[l(H,Ge,0),l(H,Ge,1),l(H,Ge,2)];Vs.some((ki,xi)=>ki!==Y[xi])&&(E.setOrientation(...Vs),Y=Vs);const Us=[l(H,Ge,3),l(H,Ge,4),l(H,Ge,5)];Us.some((ki,xi)=>ki!==dt[xi])&&(E.setPosition(...Us),dt=Us)},Object.defineProperty(X.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0});const J={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(H){if(H>2)throw o();b.channelCount=H,E.channelCount=H},get channelCountMode(){return E.channelCountMode},set channelCountMode(H){if(H==="max")throw o();b.channelCountMode=H,E.channelCountMode=H},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(H){b.channelInterpretation=H,E.channelInterpretation=H},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(H){E.coneInnerAngle=H},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(H){E.coneOuterAngle=H},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(H){if(H<0||H>1)throw e();E.coneOuterGain=H},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(H){E.distanceModel=H},get inputs(){return[b]},get maxDistance(){return E.maxDistance},set maxDistance(H){if(H<0)throw new RangeError;E.maxDistance=H},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return P.gain},get orientationY(){return X.gain},get orientationZ(){return B.gain},get panningModel(){return E.panningModel},set panningModel(H){E.panningModel=H},get positionX(){return $.gain},get positionY(){return O.gain},get positionZ(){return M.gain},get refDistance(){return E.refDistance},set refDistance(H){if(H<0)throw new RangeError;E.refDistance=H},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(H){if(H<0)throw new RangeError;E.rolloffFactor=H},addEventListener(...H){return b.addEventListener(H[0],H[1],H[2])},dispatchEvent(...H){return b.dispatchEvent(H[0])},removeEventListener(...H){return b.removeEventListener(H[0],H[1],H[2])}};h!==J.coneInnerAngle&&(J.coneInnerAngle=h),d!==J.coneOuterAngle&&(J.coneOuterAngle=d),m!==J.coneOuterGain&&(J.coneOuterGain=m),p!==J.distanceModel&&(J.distanceModel=p),_!==J.maxDistance&&(J.maxDistance=_),w!==J.orientationX.value&&(J.orientationX.value=w),f!==J.orientationY.value&&(J.orientationY.value=f),g!==J.orientationZ.value&&(J.orientationZ.value=g),y!==J.panningModel&&(J.panningModel=y),k!==J.positionX.value&&(J.positionX.value=k),v!==J.positionY.value&&(J.positionY.value=v),S!==J.positionZ.value&&(J.positionZ.value=S),x!==J.refDistance&&(J.refDistance=x),T!==J.rolloffFactor&&(J.rolloffFactor=T),(Y[0]!==1||Y[1]!==0||Y[2]!==0)&&E.setOrientation(...Y),(dt[0]!==0||dt[1]!==0||dt[2]!==0)&&E.setPosition(...dt);const oe=()=>{b.connect(E),t(b,L,0,0),L.connect(P).connect(A,0,0),L.connect(X).connect(A,0,1),L.connect(B).connect(A,0,2),L.connect($).connect(A,0,3),L.connect(O).connect(A,0,4),L.connect(M).connect(A,0,5),A.connect(D).connect(c.destination)},et=()=>{b.disconnect(E),a(b,L,0,0),L.disconnect(P),P.disconnect(A),L.disconnect(X),X.disconnect(A),L.disconnect(B),B.disconnect(A),L.disconnect($),$.disconnect(A),L.disconnect(O),O.disconnect(A),L.disconnect(M),M.disconnect(A),A.disconnect(D),D.disconnect(c.destination)};return u(jo(J,E),oe,et)},$x=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},kl=(t,e,n,r)=>t.createScriptProcessor(e,n,r),zx=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return ht(i,r),ze(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),i},Wx=(t,e,n,r,s,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(p,_,w,f)=>{const g=new Float32Array(16385),y=new Float32Array(16385);for(let C=0;C<16385;C+=1){const E=C/16384*l;g[C]=Math.cos(E),y[C]=Math.sin(E)}const k=n(p,{...u,gain:0}),v=r(p,{...c,curve:g}),S=r(p,{...c,curve:a}),x=n(p,{...u,gain:0}),T=r(p,{...c,curve:y});return{connectGraph(){_.connect(k),_.connect(S.inputs===void 0?S:S.inputs[0]),_.connect(x),S.connect(w),w.connect(v.inputs===void 0?v:v.inputs[0]),w.connect(T.inputs===void 0?T:T.inputs[0]),v.connect(k.gain),T.connect(x.gain),k.connect(f,0,0),x.connect(f,0,1)},disconnectGraph(){_.disconnect(k),_.disconnect(S.inputs===void 0?S:S.inputs[0]),_.disconnect(x),S.disconnect(w),w.disconnect(v.inputs===void 0?v:v.inputs[0]),w.disconnect(T.inputs===void 0?T:T.inputs[0]),v.disconnect(k.gain),T.disconnect(x.gain),k.disconnect(f,0,0),x.disconnect(f,0,1)}}},d=(p,_,w,f)=>{const g=new Float32Array(16385),y=new Float32Array(16385),k=new Float32Array(16385),v=new Float32Array(16385),S=Math.floor(16385/2);for(let $=0;$<16385;$+=1)if($>S){const O=($-S)/(16384-S)*l;g[$]=Math.cos(O),y[$]=Math.sin(O),k[$]=0,v[$]=1}else{const O=$/(16384-S)*l;g[$]=1,y[$]=0,k[$]=Math.cos(O),v[$]=Math.sin(O)}const x=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),T=n(p,{...u,gain:0}),C=r(p,{...c,curve:g}),E=n(p,{...u,gain:0}),N=r(p,{...c,curve:y}),A=r(p,{...c,curve:a}),b=n(p,{...u,gain:0}),P=r(p,{...c,curve:k}),X=n(p,{...u,gain:0}),B=r(p,{...c,curve:v});return{connectGraph(){_.connect(x),_.connect(A.inputs===void 0?A:A.inputs[0]),x.connect(T,0),x.connect(E,0),x.connect(b,1),x.connect(X,1),A.connect(w),w.connect(C.inputs===void 0?C:C.inputs[0]),w.connect(N.inputs===void 0?N:N.inputs[0]),w.connect(P.inputs===void 0?P:P.inputs[0]),w.connect(B.inputs===void 0?B:B.inputs[0]),C.connect(T.gain),N.connect(E.gain),P.connect(b.gain),B.connect(X.gain),T.connect(f,0,0),b.connect(f,0,0),E.connect(f,0,1),X.connect(f,0,1)},disconnectGraph(){_.disconnect(x),_.disconnect(A.inputs===void 0?A:A.inputs[0]),x.disconnect(T,0),x.disconnect(E,0),x.disconnect(b,1),x.disconnect(X,1),A.disconnect(w),w.disconnect(C.inputs===void 0?C:C.inputs[0]),w.disconnect(N.inputs===void 0?N:N.inputs[0]),w.disconnect(P.inputs===void 0?P:P.inputs[0]),w.disconnect(B.inputs===void 0?B:B.inputs[0]),C.disconnect(T.gain),N.disconnect(E.gain),P.disconnect(b.gain),B.disconnect(X.gain),T.disconnect(f,0,0),b.disconnect(f,0,0),E.disconnect(f,0,1),X.disconnect(f,0,1)}}},m=(p,_,w,f,g)=>{if(_===1)return h(p,w,f,g);if(_===2)return d(p,w,f,g);throw s()};return(p,{channelCount:_,channelCountMode:w,pan:f,...g})=>{if(w==="max")throw s();const y=t(p,{...g,channelCount:1,channelCountMode:w,numberOfInputs:2}),k=n(p,{...g,channelCount:_,channelCountMode:w,gain:1}),v=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:f});let{connectGraph:S,disconnectGraph:x}=m(p,_,k,v,y);Object.defineProperty(v.gain,"defaultValue",{get:()=>0}),Object.defineProperty(v.gain,"maxValue",{get:()=>1}),Object.defineProperty(v.gain,"minValue",{get:()=>-1});const T={get bufferSize(){},get channelCount(){return k.channelCount},set channelCount(A){k.channelCount!==A&&(C&&x(),{connectGraph:S,disconnectGraph:x}=m(p,A,k,v,y),C&&S()),k.channelCount=A},get channelCountMode(){return k.channelCountMode},set channelCountMode(A){if(A==="clamped-max"||A==="max")throw s();k.channelCountMode=A},get channelInterpretation(){return k.channelInterpretation},set channelInterpretation(A){k.channelInterpretation=A},get context(){return k.context},get inputs(){return[k]},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get pan(){return v.gain},addEventListener(...A){return k.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return k.dispatchEvent(A[0])},removeEventListener(...A){return k.removeEventListener(A[0],A[1],A[2])}};let C=!1;const E=()=>{S(),C=!0},N=()=>{x(),C=!1};return i(jo(T,y),E,N)}},Gx=(t,e,n,r,s,i,o)=>(a,l)=>{const u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);ht(u,l);const c=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(c!==null&&c.length<2)throw e();Oe(u,{curve:c},"curve"),Oe(u,l,"oversample");let h=null,d=!1;return o(u,"curve",_=>()=>_.call(u),_=>w=>(_.call(u,w),d&&(r(w)&&h===null?h=t(a,u):!r(w)&&h!==null&&(h(),h=null)),w)),s(u,()=>{d=!0,r(u.curve)&&(h=t(a,u))},()=>{d=!1,h!==null&&(h(),h=null)})},qx=(t,e,n,r,s)=>(i,{curve:o,oversample:a,...l})=>{const u=i.createWaveShaper(),c=i.createWaveShaper();ht(u,l),ht(c,l);const h=n(i,{...l,gain:1}),d=n(i,{...l,gain:-1}),m=n(i,{...l,gain:1}),p=n(i,{...l,gain:-1});let _=null,w=!1,f=null;const g={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(v){h.channelCount=v,d.channelCount=v,u.channelCount=v,m.channelCount=v,c.channelCount=v,p.channelCount=v},get channelCountMode(){return u.channelCountMode},set channelCountMode(v){h.channelCountMode=v,d.channelCountMode=v,u.channelCountMode=v,m.channelCountMode=v,c.channelCountMode=v,p.channelCountMode=v},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(v){h.channelInterpretation=v,d.channelInterpretation=v,u.channelInterpretation=v,m.channelInterpretation=v,c.channelInterpretation=v,p.channelInterpretation=v},get context(){return u.context},get curve(){return f},set curve(v){if(v!==null&&v.length<2)throw e();if(v===null)u.curve=v,c.curve=v;else{const S=v.length,x=new Float32Array(S+2-S%2),T=new Float32Array(S+2-S%2);x[0]=v[0],T[0]=-v[S-1];const C=Math.ceil((S+1)/2),E=(S+1)/2-1;for(let N=1;N<C;N+=1){const A=N/C*E,b=Math.floor(A),P=Math.ceil(A);x[N]=b===P?v[b]:(1-(A-b))*v[b]+(1-(P-A))*v[P],T[N]=b===P?-v[S-1-b]:-((1-(A-b))*v[S-1-b])-(1-(P-A))*v[S-1-P]}x[C]=S%2===1?v[C-1]:(v[C-2]+v[C-1])/2,u.curve=x,c.curve=T}f=v,w&&(r(f)&&_===null?_=t(i,h):_!==null&&(_(),_=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(v){u.oversample=v,c.oversample=v},addEventListener(...v){return h.addEventListener(v[0],v[1],v[2])},dispatchEvent(...v){return h.dispatchEvent(v[0])},removeEventListener(...v){return h.removeEventListener(v[0],v[1],v[2])}};o!==null&&(g.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==g.oversample&&(g.oversample=a);const y=()=>{h.connect(u).connect(m),h.connect(d).connect(c).connect(p).connect(m),w=!0,r(f)&&(_=t(i,h))},k=()=>{h.disconnect(u),u.disconnect(m),h.disconnect(d),d.disconnect(c),c.disconnect(p),p.disconnect(m),w=!1,_!==null&&(_(),_=null)};return s(jo(g,m),y,k)},$t=()=>new DOMException("","NotSupportedError"),Hx={numberOfChannels:1},Xx=(t,e,n,r,s)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:h,sampleRate:d}={...Hx,...u},m=r(h,c,d);e(Ha,()=>Ha(m))||m.addEventListener("statechange",(()=>{let p=0;const _=w=>{this._state==="running"&&(p>0?(m.removeEventListener("statechange",_),w.stopImmediatePropagation(),this._waitForThePromiseToSettle(w)):p+=1)};return _})()),super(m,h),this._length=c,this._nativeOfflineAudioContext=m,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,S3(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},Yx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Qx=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...Yx,...u},d=n(c,h),m=i(c),p=m?r():null,_=l.sampleRate/2;super(l,!1,d,p),this._detune=e(this,m,d.detune,153600,-153600),this._frequency=e(this,m,d.frequency,_,-_),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=p,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?l:c}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){To(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),Mr(this)&&vl(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},Kx=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const u=async(c,h)=>{let d=n(c);const m=Nt(d,h);if(!m){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:o===null?void 0:o,type:d.type};d=e(h,p),a!==null&&d.start(a),l!==null&&d.stop(l)}return i.set(h,d),m?(await t(h,c.detune,d.detune),await t(h,c.frequency,d.frequency)):(await r(h,c.detune,d.detune),await r(h,c.frequency,d.frequency)),await s(c,h,d),d};return{set periodicWave(c){o=c},set start(c){a=c},set stop(c){l=c},render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},Zx={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Jx=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...Zx,...u},d=n(c,h),m=i(c),p=m?r():null;super(l,!1,d,p),this._nativePannerNode=d,this._orientationX=e(this,m,d.orientationX,Rt,qt),this._orientationY=e(this,m,d.orientationY,Rt,qt),this._orientationZ=e(this,m,d.orientationZ,Rt,qt),this._positionX=e(this,m,d.positionX,Rt,qt),this._positionY=e(this,m,d.positionY,Rt,qt),this._positionZ=e(this,m,d.positionZ,Rt,qt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},eE=(t,e,n,r,s,i,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;const d=async(m,p)=>{let _=null,w=i(m);const f={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation},g={...f,coneInnerAngle:w.coneInnerAngle,coneOuterAngle:w.coneOuterAngle,coneOuterGain:w.coneOuterGain,distanceModel:w.distanceModel,maxDistance:w.maxDistance,panningModel:w.panningModel,refDistance:w.refDistance,rolloffFactor:w.rolloffFactor},y=Nt(w,p);if("bufferSize"in w)_=r(p,{...f,gain:1});else if(!y){const k={...g,orientationX:w.orientationX.value,orientationY:w.orientationY.value,orientationZ:w.orientationZ.value,positionX:w.positionX.value,positionY:w.positionY.value,positionZ:w.positionZ.value};w=s(p,k)}if(c.set(p,_===null?w:_),_!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const N=new o(6,m.context.length,p.sampleRate),A=e(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});A.connect(N.destination),h=(async()=>{const b=await Promise.all([m.orientationX,m.orientationY,m.orientationZ,m.positionX,m.positionY,m.positionZ].map(async(P,X)=>{const B=n(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:X===0?1:0});return await a(N,P,B.offset),B}));for(let P=0;P<6;P+=1)b[P].connect(A,0,P),b[P].start(0);return u(N)})()}const k=await h,v=r(p,{...f,gain:1});await l(m,p,v);const S=[];for(let N=0;N<k.numberOfChannels;N+=1)S.push(k.getChannelData(N));let x=[S[0][0],S[1][0],S[2][0]],T=[S[3][0],S[4][0],S[5][0]],C=r(p,{...f,gain:1}),E=s(p,{...g,orientationX:x[0],orientationY:x[1],orientationZ:x[2],positionX:T[0],positionY:T[1],positionZ:T[2]});v.connect(C).connect(E.inputs[0]),E.connect(_);for(let N=128;N<k.length;N+=128){const A=[S[0][N],S[1][N],S[2][N]],b=[S[3][N],S[4][N],S[5][N]];if(A.some((P,X)=>P!==x[X])||b.some((P,X)=>P!==T[X])){x=A,T=b;const P=N/p.sampleRate;C.gain.setValueAtTime(0,P),C=r(p,{...f,gain:0}),E=s(p,{...g,orientationX:x[0],orientationY:x[1],orientationZ:x[2],positionX:T[0],positionY:T[1],positionZ:T[2]}),C.gain.setValueAtTime(1,P),v.connect(C).connect(E.inputs[0]),E.connect(_)}}return _}return y?(await t(p,m.orientationX,w.orientationX),await t(p,m.orientationY,w.orientationY),await t(p,m.orientationZ,w.orientationZ),await t(p,m.positionX,w.positionX),await t(p,m.positionY,w.positionY),await t(p,m.positionZ,w.positionZ)):(await a(p,m.orientationX,w.orientationX),await a(p,m.orientationY,w.orientationY),await a(p,m.orientationZ,w.orientationZ),await a(p,m.positionX,w.positionX),await a(p,m.positionY,w.positionY),await a(p,m.positionZ,w.positionZ)),Uo(w)?await l(m,p,w.inputs[0]):await l(m,p,w),w};return{render(m,p){const _=c.get(p);return _!==void 0?Promise.resolve(_):d(m,p)}}},tE={disableNormalization:!1},nE=(t,e,n,r)=>class R3{constructor(i,o){const a=e(i),l=r({...tE,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===R3.prototype||n.has(i)}},rE=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),sE=(t,e,n)=>async(r,s,i)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,c])=>{const d=await e(u).render(u,s),m=r.context.destination;!n(u)&&(r!==m||!n(r))&&d.connect(i,c,l)})).reduce((a,l)=>[...a,...l],[]))},iE=(t,e,n)=>async(r,s,i)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const c=await t(a).render(a,s);n(a)||c.connect(i,l)}))},oE=(t,e,n,r)=>s=>t(Ha,()=>Ha(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const o=n(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}),aE=t=>(e,n)=>{t.set(e,n)},lE=t=>(e,n)=>t.set(e,n),uE=(t,e,n,r,s,i,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(r(u)).map(c=>n(c).render(c,u)))).then(()=>s(u)).then(c=>(typeof c.copyFromChannel!="function"?(o(c),j1(c)):e(i,()=>i(c))||a(c),t.add(c),c)),cE={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},hE=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...cE,...l},h=n(u,c),d=i(u),m=d?r():null;super(a,!1,h,m),this._pan=e(this,d,h.pan)}get pan(){return this._pan}},dE=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Nt(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.pan,u.pan):await r(l,a.pan,u.pan),Uo(u)?await s(a,l,u.inputs[0]):await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},fE=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},pE=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,o=!1;try{await r.audioWorklet.addModule(s);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(s)}return i&&!o},mE=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},gE=()=>new DOMException("","UnknownError"),_E={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},yE=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={..._E,...u},d=n(c,h),p=i(c)?r():null;super(l,!0,d,p),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},vE=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!Nt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return r.set(o,a),Uo(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},wE=()=>typeof window>"u"?null:window,TE=(t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)r[h]=u[h+o]},n.copyToChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)u[h+o]=r[h]}},SE=t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},kE=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},xE=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)s.connect(r,0,l)},()=>s.disconnect(r))},D3=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),b3=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},xl=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(o)})},EE=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),CE=t=>({...t,channelCount:t.numberOfOutputs}),AE=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},P3=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;P3(t,e,n+1e-7)}},NE=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},OE=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},IE=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},G1=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},F3=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},q1=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},ME=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},RE=t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,o=i===null?r:Math.min(i.duration,r);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)},L3=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),jo(t,n),t.stop=(s=>{let i=!1;return(o=0)=>{if(i)try{s.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else s.call(t,o),i=!0}})(t.stop)},Bo=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},DE=Jk(wi),bE=i5(wi),PE=_6(ph),V3=new WeakMap,FE=P6(V3),Jn=H5(new Map,new WeakMap),fr=wE(),U3=hx(Jn,gr),H1=b6(Dt),wt=sE(Dt,H1,hi),LE=c5(U3,Ce,wt),Se=V6(fh),Wr=Vx(fr),ge=tx(Wr),j3=new WeakMap,B3=A6(Bo),El=mx(fr),X1=K6(El),Y1=Z6(fr),$3=J6(fr),Xa=_x(fr),Je=P5(e5(m3),s5(DE,bE,oc,PE,ac,Dt,FE,yl,Ce,wi,Mr,hi,vu),Jn,q6(Mf,ac,Dt,Ce,qa,Mr),gr,mh,$t,f6(oc,Mf,Dt,Ce,qa,Se,Mr,ge),w6(j3,Dt,Xn),B3,Se,X1,Y1,$3,ge,Xa),VE=u5(Je,LE,gr,U3,Se,ge),Q1=new WeakSet,Zg=dx(fr),z3=o6(new Uint32Array(1)),K1=TE(z3,gr),Z1=SE(z3),W3=d5(Q1,Jn,$t,Zg,Wr,fE(Zg),K1,Z1),gh=o5(Jt),G3=iE(H1,wl,hi),_r=e6(G3),$o=px(gh,Jn,NE,OE,IE,G1,F3,q1,RE,kE(xl),L3),yr=rE(F6(wl),G3),UE=m5(_r,$o,Ce,yr,wt),er=F5(t5(g3),j3,U1,L5,Hk,Xk,Yk,Qk,Kk,Nf,f3,El,P3),jE=p5(Je,UE,er,gt,$o,Se,ge,Bo),BE=x5(Je,E5,gr,gt,gx(Jt,xl),Se,ge,wt),$E=q5(_r,I3,Ce,yr,wt),Ti=lE(V3),zE=G5(Je,er,$E,mh,I3,Se,ge,Ti),Fs=ux(wi,Y1),WE=xE(gt,Fs),Ls=xx(El,WE),GE=Q5(Ls,Ce,wt),qE=Y5(Je,GE,Ls,Se,ge),HE=J5(Sl,Ce,wt),XE=Z5(Je,HE,Sl,Se,ge,CE),YE=Ax(gh,$o,Jt,Fs),zo=Cx(gh,Jn,YE,G1,q1),QE=i6(_r,zo,Ce,yr,wt),KE=s6(Je,er,QE,zo,Se,ge,Bo),q3=Nx($t,xl),ZE=u6(q3,Ce,wt),JE=l6(Je,ZE,q3,Se,ge,Ti),e8=g6(_r,M3,Ce,yr,wt),t8=m6(Je,er,e8,M3,Se,ge,Ti),H3=Ox($t),n8=x6(_r,H3,Ce,yr,wt),r8=k6(Je,er,n8,H3,$t,Se,ge,Ti),s8=R6(_r,Jt,Ce,yr,wt),i8=M6(Je,er,s8,Jt,Se,ge),o8=Dx(mh,gt,kl,$t),_h=oE(Jn,Jt,kl,mE(Jt,Wr)),a8=G6($o,Ce,Wr,wt,_h),l8=Ix(o8),u8=z6(Je,l8,a8,Se,ge,Ti),c8=C5(er,Ls,zo,kl,$t,D3,ge,xl),X3=new WeakMap,h8=lx(BE,c8,B3,ge,X3,Bo),Y3=Ux(gh,Jn,G1,F3,q1,L3),d8=Kx(_r,Y3,Ce,yr,wt),f8=Qx(Je,er,Y3,d8,Se,ge,Bo),Q3=n6($o),p8=qx(Q3,gt,Jt,b3,Fs),yh=Gx(Q3,gt,p8,b3,Fs,El,xl),m8=Bx(oc,gt,Ls,Jt,kl,yh,$t,ac,D3,Fs),K3=jx(m8),g8=eE(_r,Ls,zo,Jt,K3,Ce,Wr,yr,wt,_h),_8=Jx(Je,er,K3,g8,Se,ge,Ti),y8=$x(gr),v8=nE(y8,Se,new WeakSet,AE),w8=Wx(Ls,Sl,Jt,yh,$t,Fs),Z3=zx(w8,$t),T8=dE(_r,Z3,Ce,yr,wt),S8=hE(Je,er,Z3,T8,Se,ge),k8=vE(yh,Ce,wt),x8=yE(Je,gt,yh,k8,Se,ge,Ti),J3=nx(fr),J1=N6(fr),e4=new WeakMap,E8=U6(e4,Wr),C8=J3?r5(Jn,$t,C6(fr),J1,O6(Zk),Se,E8,ge,Xa,new WeakMap,new WeakMap,pE(Xa,Wr),fr):void 0,A8=ex(X1,ge),N8=d6(Q1,Jn,h6,E6,new WeakSet,Se,A8,sc,Ha,K1,Z1),t4=z5(C8,VE,W3,jE,zE,qE,XE,KE,JE,N8,t8,r8,i8,u8,h8,f8,_8,v8,S8,x8),O8=rx(Je,bx,Se,ge),I8=ix(Je,Px,Se,ge),M8=ox(Je,Fx,Se,ge),R8=Lx(gt,ge),D8=ax(Je,R8,Se),b8=k5(t4,gt,$t,gE,O8,I8,M8,D8,El),em=j6(X3),P8=a5(em),n4=t6(gr),F8=y6(em),r4=T6(gr),s4=new WeakMap,L8=D6(s4,Xn),V8=kx(n4,gr,gt,Ls,Sl,zo,Jt,kl,$t,r4,J1,L8,Fs),U8=vx(gt,V8,Jt,$t,Fs),j8=$5(_r,n4,$o,Ls,Sl,zo,Jt,F8,r4,J1,Ce,Xa,Wr,yr,wt,_h),B8=L6(e4),$8=aE(s4),Jg=J3?U5(P8,Je,er,j8,U8,Dt,B8,Se,ge,Xa,EE,$8,ME,Bo):void 0,z8=c6($t,Wr),W8=uE(Q1,Jn,H1,em,_h,sc,K1,Z1),G8=Xx(t4,Jn,gt,z8,W8),q8=H6(fh,X1),H8=X6(V1,Y1),X8=Y6(U1,$3),Y8=Q6(fh,ge);function Nn(t){return t===void 0}function te(t){return t!==void 0}function Q8(t){return typeof t=="function"}function Es(t){return typeof t=="number"}function ti(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function K8(t){return typeof t=="boolean"}function cn(t){return Array.isArray(t)}function Vr(t){return typeof t=="string"}function Zl(t){return Vr(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function K(t,e){if(!t)throw new Error(e)}function pr(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function i4(t){!t.isOffline&&t.state!=="running"&&vh('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let o4=!1,e2=!1;function t2(t){o4=t}function Z8(t){Nn(t)&&o4&&!e2&&(e2=!0,vh("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let a4=console;function J8(...t){a4.log(...t)}function vh(...t){a4.warn(...t)}function eC(t){return new b8(t)}function tC(t,e,n){return new G8(t,e,n)}const ni=typeof self=="object"?self:null,nC=ni&&(ni.hasOwnProperty("AudioContext")||ni.hasOwnProperty("webkitAudioContext"));function rC(t,e,n){return K(te(Jg),"This node only works in a secure context (https or localhost)"),new Jg(t,e,n)}function tr(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Qe(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}class sC{constructor(e,n,r,s){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function di(t){return X8(t)}function ys(t){return H8(t)}function wu(t){return Y8(t)}function Ii(t){return q8(t)}function iC(t){return t instanceof W3}function oC(t,e){return t==="value"||di(e)||ys(e)||iC(e)}function ri(t,...e){if(!e.length)return t;const n=e.shift();if(ti(t)&&ti(n))for(const r in n)oC(r,n[r])?t[r]=n[r]:ti(n[r])?(t[r]||Object.assign(t,{[r]:{}}),ri(t[r],n[r])):Object.assign(t,{[r]:n[r]});return ri(t,...e)}function aC(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function R(t,e,n=[],r){const s={},i=Array.from(e);if(ti(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(ri(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&ti(i[0]))ri(s,i[0]);else for(let o=0;o<n.length;o++)te(i[o])&&(s[n[o]]=i[o]);return ri(t,s)}function lC(t){return t.constructor.getDefaults()}function so(t,e){return Nn(t)?e:t}function Ff(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Gr{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||ni&&this.toString()===ni.TONE_DEBUG_CLASS)&&J8(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Gr.version=d3;const tm=1e-6;function So(t,e){return t>e+tm}function Lf(t,e){return So(t,e)||Un(t,e)}function hc(t,e){return t+tm<e}function Un(t,e){return Math.abs(t-e)<tm}function uC(t,e,n){return Math.max(Math.min(t,n),e)}class On extends Gr{constructor(){super(),this.name="Timeline",this._timeline=[];const e=R(On.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(K(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];K(Lf(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Un(this._timeline[n].time,e)){for(let r=n;r>=0&&Un(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Lf(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let o=Math.floor(r+(i-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Un(a[n],e)){for(let u=o;u<this._timeline.length;u++){const c=this._timeline[u];if(Un(c[n],e))o=u;else break}return o}else{if(hc(a[n],e)&&So(l[n],e))return o;So(a[n],e)?i=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return s!==-1&&i!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):s===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Un(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&Un(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const l4=[];function wh(t){l4.push(t)}function cC(t){l4.forEach(e=>e(t))}const u4=[];function Th(t){u4.push(t)}function hC(t){u4.forEach(e=>e(t))}class Cl extends Gr{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{Nn(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(Nn(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(Nn(n))this._events[s]=[];else{const i=this._events[s];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Cl.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class c4 extends Cl{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Al extends c4{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new On,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=R(Al.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=eC({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new sC(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(cC(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return K(Ii(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return K(Ii(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return K(Ii(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){K(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){K(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){K(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){K(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return rC(this.rawContext,e,n)}addAudioWorkletModule(e){return Qe(this,void 0,void 0,function*(){K(te(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Qe(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ii(this._context)?this._context.resume():Promise.resolve()}close(){return Qe(this,void 0,void 0,function*(){Ii(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&hC(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}class dC extends c4{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Qe(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Ae(t,e){cn(e)?e.forEach(n=>Ae(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function h4(t,e){cn(e)?e.forEach(n=>h4(t,n)):Object.defineProperty(t,e,{writable:!0})}const de=()=>{};class pe extends Gr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=de;const e=R(pe.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Vr(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:de,onload:de,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Bn().sampleRate}set(e){return e instanceof pe?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Qe(this,void 0,void 0,function*(){const n=pe.load(e).then(r=>{this.set(r),this.onload(this)});pe.downloads.push(n);try{yield n}finally{const r=pe.downloads.indexOf(n);pe.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=cn(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,i=Bn(),o=i.createBuffer(r,s,i.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(Es(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const i=this.toArray(s);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if(Es(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){K(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);K(r<s,"The start time must be less than the end time");const i=s-r,o=Bn().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,s),a);return new pe(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new pe().fromArray(e)}static fromUrl(e){return Qe(this,void 0,void 0,function*(){return yield new pe().load(e)})}static load(e){return Qe(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let u=l[0];for(const c of l)if(pe.supportsType(c)){u=c;break}e=e.replace(n[0],u)}const r=pe.baseUrl===""||pe.baseUrl.endsWith("/")?pe.baseUrl:pe.baseUrl+"/",s=document.createElement("a");s.href=r+e,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(s.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const o=yield i.arrayBuffer();return yield Bn().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Qe(this,void 0,void 0,function*(){for(yield Promise.resolve();pe.downloads.length;)yield pe.downloads[0]})}}pe.baseUrl="";pe.downloads=[];class Sh extends Al{constructor(){super({clockSource:"offline",context:wu(arguments[0])?arguments[0]:tC(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:wu(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=wu(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Qe(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(e=!0){return Qe(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new pe(n)})}close(){return Promise.resolve()}}const d4=new dC;let Qs=d4;function Bn(){return Qs===d4&&nC&&fC(new Al),Qs}function fC(t,e=!1){e&&Qs.dispose(),Ii(t)?Qs=new Al(t):wu(t)?Qs=new Sh(t):Qs=t}function pC(){return Qs.resume()}if(ni&&!ni.TONE_SILENCE_LOGGING){const e=` * Tone.js v${d3} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function mC(t){return Math.pow(10,t/20)}function gC(t){return 20*(Math.log(t)/Math.LN10)}function f4(t){return Math.pow(2,t/12)}let kh=440;function _C(){return kh}function yC(t){kh=t}function Ks(t){return Math.round(p4(t))}function p4(t){return 69+12*Math.log2(t/kh)}function m4(t){return kh*Math.pow(2,(t-69)/12)}class nm extends Gr{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof nm&&this.fromType(this._val),Nn(this._val))return this._noArg();if(Vr(this._val)&&Nn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(ti(this._val)){let e=0;for(const n in this._val)if(te(this._val[n])){const r=this._val[n],s=new this.constructor(this.context,n).valueOf()*r;e+=s}return e}if(te(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return Vr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class $n extends nm{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new $n(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),a=Math.round(s/r)*r-s;return s+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],s=new $n(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new $n(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(r=i,s=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Ks(this.toFrequency())}_now(){return this.context.now()}}class an extends $n{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return _C()}static set A4(e){yC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:an.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const s=vC[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:an.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new an(this.context,this.valueOf()*f4(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Ks(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/an.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),wC[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return m4(e)}static ftom(e){return Ks(e)}}const vC={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},wC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ka extends $n{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Kt extends Gr{constructor(){super();const e=R(Kt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Bn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return Z8(e),new $n(this.context,e).toSeconds()}toFrequency(e){return new an(this.context,e).toFrequency()}toTicks(e){return new ka(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{Nn(e[r])&&delete n[r]}),n}get(){const e=lC(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];te(r)&&te(r.value)&&te(r.setValueAtTime)?e[n]=r.value:r instanceof Kt?e[n]=r._getPartialProperties(e[n]):cn(r)||Es(r)||Vr(r)||K8(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&te(this[n])&&(this[n]&&te(this[n].value)&&te(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Kt?this[n].set(e[n]):this[n]=e[n])}),this}}class rm extends On{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return pr(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class ue extends Kt{constructor(){super(R(ue.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=R(ue.getDefaults(),arguments,["param","units","convert"]);for(K(te(e.param)&&(di(e.param)||e.param instanceof ue),"param must be an AudioParam");!di(e.param);)e.param=e.param._param;this._swappable=te(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new On(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,te(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Kt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return te(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return te(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return te(this.maxValue)&&te(this.minValue)&&pr(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?mC(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?gC(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return K(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(s===null)i=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(s.time);let a;o===null?a=this._initialValue:a=o.value,s.type==="setTargetAtTime"&&(i=this._exponentialApproach(s.time,a,s.value,s.constant,n))}else if(r===null)i=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=s.value;if(s.type==="setTargetAtTime"){const a=this._events.getBefore(s.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(s.time,o,r.time,r.value,n):i=this._exponentialInterpolate(s.time,o,r.time,r.value,n)}else i=s.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return K(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Un(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return K(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);K(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),K(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return K(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));K(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&Un(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),i=s?s.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){K(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(s-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class Z extends Kt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return te(this.input)?di(this.input)||this.input instanceof ue?1:this.input.numberOfInputs:0}get numberOfOutputs(){return te(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return te(e)&&(e instanceof Z||ys(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();K(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return Cs(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return vh("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return TC(this,e,n,r),this}chain(...e){return Vf(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),te(this.input)&&(this.input instanceof Z?this.input.dispose():ys(this.input)&&this.input.disconnect()),te(this.output)&&(this.output instanceof Z?this.output.dispose():ys(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Vf(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof Z?n.connect(r):ys(n)&&Cs(n,r),r),e)}function Cs(t,e,n=0,r=0){for(K(te(t),"Cannot connect from undefined node"),K(te(e),"Cannot connect to undefined node"),(e instanceof Z||ys(e))&&K(e.numberOfInputs>0,"Cannot connect to node with no inputs"),K(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Z||e instanceof ue;)te(e.input)&&(e=e.input);for(;t instanceof Z;)te(t.output)&&(t=t.output);di(e)?t.connect(e,n):t.connect(e,n,r)}function TC(t,e,n=0,r=0){if(te(e))for(;e instanceof Z;)e=e.input;for(;!ys(t);)te(t.output)&&(t=t.output);di(e)?t.disconnect(e,n):ys(e)?t.disconnect(e,n,r):t.disconnect()}class Me extends Z{constructor(){super(R(Me.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=R(Me.getDefaults(),arguments,["gain","units"]);this.gain=new ue({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Ae(this,"gain")}static getDefaults(){return Object.assign(Z.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ko extends Z{constructor(e){super(e),this.onended=de,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Me({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Z.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:de})}_startGain(e,n=1){K(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){K(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==de&&(this.onended(this),this.onended=de,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),K(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=de,this}}class dc extends ko{constructor(){super(R(dc.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=R(dc.getDefaults(),arguments,["offset"]);Cs(this._source,this._gainNode),this.offset=new ue({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ko.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class st extends Z{constructor(){super(R(st.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=R(st.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new dc({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Z.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return sm(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function sm(t,e,n,r){(e instanceof ue||di(e)||e instanceof st&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof st&&(e.overridden=!0)),Cs(t,e,n,r)}class fc extends ue{constructor(){super(R(fc.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new On(1/0),this._multiplier=1;const e=R(fc.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ue.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,u=this._exponentialApproach(i.time,i.value,s,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max((n-s.time)*10,1)),o=(n-s.time)/i;for(let a=0;a<=i;a++){const l=o*a+s.time,u=this._exponentialInterpolate(s.time,s.value,n,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Nn(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),a=Math.sqrt(Math.pow(s,2)-2*o*(n.ticks-e)),l=(-s+a)/o,u=(-s-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class pc extends st{constructor(){super(R(pc.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=R(pc.getDefaults(),arguments,["value"]);this.input=this._param=new fc({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(st.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class mc extends Kt{constructor(){super(R(mc.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new rm,this._tickOffset=new On,this._ticksAtTime=new On,this._secondsAtTime=new On;const e=R(mc.getDefaults(),arguments,["frequency"]);this.frequency=new pc({context:this.context,units:e.units,value:e.frequency}),Ae(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Kt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),te(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=s||r,a=s?s.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,u=>{let c=o.time;const h=this._tickOffset.get(u.time);h&&h.time>=o.time&&(a=h.ticks,c=h.time),o.state==="started"&&u.state!=="started"&&(a+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(c),u.time!==i.time&&(l={state:u.state,time:u.time,ticks:a})),o=u}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let i=s||n,o=s?s.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let u=i.time;const c=this._tickOffset.get(l.time);c&&c.time>=i.time&&(o=c.seconds,u=c.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-u,l.time!==r.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(r),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),o=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,o=>{s&&s.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,r),s=o});let i=null;if(s&&s.state==="started"){const o=Math.max(s.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(s.time),u=a-l;let c=Math.ceil(u)-u;c=Un(c,1)?0:c;let h=this.frequency.getTimeOfTick(a+c);for(;h<n;){try{r(h,Math.round(this.getTicksAtTime(h)))}catch(d){i=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Ya extends Kt{constructor(){super(R(Ya.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=de,this._lastUpdate=0,this._state=new rm("stopped"),this._boundLoop=this._loop.bind(this);const e=R(Ya.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new mc({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ae(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Kt.getDefaults(),{callback:de,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){i4(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Cl.mixin(Ya);class im extends Gr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=R(im.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:de,onload:de,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return K(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=de,s=de){return Vr(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new pe(this.baseUrl+n,r,s))):this._buffers.set(e.toString(),new pe(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class gc extends an{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Ks(super._frequencyToUnits(e))}_ticksToUnits(e){return Ks(super._ticksToUnits(e))}_beatsToUnits(e){return Ks(super._beatsToUnits(e))}_secondsToUnits(e){return Ks(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return m4(this.toMidi())}transpose(e){return new gc(this.context,this.toMidi()+e)}}class Hi extends ka{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class SC extends Kt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new On,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}wh(t=>{t.draw=new SC({context:t})});Th(t=>{t.draw.dispose()});class kC extends Gr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){K(te(e.time),"Events must have a time property"),K(te(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new xC(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class xC{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class As extends Z{constructor(){super(R(As.getDefaults(),arguments,["volume"])),this.name="Volume";const e=R(As.getDefaults(),arguments,["volume"]);this.input=this.output=new Me({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Ae(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Z.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class _c extends Z{constructor(){super(R(_c.getDefaults(),arguments)),this.name="Destination",this.input=new As({context:this.context}),this.output=new Me({context:this.context}),this.volume=this.input.volume;const e=R(_c.getDefaults(),arguments);Vf(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Z.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Vf(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}wh(t=>{t.destination=new _c({context:t})});Th(t=>{t.destination.dispose()});class EC extends Gr{constructor(e){super(),this.name="TimelineValue",this._timeline=new On({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class fi extends Z{constructor(){super(Object.assign(R(fi.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return sm(this,e,n,r),this}}class pi extends fi{constructor(){super(Object.assign(R(pi.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=R(pi.getDefaults(),arguments,["mapping","length"]);cn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Q8(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(st.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++){const o=s/(i-1)*2-1;r[s]=e(o,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));K(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class yc extends fi{constructor(){super(Object.assign(R(yc.getDefaults(),arguments,["value"]))),this.name="Pow";const e=R(yc.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new pi({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(fi.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Ns{constructor(e,n){this.id=Ns._eventId++,this._remainderTime=0;const r=Object.assign(Ns.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:de,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Ns._eventId=0;class om extends Ns{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(om.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Ns.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return hc(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Hi(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){hc(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Hi(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);So(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Qa extends Kt{constructor(){super(R(Qa.getDefaults(),arguments)),this.name="Transport",this._loop=new EC(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new On,this._repeatedEvents=new kC,this._syncedSignals=[],this._swingAmount=0;const e=R(Qa.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new Ya({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Ae(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Kt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new Hi(this.context,this._swingTicks*2/3).toSeconds()*s}t2(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),t2(!1)}schedule(e,n){const r=new Ns(this,{callback:e,time:new ka(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new om(this,{callback:e,duration:new $n(this.context,s).toTicks(),interval:new $n(this.context,n).toTicks(),time:new ka(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new Ns(this,{callback:e,once:!0,time:new ka(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Hi(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return te(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){cn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new $n(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new $n(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Hi(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Hi(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+s;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){const r=this.now();let s=this.bpm,i=1/(60/s.getValueAtTime(r)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,u=new Me(l),c=new yc(-1),h=new Me(l);s.chain(u,c,h),s=h,i=1/i,o=[u,c,h]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);const a=new Me(n);return s.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),h4(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Cl.mixin(Qa);wh(t=>{t.transport=new Qa({context:t})});Th(t=>{t.transport.dispose()});class Lt extends Z{constructor(e){super(e),this.input=void 0,this._state=new rm("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=de,this._syncedStop=de,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new As({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Ae(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Z.getDefaults(),{mute:!1,onstop:de,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=Nn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")K(So(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(so(n,0)),i.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},s);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else i4(this.context),this._start(s,n,r);return this}stop(e){let n=Nn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||te(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(So(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=de,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class xo extends ko{constructor(){super(R(xo.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=R(xo.getDefaults(),arguments,["url","onload"]);Cs(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ue({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new pe(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ko.getDefaults(),{url:new pe,loop:!1,loopEnd:0,loopStart:0,onload:de,onerror:de,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){K(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),this.loop?n=so(n,this.loopStart):n=so(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;Lf(o,a)&&(o=(o-l)%u+l),Un(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,hc(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),te(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Ka extends Lt{constructor(){super(R(Ka.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=R(Ka.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Lt.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(K(e in n2,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=n2[this._type];this._source=new xo({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Ni=44100*5,md=2,wr={brown:null,pink:null,white:null},n2={get brown(){if(!wr.brown){const t=[];for(let e=0;e<md;e++){const n=new Float32Array(Ni);t[e]=n;let r=0;for(let s=0;s<Ni;s++){const i=Math.random()*2-1;n[s]=(r+.02*i)/1.02,r=n[s],n[s]*=3.5}}wr.brown=new pe().fromArray(t)}return wr.brown},get pink(){if(!wr.pink){const t=[];for(let e=0;e<md;e++){const n=new Float32Array(Ni);t[e]=n;let r,s,i,o,a,l,u;r=s=i=o=a=l=u=0;for(let c=0;c<Ni;c++){const h=Math.random()*2-1;r=.99886*r+h*.0555179,s=.99332*s+h*.0750759,i=.969*i+h*.153852,o=.8665*o+h*.3104856,a=.55*a+h*.5329522,l=-.7616*l-h*.016898,n[c]=r+s+i+o+a+l+u+h*.5362,n[c]*=.11,u=h*.115926}}wr.pink=new pe().fromArray(t)}return wr.pink},get white(){if(!wr.white){const t=[];for(let e=0;e<md;e++){const n=new Float32Array(Ni);t[e]=n;for(let r=0;r<Ni;r++)n[r]=Math.random()*2-1}wr.white=new pe().fromArray(t)}return wr.white}};function Si(t,e){return Qe(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new Sh(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class vc extends ko{constructor(){super(R(vc.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=R(vc.getDefaults(),arguments,["frequency","type"]);Cs(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new ue({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new ue({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Ae(this,["frequency","detune"])}static getDefaults(){return Object.assign(ko.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Xe extends Lt{constructor(){super(R(Xe.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=R(Xe.getDefaults(),arguments,["frequency","type"]);this.frequency=new st({context:this.context,units:"frequency",value:e.frequency}),Ae(this,"frequency"),this.detune=new st({context:this.context,units:"cents",value:e.detune}),Ae(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Lt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new vc({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Xe._periodicWaveCache.find(n=>n.phase===this._phase&&aC(n.partials,this._partials));{const e=Xe._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(te(r)){const{partials:s,wave:i}=r;this._wave=i,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(s,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Xe._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),Xe._periodicWaveCache.length>100&&Xe._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){pr(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((i,o)=>s[o]=i),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const i=new Float32Array(s),o=new Float32Array(s);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,s=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),s=a):this._partialCount=0,this._partials=[]}for(let l=1;l<s;++l){const u=2/(l*Math.PI);let c;switch(e){case"sine":c=l<=a?1:0,this._partials[l-1]=c;break;case"square":c=l&1?2*u:0,this._partials[l-1]=c;break;case"sawtooth":c=u*(l&1?1:-1),this._partials[l-1]=c;break;case"triangle":l&1?c=2*(u*u)*(l-1>>1&1?-1:1):c=0,this._partials[l-1]=c;break;case"custom":c=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(i[l]=-c*Math.sin(n*l),o[l]=c*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,r){let s=0;const i=e.length;for(let o=0;o<i;o++)s+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,i=32;for(let o=0;o<i;o++)r=Math.max(this._inverseFFT(e,n,o/i*s),r);return uC(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return Qe(this,void 0,void 0,function*(){return Si(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Xe._periodicWaveCache=[];class CC extends fi{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new pi({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class mi extends st{constructor(){super(Object.assign(R(mi.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=R(mi.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Me({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(st.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Za extends Lt{constructor(){super(R(Za.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new CC({context:this.context}),this._modulationNode=new Me({context:this.context});const e=R(Za.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Xe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Xe({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new mi({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ae(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Xe.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Qe(this,void 0,void 0,function*(){return Si(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ja extends Lt{constructor(){super(R(Ja.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Me({context:this.context,gain:0});const e=R(Ja.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Xe({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new st({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Xe({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new mi({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new mi({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ae(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Xe.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Qe(this,void 0,void 0,function*(){return Si(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Eo extends Lt{constructor(){super(R(Eo.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Me({context:this.context,gain:0}),this._thresh=new pi({context:this.context,mapping:n=>n<=0?-1:1});const e=R(Eo.getDefaults(),arguments,["frequency","width"]);this.width=new st({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Xe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ae(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Lt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return Qe(this,void 0,void 0,function*(){return Si(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class el extends Lt{constructor(){super(R(el.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=R(el.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new st({context:this.context,units:"frequency",value:e.frequency}),this.detune=new st({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Ae(this,["frequency","detune"])}static getDefaults(){return Object.assign(Xe.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(pr(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new Xe({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):de});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return Qe(this,void 0,void 0,function*(){return Si(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class tl extends Lt{constructor(){super(R(tl.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new mi({context:this.context,value:2});const e=R(tl.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Eo({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Xe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ae(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Lt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return Qe(this,void 0,void 0,function*(){return Si(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const r2={am:Za,fat:el,fm:Ja,oscillator:Xe,pulse:Eo,pwm:tl};class nl extends Lt{constructor(){super(R(nl.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=R(nl.getDefaults(),arguments,["frequency","type"]);this.frequency=new st({context:this.context,units:"frequency",value:e.frequency}),this.detune=new st({context:this.context,units:"cents",value:e.detune}),Ae(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Xe.getDefaults(),Ja.getDefaults(),Za.getDefaults(),el.getDefaults(),Eo.getDefaults(),tl.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=r2[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof r2[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Es(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Es(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Vr(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return Qe(this,void 0,void 0,function*(){return Si(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function g4(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){pr(i,t,e),n.set(this,i)}})}}function qr(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){pr(this.toSeconds(i),t,e),n.set(this,i)}})}}class rl extends Lt{constructor(){super(R(rl.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=R(rl.getDefaults(),arguments,["url","onload"]);this._buffer=new pe({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Lt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:de,onerror:de,playbackRate:1,reverse:!1})}load(e){return Qe(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=de){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=so(n,this._loopStart):n=so(n,0);const s=this.toSeconds(n),i=r;r=so(r,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new xo({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Nn(i)?a.start(e,s):a.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&pr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&pr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}tr([qr(0)],rl.prototype,"fadeIn",void 0);tr([qr(0)],rl.prototype,"fadeOut",void 0);class AC extends fi{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new pi({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ur extends Z{constructor(){super(R(Ur.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new st({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=R(Ur.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Z.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Vr(e))return e;{let r;for(r in Jl)if(Jl[r][n]===e)return r;return e}}_setCurve(e,n,r){if(Vr(r)&&Reflect.has(Jl,r)){const s=Jl[r];ti(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(cn(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/s;s=(1-o)/a}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,s,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+s;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(K(cn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return sm(this,e,n,r),this}asArray(e=1024){return Qe(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,r=new Sh(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(s+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}tr([qr(0)],Ur.prototype,"attack",void 0);tr([qr(0)],Ur.prototype,"decay",void 0);tr([g4(0,1)],Ur.prototype,"sustain",void 0);tr([qr(0)],Ur.prototype,"release",void 0);const Jl=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[],i=6.4;for(e=0;e<127;e++){n=e/127;const d=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;s[e]=d/10+n*.83}s[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/127;const d=Math.pow(n,3)*4+.2,m=Math.cos(d*Math.PI*2*n);u[e]=Math.abs(m*(1-n))}function c(d){const m=new Array(d.length);for(let p=0;p<d.length;p++)m[p]=1-d[p];return m}function h(d){return d.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:r,Out:h(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:c(s)},sine:{In:l,Out:c(l)},step:{In:o,Out:c(o)}}})();class jr extends Z{constructor(){super(R(jr.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n);const e=R(jr.getDefaults(),arguments);this._volume=this.output=new As({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Ae(this,"volume")}static getDefaults(){return Object.assign(Z.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const i=s[n],o=this.context.transport.schedule(a=>{s[n]=a,r.apply(this,s)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Os extends jr{constructor(){super(R(Os.getDefaults(),arguments));const e=R(Os.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(jr.getDefaults(),{detune:0,onsilence:de,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof an?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}tr([qr(0)],Os.prototype,"portamento",void 0);class am extends Ur{constructor(){super(R(am.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Me({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class gi extends Os{constructor(){super(R(gi.getDefaults(),arguments)),this.name="Synth";const e=R(gi.getDefaults(),arguments);this.oscillator=new nl(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new am(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Ae(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Os.getDefaults(),{envelope:Object.assign(Ff(Ur.getDefaults(),Object.keys(Z.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ff(nl.getDefaults(),[...Object.keys(Lt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class sl extends gi{constructor(){super(R(sl.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=R(sl.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Ae(this,["oscillator","envelope"])}static getDefaults(){return ri(Os.getDefaults(),gi.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof an?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}tr([g4(0)],sl.prototype,"octaves",void 0);tr([qr(0)],sl.prototype,"pitchDecay",void 0);const _4=new Set;function lm(t){_4.add(t)}function y4(t,e){const n=`registerProcessor("${t}", ${e})`;_4.add(n)}const NC=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;lm(NC);const OC=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;lm(OC);const IC=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;lm(IC);const MC="feedback-comb-filter",RC=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;y4(MC,RC);class wc extends jr{constructor(){super(R(wc.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=s=>this.releaseAll(s);const e=R(wc.getDefaults(),arguments,["voice","options"]);K(!Es(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(jr.getDefaults(),{maxPolyphony:32,options:{},voice:gi})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return K(e instanceof Os,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else vh("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,r){e.forEach(s=>{const i=new gc(this.context,s).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(s,n,r),this._activeVoices.push({midi:i,voice:o,released:!1}),this.log("triggerAttack",s,n))})}_triggerRelease(e,n){e.forEach(r=>{const s=new gc(this.context,r).toMidi(),i=this._activeVoices.find(({midi:o,released:a})=>o===s&&!a);i&&(i.voice.triggerRelease(n),i.released=!0,this.log("triggerRelease",r,n))})}_scheduleEvent(e,n,r,s){K(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(n,r,s):this._triggerRelease(n,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,r,s)},r-this.now())}triggerAttack(e,n,r){Array.isArray(e)||(e=[e]);const s=this.toSeconds(n);return this._scheduleEvent("attack",e,s,r),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r);if(this.triggerAttack(e,i,s),cn(n)){K(cn(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=n[Math.min(o,n.length-1)],l=this.toSeconds(a);K(l>0,"The duration must be greater than 0"),this.triggerRelease(e[o],i+l)}}else{const o=this.toSeconds(n);K(o>0,"The duration must be greater than 0"),this.triggerRelease(e,i+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=Ff(e,["onsilence","context"]);return this.options=ri(this.options,n),this._voices.forEach(r=>r.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class il extends jr{constructor(){super(R(il.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=R(il.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(K(Zl(r)||Es(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),Zl(r)){const i=new an(this.context,r).toMidi();n[i]=e.urls[r]}else Es(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new im({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(jr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:de,onerror:de,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=p4(new an(this.context,s).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),u=o-l,c=this._buffers.get(u),h=f4(l+a),d=new xo({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(n,0,c.duration/h,r),cn(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const m=this._activeSources.get(o),p=m.indexOf(d);p!==-1&&m.splice(p,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new an(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),cn(n)?(K(cn(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(K(Zl(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Zl(e)){const s=new an(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}tr([qr(0)],il.prototype,"attack",void 0);tr([qr(0)],il.prototype,"release",void 0);class Tc extends Z{constructor(){super(Object.assign(R(Tc.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new AC({context:this.context}),this.a=new Me({context:this.context,gain:0}),this.b=new Me({context:this.context,gain:0}),this.output=new Me({context:this.context}),this._internalChannels=[this.a,this.b];const e=R(Tc.getDefaults(),arguments,["fade"]);this.fade=new st({context:this.context,units:"normalRange",value:e.fade}),Ae(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Cs(this._split,this.a.gain,0),Cs(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(Z.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class s2 extends Z{constructor(e){super(e),this.name="Effect",this._dryWet=new Tc({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Me({context:this.context}),this.effectReturn=new Me({context:this.context}),this.input=new Me({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ae(this,"wet")}static getDefaults(){return Object.assign(Z.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class ol extends Z{constructor(){super(Object.assign(R(ol.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=R(ol.getDefaults(),arguments,["pan"]);this.pan=new ue({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Ae(this,"pan")}static getDefaults(){return Object.assign(Z.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const DC="bit-crusher",bC=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;y4(DC,bC);class Sc extends Z{constructor(){super(R(Sc.getDefaults(),arguments,["channels"])),this.name="Merge";const e=R(Sc.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(Z.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class kc extends s2{constructor(){super(R(kc.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=R(kc.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(s2.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),pr(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),pr(e,0),this._preDelay=e,this.generate()}generate(){return Qe(this,void 0,void 0,function*(){const e=this.ready,n=new Sh(2,this._decay+this._preDelay,this.context.sampleRate),r=new Ka({context:n}),s=new Ka({context:n}),i=new Sc({context:n});r.connect(i,0,0),s.connect(i,0,1);const o=new Me({context:n}).toDestination();i.connect(o),r.start(0),s.start(0),o.gain.setValueAtTime(0,0),o.gain.setValueAtTime(1,this._preDelay),o.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const a=n.render();return this.ready=a.then(de),yield e,this._convolver.buffer=(yield a).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class qe extends Z{constructor(){super(R(qe.getDefaults(),arguments,["solo"])),this.name="Solo";const e=R(qe.getDefaults(),arguments,["solo"]);this.input=this.output=new Me({context:this.context}),qe._allSolos.has(this.context)||qe._allSolos.set(this.context,new Set),qe._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Z.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),qe._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){qe._soloed.has(this.context)||qe._soloed.set(this.context,new Set),qe._soloed.get(this.context).add(this)}_removeSolo(){qe._soloed.has(this.context)&&qe._soloed.get(this.context).delete(this)}_isSoloed(){return qe._soloed.has(this.context)&&qe._soloed.get(this.context).has(this)}_noSolos(){return!qe._soloed.has(this.context)||qe._soloed.has(this.context)&&qe._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),qe._allSolos.get(this.context).delete(this),this._removeSolo(),this}}qe._allSolos=new Map;qe._soloed=new Map;class xc extends Z{constructor(){super(R(xc.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=R(xc.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new ol({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new As({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Ae(this,["pan","volume"])}static getDefaults(){return Object.assign(Z.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ws extends Z{constructor(){super(R(Ws.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=R(Ws.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new qe({solo:e.solo,context:this.context}),this._panVol=this.output=new xc({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ae(this,["pan","volume"])}static getDefaults(){return Object.assign(Z.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Ws.buses.has(e)||Ws.buses.set(e,new Me({context:this.context})),Ws.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new Me({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ws.buses=new Map;class PC extends Z{constructor(){super(...arguments),this.name="Listener",this.positionX=new ue({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ue({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ue({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ue({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ue({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ue({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ue({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ue({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ue({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Z.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}wh(t=>{t.listener=new PC({context:t})});Th(t=>{t.listener.dispose()});class Ec extends Z{constructor(){super(R(Ec.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const e=R(Ec.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new ue({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new ue({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new ue({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new ue({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new ue({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),Ae(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(Z.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}Bn().transport;Bn().destination;Bn().destination;Bn().listener;Bn().draw;const FC=Bn(),Oi={FINGER_INSTRUMENTS:{thumb:{type:"synth",options:{oscillator:{type:"sine",volume:15,partials:[1,.5,.3]},envelope:{attack:.02,decay:.1,sustain:.8,release:.3}}},index:{type:"synth",options:{oscillator:{type:"sine",volume:15,partials:[1,.6,.2]},envelope:{attack:.02,decay:.1,sustain:.8,release:.3}}},middle:{type:"synth",options:{oscillator:{type:"sine",volume:15,partials:[1,.4,.3]},envelope:{attack:.02,decay:.1,sustain:.8,release:.3}}},ring:{type:"synth",options:{oscillator:{type:"sine",volume:15,partials:[1,.3,.4]},envelope:{attack:.02,decay:.1,sustain:.8,release:.3}}},pinky:{type:"synth",options:{oscillator:{type:"sine",volume:15,partials:[1,.5,.2]},envelope:{attack:.02,decay:.1,sustain:.8,release:.3}}}},FINGER_NOTES:{thumb:"C4",index:"E4",middle:"G4",ring:"B4",pinky:"D5"},VOLUME:{min:-20,max:15,default:0}};function LC(){const t=new kc({decay:1.5,wet:.2}).toDestination(),e=new Ec({threshold:-15,ratio:3,attack:.02,release:.1}).connect(t),n=new As(0).connect(e);return{masterVolume:n,masterCompressor:e,masterReverb:t,async initialize(){await t.generate()},setVolume(r){n.volume.rampTo(r,.1)},dispose(){n.dispose(),e.dispose(),t.dispose()}}}function VC(t,e,n){const r=new wc(gi,{oscillator:{type:"sine",volume:t.options.oscillator.volume,partials:t.options.oscillator.partials},envelope:{...t.options.envelope,attackCurve:"exponential",releaseCurve:"exponential"}}),s=new ol(Math.max(-1,Math.min(1,e))).connect(n);return r.connect(s),r}class Xi{constructor(){this.isInitialized=!1,this.synths=new Map,this.activeNotes=new Set,this.audioChain=LC(),this.setupSynths()}setupSynths(){["thumb","index","middle","ring","pinky"].forEach((n,r)=>{const s=Oi.FINGER_INSTRUMENTS[n],i=(r-2)*.2,o=VC(s,i,this.audioChain.masterVolume);this.synths.set(n,o)})}static getInstance(){return Xi.instance||(Xi.instance=new Xi),Xi.instance}async initialize(){if(!this.isInitialized)try{await pC(),FC.lookAhead=0,await this.audioChain.initialize(),this.isInitialized=!0,this.setVolume(.8)}catch{throw new oS("Failed to initialize audio system")}}setVolume(e){const n=Oi.VOLUME.min+(Oi.VOLUME.max-Oi.VOLUME.min)*e;this.audioChain.setVolume(n)}playFingerNote(e){if(!this.isInitialized)return;const n=this.synths.get(e),r=Oi.FINGER_NOTES[e];if(!(!n||!r||this.activeNotes.has(r)))try{const s=Math.random()*4-2;n.triggerAttack(r,void 0,.8+Math.random()*.2),n.set({detune:s}),this.activeNotes.add(r)}catch(s){console.error("Error playing note:",s)}}releaseFingerNote(e){if(!this.isInitialized)return;const n=this.synths.get(e),r=Oi.FINGER_NOTES[e];if(!(!n||!r))try{n.triggerRelease(r),this.activeNotes.delete(r)}catch(s){console.error("Error releasing note:",s)}}stopAll(){this.isInitialized&&(this.synths.forEach(e=>{try{e.releaseAll()}catch(n){console.error("Error stopping synth:",n)}}),this.activeNotes.clear())}dispose(){this.stopAll(),this.synths.forEach(e=>e.dispose()),this.audioChain.dispose(),this.isInitialized=!1}}const Mt=Xi.getInstance(),UC=t=>{const[e,n]=ce.useState(null),[r,s]=ce.useState(null),i=ce.useRef(!1),o=ce.useRef(null);ce.useEffect(()=>(Mt.initialize().catch(console.error),()=>Mt.stopAll()),[]);const a=ce.useCallback(async()=>{if(!(!t.current||i.current||!t.current.readyState)){i.current=!0;try{const l=await zk(t.current);l.error?(s(l.error),n(null),Mt.stopAll()):(s(null),n(l.gesture),l.gesture?(Mt.setVolume(1-l.gesture.position.y),Object.entries(l.gesture.fingers).forEach(([u,c])=>{var d;const h=(d=o.current)==null?void 0:d.fingers[u];c!==h&&(c&&!l.gesture.isClosed?Mt.playFingerNote(u):Mt.releaseFingerNote(u))}),(l.gesture.isClosed||!l.gesture.isRaised)&&Mt.stopAll(),o.current=l.gesture):(Mt.stopAll(),o.current=null))}catch(l){s(l instanceof Error?l:new Error("Detection failed")),n(null),Mt.stopAll()}finally{i.current=!1}}},[t]);return{gesture:e,error:r,processFrame:a}},jC=t=>{const e=ce.useRef(null),n=ce.useRef(!1),r=ce.useRef(null),s=ce.useCallback(async()=>{if(!n.current)try{await Mt.initialize(),n.current=!0}catch(i){console.error("Failed to initialize audio:",i)}},[]);ce.useEffect(()=>(s(),()=>{Mt.stopAll(),n.current=!1,r.current&&clearTimeout(r.current)}),[s]),ce.useEffect(()=>{if(n.current){if(!t||!t.isRaised){Mt.stopAll(),e.current=null;return}r.current&&(clearTimeout(r.current),r.current=null);try{Mt.setVolume(1-t.position.y),Object.entries(t.fingers).forEach(([i,o])=>{var l;const a=(l=e.current)==null?void 0:l.fingers[i];o!==a&&(o&&!t.isClosed?Mt.playFingerNote(i):Mt.releaseFingerNote(i))}),e.current=t}catch(i){console.error("Error processing audio gesture:",i)}}},[t])},BC=t=>{const e=ce.useRef(),n=ce.useRef(),r=ce.useRef(!1),s=ce.useCallback(async i=>{if(n.current!==void 0&&!r.current){r.current=!0;try{await t()}finally{r.current=!1}}n.current=i,e.current=requestAnimationFrame(s)},[t]);ce.useEffect(()=>(e.current=requestAnimationFrame(s),()=>{e.current&&cancelAnimationFrame(e.current)}),[s])};function $C(){const t=ce.useRef(null),{gesture:e,error:n,processFrame:r}=UC(t);return jC(e),BC(r),j.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-black text-white",children:[j.jsx(fS,{}),j.jsx("main",{className:"container mx-auto px-4 py-8",children:j.jsxs("div",{className:"relative",children:[j.jsx(uS,{videoRef:t}),j.jsx(dS,{gesture:e,error:n})]})})]})}_y(document.getElementById("root")).render(j.jsx(ce.StrictMode,{children:j.jsx($C,{})}));
